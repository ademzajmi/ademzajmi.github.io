webpackJsonp(["main"],{

/***/ "./node_modules/moment/locale recursive ^\\.\\/.*$":
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};
function webpackContext(req) {
	return __webpack_require__(webpackContextResolve(req));
};
function webpackContextResolve(req) {
	var id = map[req];
	if(!(id + 1)) // check for number or string
		throw new Error("Cannot find module '" + req + "'.");
	return id;
};
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale recursive ^\\.\\/.*$";

/***/ }),

/***/ "./src/$$_lazy_route_resource lazy recursive":
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncatched exception popping up in devtools
	return Promise.resolve().then(function() {
		throw new Error("Cannot find module '" + req + "'.");
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "./src/app/advance-debt/advance-debt.component.css":
/***/ (function(module, exports) {

module.exports = "\n.filters-wrapper {\n    width: 100vw;\n    max-width: 100%;\n    overflow: hidden;\n    overflow-x: auto;\n    white-space: nowrap;\n    margin-top: 12px;\n}\n  \n.filters-wrapper-item {\n    display: inline-block;\n    margin-bottom: 20px;\n    margin-right: 20px;\n    vertical-align: middle;\n}\n  \n::ng-deep #includeDebt .dx-checkbox-icon {\n    background: #ffb5b5;\n}\n  \n::ng-deep #includeDebtPayment .dx-checkbox-icon {\n    background: #81f783;\n}\n  \n::ng-deep #includeAdvance .dx-checkbox-icon {\n    background: #81a2f7;\n}\n  \n::ng-deep #includeAdvancePayment .dx-checkbox-icon {\n    background: #d681f7;\n}"

/***/ }),

/***/ "./src/app/advance-debt/advance-debt.component.html":
/***/ (function(module, exports) {

module.exports = "\n<div class=\"wrapper\">\n\n\n  <!-- <dx-date-box id=\"datepicker\" [(value)]=\"date\" (onValueChanged)=\"onDateChange($event)\" type=\"date\" displayFormat=\"dd/MM/yyyy\">\n  </dx-date-box> -->\n\n<div class=\"filters-wrapper\">\n  <div class=\"filters-wrapper-item\">\n    <h4 style=\"margin: 5px;\">Start Date</h4>\n    <dx-date-box \n      [(max)]=\"endValue\"\n      [(value)]=\"startValue\"\n      (onValueChanged)=\"onDateChange($event, 'startValue')\" >\n    </dx-date-box>\n  </div>\n  <div class=\"filters-wrapper-item\">\n    <h4 style=\"margin: 5px;\">End Date</h4>\n    <dx-date-box \n      [(min)]=\"startValue\"\n      [(value)]=\"endValue\"\n      (onValueChanged)=\"onDateChange($event, 'endValue')\" >\n    </dx-date-box>\n  </div>  \n \n  <div id=\"includeDebt\" class=\"filters-wrapper-item\">\n    <h4 style=\"margin: 5px;\">Include Debt</h4>\n    <dx-check-box (onValueChanged)=\"onCheckboxFilterChange($event, 'includeDebt')\" [value]=\"includeDebt\"></dx-check-box>\n  </div>\n\n  <div id=\"includeDebtPayment\" class=\"filters-wrapper-item\">\n    <h4 style=\"margin: 5px;\">Include Debt Payment</h4>\n    <dx-check-box (onValueChanged)=\"onCheckboxFilterChange($event, 'includeDebtPayment')\" [value]=\"includeDebtPayment\"></dx-check-box>\n  </div>\n\n  <div id=\"includeAdvance\" class=\"filters-wrapper-item\">\n    <h4 style=\"margin: 5px;\">Include Advance</h4>\n    <dx-check-box (onValueChanged)=\"onCheckboxFilterChange($event, 'includeAdvance')\" [value]=\"includeAdvance\"></dx-check-box>\n  </div>\n\n  <div id=\"includeAdvancePayment\" class=\"filters-wrapper-item\">\n    <h4 style=\"margin: 5px;\">Include Advance Payment</h4>\n    <dx-check-box (onValueChanged)=\"onCheckboxFilterChange($event, 'includeAdvancePayment')\" [value]=\"includeAdvancePayment\"></dx-check-box>\n  </div>\n\n</div>\n  \n<dx-data-grid id=\"gridContainer\" [showBorders]=\"true\" [dataSource]=\"dailyReportList\"  [columnAutoWidth]=\"true\" (onRowPrepared)=\"onRowPrepared($event)\">\n    <dxo-filter-row \n    [visible]=\"true\" \n    [applyFilter]=\"'auto'\"></dxo-filter-row>\n\n    <dxo-paging [pageSize]=\"20\"></dxo-paging>\n    <dxo-sorting mode=\"none\"></dxo-sorting>\n    <dxi-column dataField=\"Doctor\"></dxi-column>\n    <dxi-column dataField=\"Customer\"></dxi-column>\n    <dxi-column dataField=\"Operation\"></dxi-column>\n    <dxi-column dataField=\"SaleAmount\"><dxo-format type=\"fixedPoint\" [precision]=\"2\"></dxo-format></dxi-column>\n    <dxi-column dataField=\"CollectedPrice\"><dxo-format type=\"fixedPoint\" [precision]=\"2\"></dxo-format></dxi-column>\n    <dxi-column dataField=\"AdvanceInfo\"><dxo-format type=\"fixedPoint\" [precision]=\"2\"></dxo-format></dxi-column>\n    <dxi-column dataField=\"DebtInfo\"><dxo-format type=\"fixedPoint\" [precision]=\"2\"></dxo-format></dxi-column>\n\n    <dxo-summary>\n      <dxi-total-item column=\"SaleAmount\" summaryType=\"sum\"></dxi-total-item>\n      <dxi-total-item column=\"CollectedPrice\" summaryType=\"sum\"></dxi-total-item>\n      <dxi-total-item column=\"AdvanceInfo\" summaryType=\"sum\"></dxi-total-item>\n      <dxi-total-item column=\"DebtInfo\" summaryType=\"sum\"></dxi-total-item>\n    </dxo-summary>\n\n </dx-data-grid>\n\n    \n  \n  <!-- <dx-button text=\"Change Payment Date\" type=\"default\" (onClick)=\"popupVisible = !popupVisible\" [disabled]=\"disablePaymentDateBtn()\"></dx-button> -->\n  \n</div>\n"

/***/ }),

/***/ "./src/app/advance-debt/advance-debt.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AdvanceDebtComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__reports_reports_service__ = __webpack_require__("./src/app/reports/reports.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_moment__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var AdvanceDebtComponent = (function () {
    function AdvanceDebtComponent(_reportsService) {
        this._reportsService = _reportsService;
        this.dailyReportList = [];
        this.showFilterRow = true;
        this.currentFilter = 'auto';
        this.startValue = new Date(__WEBPACK_IMPORTED_MODULE_2_moment__().subtract(3, "month").format('MM/DD/YYYY'));
        this.endValue = new Date();
        this.includeDebt = true;
        this.includeDebtPayment = false;
        this.includeAdvance = false;
        this.includeAdvancePayment = false;
        this.isLoading = false;
    }
    AdvanceDebtComponent.prototype.ngOnInit = function () {
        this.getAdvanceDebtReports();
    };
    AdvanceDebtComponent.prototype.getAdvanceDebtReports = function () {
        var _this = this;
        var params = {
            DateFrom: __WEBPACK_IMPORTED_MODULE_2_moment__(this.startValue).format('MM/DD/YYYY'),
            DateTo: __WEBPACK_IMPORTED_MODULE_2_moment__(this.endValue).format('MM/DD/YYYY'),
            IncludeDebt: this.includeDebt,
            IncludeDebtPayment: this.includeDebtPayment,
            IncludeAdvance: this.includeAdvance,
            IncludeAdvancePayment: this.includeAdvancePayment,
        };
        this.isLoading = true;
        this._reportsService.getUnordinaryPayments(params).subscribe(function (response) {
            _this.isLoading = false;
            var res = response;
            _this.dailyReportList = res.map(function (item) {
                var obj = {
                    Id: item['id'],
                    Doctor: item['doctor'],
                    Customer: item['customer'],
                    Operation: item['operation'],
                    CollectedPrice: item['collectedPrice'],
                    AdvanceInfo: item['advanceInfo'] && item['advanceInfo'].trim() ? +item['advanceInfo'] : '',
                    DebtInfo: item['debtInfo'] && item['debtInfo'].trim() ? +item['debtInfo'] : '',
                    Type: item['type'],
                    DebtDetailID: item['debtDetailID'],
                    SaleAmount: item['saleAmount']
                };
                return obj;
            });
        }, function () { return _this.isLoading = false; });
    };
    AdvanceDebtComponent.prototype.onCheckboxFilterChange = function (e, type) {
        this[type] = e.value;
        this.getAdvanceDebtReports();
    };
    AdvanceDebtComponent.prototype.onDateChange = function (e, type) {
        this[type] = new Date(e.value);
        this.getAdvanceDebtReports();
    };
    AdvanceDebtComponent.prototype.onRowPrepared = function (e) {
        if (e.rowType == 'data') {
            switch (e.data.Type) {
                case 1:
                    e.rowElement.style.backgroundColor = '#ffb5b5';
                    break;
                case 2:
                    e.rowElement.style.backgroundColor = '#81f783';
                    break;
                case 3:
                    e.rowElement.style.backgroundColor = '#81a2f7';
                    break;
                case 4:
                    e.rowElement.style.backgroundColor = '#d681f7';
                    break;
            }
            e.rowElement.className = e.rowElement.className.replace("dx-row-alt", "");
        }
    };
    AdvanceDebtComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-advance-debt',
            template: __webpack_require__("./src/app/advance-debt/advance-debt.component.html"),
            styles: [__webpack_require__("./src/app/advance-debt/advance-debt.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__reports_reports_service__["a" /* ReportsService */]])
    ], AdvanceDebtComponent);
    return AdvanceDebtComponent;
}());



/***/ }),

/***/ "./src/app/anamneza/anamneza.component.css":
/***/ (function(module, exports) {

module.exports = "::ng-deep form {\n    margin: 10px;\n}\n\n::ng-deep .long-title h3 {\n    font-family: 'Segoe UI Light', 'Helvetica Neue Light', 'Segoe UI', 'Helvetica Neue', 'Trebuchet MS', Verdana;\n    font-weight: 200;\n    font-size: 28px;\n    text-align: center;\n    margin-bottom: 20px;\n}"

/***/ }),

/***/ "./src/app/anamneza/anamneza.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"long-title\">\n    <h3>Anamnezi i Pacientit</h3>\n</div>\n<form action=\"your-action\" (submit)=\"onFormSubmit($event)\">\n    <dx-form id=\"form\" [formData]=\"customer\" [readOnly]=\"false\" [showColonAfterLabel]=\"true\" [showValidationSummary]=\"true\" validationGroup=\"customerData\"\n        labelLocation=\"top\" [minColWidth]=\"233\" [colCountByScreen]=\"colCountByScreen\">\n\n        <dxi-item itemType=\"group\" [colCount]=\"5\" caption=\"Te Dhenat e Pacientit\">\n            <dxi-item dataField=\"CustomerNo\" \n            [editorOptions]=\"{ value: customer.customerNo, readOnly: true }\">\n            <dxo-label text=\"Customer No\"></dxo-label>\n            </dxi-item>\n            <dxi-item dataField=\"Firstname\" \n            [editorOptions]=\"{ value: customer.firstname + ' ' + customer.lastname, readOnly: true }\">\n            <dxo-label text=\"Emri dhe Mbiemri i Pacientit\"></dxo-label>\n            </dxi-item>\n            <dxi-item dataField=\"Birthdate\"  \n            [editorOptions]=\"{ value:customer.birthdate, readOnly: true }\">\n            <dxo-label text=\"Data e Lindjes\"></dxo-label>\n            </dxi-item>\n            <dxi-item dataField=\"Gender\" editorType=\"dxRadioGroup\" \n            [editorOptions]=\"{ dataSource: genderItems, layout: 'horizontal', value: customer.gender === 'M' ? 'Mashkull' : 'Femer', readOnly: true }\">\n            <dxo-label text=\"Gjinia\"></dxo-label>\n            </dxi-item>\n            <dxi-item dataField=\"MaritalStatus\" editorType=\"dxRadioGroup\" \n            [editorOptions]=\"{ dataSource: statusItems, layout: 'horizontal', value: customer.maritalStatus === true ? 'martuar' : customer.maritalStatus === false ? 'pamartuar' : '' }\">\n            <dxo-label text=\"Statusi Martesor\"></dxo-label>\n            </dxi-item>\n            <dxi-item dataField=\"Profession\" \n            [editorOptions]=\"{ value: customer.profession }\" >\n            <dxo-label text=\"Profesioni\"></dxo-label>\n            </dxi-item>\n            <dxi-item dataField=\"EducationStatus\" \n            [editorOptions]=\"{ value: customer.educationStatus }\" >\n            <dxo-label text=\"Statusi Shkollor\"></dxo-label>\n            </dxi-item>\n            <dxi-item dataField=\"Adress\" \n            [editorOptions]=\"{ value: customer.adress }\" >\n            <dxo-label text=\"Adresa E shtepise\"></dxo-label>\n            </dxi-item>\n            <dxi-item dataField=\"City\" \n            [editorOptions]=\"{ value: customer.city }\" >\n            <dxo-label text=\"Qyteti\"></dxo-label>\n            </dxi-item>\n            <dxi-item dataField=\"PostalCode\" \n            [editorOptions]=\"{ value: customer.postalCode }\" >\n            <dxo-label text=\"Kodi i Postes\"></dxo-label>\n            </dxi-item>\n            <dxi-item dataField=\"MobileTel\" \n            [editorOptions]=\"{ value: customer.mobileTel }\" >\n            <dxo-label text=\"Tel. Mobil\"></dxo-label>\n            </dxi-item>\n            <dxi-item dataField=\"Tel\" \n            [editorOptions]=\"{ value: customer.tel }\" >\n            <dxo-label text=\"Tel. i shtepise\"></dxo-label>\n            </dxi-item>\n            <dxi-item dataField=\"Email\" \n            [editorOptions]=\"{ value: customer.email }\" >\n            <dxo-label text=\"E-mail\"></dxo-label>\n            </dxi-item>\n        </dxi-item>\n\n        <dxi-item itemType=\"group\" [colCount]=\"4\" caption=\"Te Dhenat e Anamnezit\">\n            <dxi-item dataField=\"\" editorType=\"dxRadioGroup\"\n            [editorOptions]=\"{ dataSource: boolQuest, layout: 'horizontal', value: questionData[0] }\">\n            <dxo-label text=\"A jeni duke ndjekur per moment ndonje proces terapik\"></dxo-label>\n            </dxi-item>\n            <dxi-item dataField=\"\" [editorOptions]=\"{ value: anamnezContentData[1].comment }\">\n            </dxi-item>\n            <dxi-item dataField=\"\" editorType=\"dxRadioGroup\" [editorOptions]=\"{ dataSource: boolQuest, layout: 'horizontal', value: questionData[1] }\">\n             <dxo-label text=\"A perdorni ilace vazhdimisht\"></dxo-label>\n            </dxi-item>\n            <dxi-item dataField=\"\"  [editorOptions]=\"{ value: anamnezContentData[2].comment }\">\n            </dxi-item>\n        </dxi-item>\n\n\n        <dxi-item itemType=\"group\" [colCount]=\"6\">\n            <dxo-label text=\"A keni ndonje semundje qe keni kaluar me heret apo qe eshte ende ne vazhdim?\">\n            </dxo-label>\n\n            <dxi-item dataField=\"\" editorType=\"dxCheckBox\" [editorOptions]=\"{ layout: 'horizontal', value: anamnezContentData[3].yes ? true : false }\">\n                <dxo-label text=\"Semundje e zemres\"></dxo-label>\n            </dxi-item>\n            <dxi-item dataField=\"\" editorType=\"dxCheckBox\" [editorOptions]=\"{ layout: 'horizontal', value: anamnezContentData[4].yes ? true : false }\">\n                <dxo-label text=\"Semundje e sheqerit\"></dxo-label>\n            </dxi-item>\n            <dxi-item dataField=\"\" editorType=\"dxCheckBox\" [editorOptions]=\"{ layout: 'horizontal', value: anamnezContentData[5].yes ? true : false }\">\n                <dxo-label text=\"Probleme me tension\"></dxo-label>\n            </dxi-item>\n            <dxi-item dataField=\"\" editorType=\"dxCheckBox\" [editorOptions]=\"{ layout: 'horizontal', value: anamnezContentData[6].yes ? true : false }\">\n                <dxo-label text=\"Epilepsi (SARA)\"></dxo-label>\n            </dxi-item>\n            <dxi-item dataField=\"\" editorType=\"dxCheckBox\" [editorOptions]=\"{ layout: 'horizontal', value: anamnezContentData[7].yes ? true : false }\">\n                <dxo-label text=\"Romatizem me zjarmi\"></dxo-label>\n            </dxi-item>\n            <dxi-item dataField=\"\" editorType=\"dxCheckBox\" [editorOptions]=\"{ layout: 'horizontal', value: anamnezContentData[8].yes ? true : false }\">\n                <dxo-label text=\"Romatizem e nderlidhjeve\"></dxo-label>\n            </dxi-item>\n            <dxi-item dataField=\"\" editorType=\"dxCheckBox\" [editorOptions]=\"{ layout: 'horizontal', value: anamnezContentData[9].yes ? true : false }\">\n                <dxo-label text=\"Guatr (Tiroid)\"></dxo-label>\n            </dxi-item>\n            <dxi-item dataField=\"\" editorType=\"dxCheckBox\" [editorOptions]=\"{ layout: 'horizontal', value: anamnezContentData[10].yes ? true : false }\">\n                <dxo-label text=\"Hepatit (Verdheza)\"></dxo-label>\n            </dxi-item>\n            <dxi-item dataField=\"\" editorType=\"dxCheckBox\" [editorOptions]=\"{ layout: 'horizontal', value: anamnezContentData[11].yes ? true : false }\">\n                <dxo-label text=\"Probleme me lukth\"></dxo-label>\n            </dxi-item>\n            <dxi-item dataField=\"\" editorType=\"dxCheckBox\" [editorOptions]=\"{ layout: 'horizontal', value: anamnezContentData[12].yes ? true : false }\">\n                <dxo-label text=\"Probleme me veshkeza\"></dxo-label>\n            </dxi-item>\n            <dxi-item dataField=\"\" editorType=\"dxCheckBox\" [editorOptions]=\"{ layout: 'horizontal', value: anamnezContentData[13].yes ? true : false }\">\n                <dxo-label text=\"Semundje e melqise\"></dxo-label>\n            </dxi-item>\n            <dxi-item dataField=\"\" editorType=\"dxCheckBox\" [editorOptions]=\"{ layout: 'horizontal', value: anamnezContentData[14].yes ? true : false }\">\n                <dxo-label text=\"Sinuse\"></dxo-label>\n            </dxi-item>\n\n        </dxi-item>\n\n        <dxi-item itemType=\"group\" [colCount]=\"4\">\n            <dxi-item dataField=\"\" editorType=\"dxRadioGroup\" [editorOptions]=\"{ dataSource: boolQuest, layout: 'horizontal',value: questionData[2] }\">\n                <dxo-label text=\"Perpos ketyre semundjeve a keni ndonje problem tjeter shendetesor?\"></dxo-label>\n            </dxi-item>\n            <dxi-item dataField=\"\"  [editorOptions]=\"{ value: anamnezContentData[15].comment }\">\n            </dxi-item>\n            <dxi-item dataField=\"\" editorType=\"dxRadioGroup\" [editorOptions]=\"{ dataSource: boolQuest, layout: 'horizontal', value: questionData[3]  }\">\n                <dxo-label text=\"A eshte aplikuar anestezia lokale brenda gojes?\"></dxo-label>\n            </dxi-item>\n            <dxi-item dataField=\"\"  [editorOptions]=\"{ value: anamnezContentData[16].comment }\">\n            </dxi-item>\n\n\n            <dxi-item dataField=\"\" editorType=\"dxRadioGroup\" [editorOptions]=\"{ dataSource: boolQuest, layout: 'horizontal',  value: questionData[4]  }\">\n                <dxo-label text=\"Gjate procesit te diagnostifikimit te dhembit, a ju ka paraqitur ndonje komplikacion ose reaksion alergjik?\"></dxo-label>\n            </dxi-item>\n            <dxi-item dataField=\"\" [editorOptions]=\"{ value: anamnezContentData[17].comment }\">\n            </dxi-item>\n            <dxi-item dataField=\"\" editorType=\"dxRadioGroup\" [editorOptions]=\"{ dataSource: boolQuest, layout: 'horizontal',  value: questionData[5]  }\">\n                <dxo-label text=\"A zgjat shume gjkderdhja pa procesit kirurgjik ose lendimit?\"></dxo-label>\n            </dxi-item>\n            <dxi-item dataField=\"\" [editorOptions]=\"{ value: anamnezContentData[18].comment }\">\n            </dxi-item>\n        </dxi-item>\n\n        <dxi-item itemType=\"group\" [colCount]=\"4\">\n            <dxi-item dataField=\"\" editorType=\"dxRadioGroup\" [editorOptions]=\"{ dataSource: boolQuest, layout: 'horizontal',  value: questionData[6]  }\">\n                <dxo-label text=\"A jeni shtatzene?\"></dxo-label>\n            </dxi-item>\n            <dxi-item dataField=\"\" editorType=\"dxRadioGroup\" [editorOptions]=\"{ dataSource: boolQuest, layout: 'horizontal',  value: questionData[7]  }\">\n                <dxo-label text=\"A keni vese kercellimin e dhembeve?\"></dxo-label>\n            </dxi-item>\n            <dxi-item dataField=\"\" editorType=\"dxRadioGroup\" [editorOptions]=\"{ dataSource: boolQuest, layout: 'horizontal',  value: questionData[8]  }\">\n                <dxo-label text=\"A keni gjakederdhje gjate larjes se dhembeve?\"></dxo-label>\n            </dxi-item>\n            <dxi-item dataField=\"\" [editorOptions]=\"{ value: anamnezContentData[21].comment }\">\n                <dxo-label text=\"Sa shpesh i lani dhembet?\"></dxo-label>\n            </dxi-item>\n        </dxi-item>\n\n        <dxi-item itemType=\"group\" [colCount]=\"2\">\n            <dxi-item dataField=\"\" editorType=\"dxRadioGroup\" [editorOptions]=\"{ dataSource: boolQuest, layout: 'horizontal',  value: questionData[9]  }\">\n                <dxo-label text=\"A përdorni duhan?\"></dxo-label>\n            </dxi-item>\n            <dxi-item dataField=\"\"  [editorOptions]=\"{ value: anamnezContentData[23].comment }\">\n                <dxo-label text=\"Cilat janë problemet e juaj me dhëmbë?\"></dxo-label>\n            </dxi-item>\n        </dxi-item>\n\n        <dxi-item itemType=\"button\" alignment=\"left\" [buttonOptions]=\"buttonOptions\">\n        </dxi-item>\n    </dx-form>\n</form>"

/***/ }),

/***/ "./src/app/anamneza/anamneza.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AnamnezaComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_devextreme_angular__ = __webpack_require__("./node_modules/devextreme-angular/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_devextreme_angular___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_devextreme_angular__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__anamneza_service__ = __webpack_require__("./src/app/anamneza/anamneza.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_devextreme_ui_notify__ = __webpack_require__("./node_modules/devextreme/ui/notify.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_devextreme_ui_notify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_devextreme_ui_notify__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var AnamnezSurveyList = (function () {
    function AnamnezSurveyList() {
        this.orderNo = 0;
        this.yes = false;
        this.no = false;
        this.comment = '';
    }
    return AnamnezSurveyList;
}());
var Customer = (function () {
    function Customer() {
    }
    return Customer;
}());
var AnamnezaComponent = (function () {
    function AnamnezaComponent(_anamnezaService, route, router) {
        var _this = this;
        this._anamnezaService = _anamnezaService;
        this.route = route;
        this.router = router;
        this.password = "";
        this.passwordOptions = {
            mode: "password",
            value: this.password
        };
        this.maxDate = new Date();
        this.cityPattern = "^[^0-9]+$";
        this.namePattern = /^[^0-9]+$/;
        this.phonePattern = /^\+\s*1\s*\(\s*[02-9]\d{2}\)\s*\d{3}\s*-\s*\d{4}$/;
        this.phoneRules = {
            X: /[02-9]/
        };
        this.buttonOptions = {
            text: "Register",
            type: "success",
            useSubmitBehavior: true
        };
        this.passwordComparison = function () {
            return _this.form.instance.option("formData").Password;
        };
        this.onFormSubmit = function (e) {
            var items = e.currentTarget;
            var field_1 = {
                orderNo: 1,
                yes: items[13].value === 'PO' ? true : false,
                no: items[13].value === 'JO' ? true : false,
                comment: items[14].value
            };
            var field_2 = {
                orderNo: 2,
                yes: items[15].value === 'PO' ? true : false,
                no: items[15].value === 'JO' ? true : false,
                comment: items[16].value
            };
            var field_3 = {
                orderNo: 3,
                yes: items[17].value === 'true',
                no: items[17].value === 'false',
                comment: ''
            };
            var field_4 = {
                orderNo: 4,
                yes: items[18].value === 'true',
                no: items[18].value === 'false',
                comment: ''
            };
            var field_5 = {
                orderNo: 5,
                yes: items[19].value === 'true',
                no: items[19].value === 'false',
                comment: ''
            };
            var field_6 = {
                orderNo: 6,
                yes: items[20].value === 'true',
                no: items[20].value === 'false',
                comment: ''
            };
            var field_7 = {
                orderNo: 7,
                yes: items[21].value === 'true',
                no: items[21].value === 'false',
                comment: ''
            };
            var field_8 = {
                orderNo: 8,
                yes: items[22].value === 'true',
                no: items[22].value === 'false',
                comment: ''
            };
            var field_9 = {
                orderNo: 9,
                yes: items[23].value === 'true',
                no: items[23].value === 'false',
                comment: ''
            };
            var field_10 = {
                orderNo: 10,
                yes: items[24].value === 'true',
                no: items[24].value === 'false',
                comment: ''
            };
            var field_11 = {
                orderNo: 11,
                yes: items[25].value === 'true',
                no: items[25].value === 'false',
                comment: ''
            };
            var field_12 = {
                orderNo: 12,
                yes: items[26].value === 'true',
                no: items[26].value === 'false',
                comment: ''
            };
            var field_13 = {
                orderNo: 13,
                yes: items[27].value === 'true',
                no: items[27].value === 'false',
                comment: ''
            };
            var field_14 = {
                orderNo: 14,
                yes: items[28].value === 'true',
                no: items[28].value === 'false',
                comment: ''
            };
            var field_15 = {
                orderNo: 15,
                yes: items[29].value === 'PO' ? true : false,
                no: items[29].value === 'JO' ? true : false,
                comment: items[30].value
            };
            var field_16 = {
                orderNo: 16,
                yes: items[31].value === 'PO' ? true : false,
                no: items[31].value === 'JO' ? true : false,
                comment: items[32].value
            };
            var field_17 = {
                orderNo: 17,
                yes: items[33].value === 'PO' ? true : false,
                no: items[33].value === 'JO' ? true : false,
                comment: items[34].value
            };
            var field_18 = {
                orderNo: 18,
                yes: items[35].value === 'PO' ? true : false,
                no: items[35].value === 'JO' ? true : false,
                comment: items[36].value
            };
            var field_19 = {
                orderNo: 19,
                yes: items[37].value === 'PO' ? true : false,
                no: items[37].value === 'JO' ? true : false,
                comment: ''
            };
            var field_20 = {
                orderNo: 20,
                yes: items[38].value === 'PO' ? true : false,
                no: items[38].value === 'JO' ? true : false,
                comment: ''
            };
            var field_21 = {
                orderNo: 21,
                yes: items[39].value === 'PO' ? true : false,
                no: items[39].value === 'JO' ? true : false,
                comment: items[40].value
            };
            var field_22 = {
                orderNo: 22,
                yes: items[41].value === 'PO' ? true : false,
                no: items[41].value === 'JO' ? true : false,
                comment: ''
            };
            var field_23 = {
                orderNo: 23,
                yes: false,
                no: false,
                comment: items[42].value
            };
            var ContentData = [];
            ContentData.push(field_1, field_2, field_3, field_4, field_5, field_6, field_7, field_8, field_9, field_10, field_11, field_12, field_13, field_14, field_15, field_16, field_17, field_18, field_19, field_20, field_21, field_22, field_23);
            // this.customer = new Customer();
            // delete this.customer.adress
            // delete this.customer.birthdate
            // delete this.customer.contentData
            // delete this.customer.customerNo
            // delete this.customer.email
            // delete this.customer.fLetter
            // delete this.customer.gender
            // delete this.customer.tel
            this.customer.CustomerId = this.customer.customerId;
            this.customer.LastName = this.customer.lastname;
            this.customer.FirstName = this.customer.firstname;
            this.customer.AnamnezSurveyList = ContentData;
            // delete this.customer.enteredOn;
            // delete this.customer.id;
            // delete this.customer.messL;
            // delete this.customer.personalId;
            // delete this.customer.lastname;
            // delete this.customer.firstname;
            // this.customer.contentData = ContentData;
            // let CustomerData = {
            //   CustomerNo: '',
            //   Firstname: '',
            //   Lastname: '',
            //   Tel: '',
            //   Gender: false,
            //   DateOfBirth: new Date(),
            //   Adress: '',
            //   Email: '',
            //   MaritalStatus: true,
            //   Profession: '',
            //   EducationStatus: '',
            //   MobileTel: '',
            //   PostalCode: '',
            //   City: '',
            //   CustomerId: 7,
            //   AnamnezSurveyList: ContentData
            // }
            // Id: number
            // CustomerNo: string;
            // Firstname: string;
            // Lastname: string;
            // Tel: string;
            // Gender: string;
            // Birthdate: string;
            // Adress: string;
            // MessL: string;
            // Email: string;
            // EnteredOn: string;
            // FLetter: string;
            // PersonalId: string;
            var CustomerData = {
                CustomerNo: this.customer.CustomerNo,
                Firstname: this.customer.FirstName,
                Lastname: this.customer.LastName,
                Tel: this.customer.Tel,
                Gender: this.customer.Gender === "Mashkull",
                DateOfBirth: this.customer.DateOfBirth,
                Adress: this.customer.Adress,
                Email: this.customer.Email,
                MaritalStatus: this.customer.MaritalStatus === "martuar",
                Profession: this.customer.Profession,
                EducationStatus: this.customer.EducationStatus,
                MobileTel: this.customer.MobileTel,
                PostalCode: this.customer.PostalCode,
                City: this.customer.City,
                CustomerId: this.customer.CustomerId,
                AnamnezSurveyList: ContentData
            };
            this.postAnamnez(CustomerData);
            // let params = {
            //   CustomerAnamnezPrm: ContentData,
            //   CustomerData: CustomerData
            // }
            // let params = {
            //   item_1: items[14].value,
            //   item_2: items[15].value,
            //   item_3: items[16].value,
            //   item_4: items[17].value,
            //   item_5: items[18].value,
            //   item_6: items[19].value,
            //   item_7: items[20].value,
            //   item_8: items[21].value,
            //   item_9: items[22].value,
            //   item_10: items[23].value,
            //   item_11: items[24].value,
            //   item_12: items[25].value,
            //   item_13: items[26].value,
            //   item_14: items[27].value,
            //   item_15: items[28].value,
            //   item_16: items[29].value,
            //   item_17: items[30].value,
            //   item_18: items[31].value,
            //   item_19: items[32].value,
            //   item_20: items[33].value,
            //   item_21: items[34].value,
            //   item_22: items[35].value,
            //   item_23: items[36].value,
            //   item_24: items[37].value,
            //   item_25: items[38].value,
            //   item_26: items[39].value,
            //   item_27: items[30].value,
            //   item_28: items[41].value,
            //   item_29: items[42].value,
            //   item_30: items[43].value,
            // }
            // this.postAnamnez(params);
            __WEBPACK_IMPORTED_MODULE_3_devextreme_ui_notify___default()({
                message: "You have submitted the form",
                position: {
                    my: "center top",
                    at: "center top"
                }
            }, "success", 3000);
            e.preventDefault();
        };
        this.genderItems = ['Mashkull', 'Femer'];
        this.statusItems = ['martuar', 'pamartuar'];
        this.boolQuest = ['PO', 'JO'];
        this.questionData = [];
        this.anamnezContentData = new Array();
        this.customer = new Customer();
        var field = {
            orderNo: 0,
            yes: false,
            no: false,
            comment: ''
        };
        this.anamnezContentData = Array(24).fill(field);
        this.colCountByScreen = {
            md: 4,
            sm: 2
        };
    }
    AnamnezaComponent.prototype.checkComparison = function () {
        return true;
    };
    AnamnezaComponent.prototype.postAnamnez = function (params) {
        var _this = this;
        this._anamnezaService.postCustomerAnamnez(params).subscribe(function (data) {
            _this.router.navigate(['/customers']);
        });
    };
    AnamnezaComponent.prototype.valueChanged = function (e) {
        if (e.value) {
            this.colCountByScreen = {
                md: 4,
                sm: 2
            };
        }
        else {
            this.colCountByScreen = null;
        }
    };
    AnamnezaComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.sub = this.route
            .queryParams
            .subscribe(function (params) {
            var obj = {
                CustomerId: +params.CustomerID
            };
            _this._anamnezaService.anamnezInit(obj).subscribe(function (anamnezData) {
                _this.customer.customerNo = anamnezData['customerData'].customerNo || '';
                _this.customer = anamnezData['customerData'];
                _this.customer.customerId = obj['CustomerId'];
                if (anamnezData['contentData'] && anamnezData['contentData'].length) {
                    _this.anamnezContentData = anamnezData['contentData'];
                    var quest1 = _this.anamnezContentData[1].yes ? 'PO' : _this.anamnezContentData[1].no ? 'JO' : '';
                    var quest2 = _this.anamnezContentData[2].yes ? 'PO' : _this.anamnezContentData[2].no ? 'JO' : '';
                    var quest3 = _this.anamnezContentData[15].yes ? 'PO' : _this.anamnezContentData[15].no ? 'JO' : '';
                    var quest4 = _this.anamnezContentData[16].yes ? 'PO' : _this.anamnezContentData[16].no ? 'JO' : '';
                    var quest5 = _this.anamnezContentData[17].yes ? 'PO' : _this.anamnezContentData[17].no ? 'JO' : '';
                    var quest6 = _this.anamnezContentData[18].yes ? 'PO' : _this.anamnezContentData[18].no ? 'JO' : '';
                    var quest7 = _this.anamnezContentData[19].yes ? 'PO' : _this.anamnezContentData[19].no ? 'JO' : '';
                    var quest8 = _this.anamnezContentData[20].yes ? 'PO' : _this.anamnezContentData[20].no ? 'JO' : '';
                    var quest9 = _this.anamnezContentData[21].yes ? 'PO' : _this.anamnezContentData[21].no ? 'JO' : '';
                    var quest10 = _this.anamnezContentData[22].yes ? 'PO' : _this.anamnezContentData[22].no ? 'JO' : '';
                    _this.questionData.push(quest1, quest2, quest3, quest4, quest5, quest6, quest7, quest8, quest9, quest10);
                }
                else {
                    var field = {
                        orderNo: 0,
                        yes: false,
                        no: false,
                        comment: ''
                    };
                    _this.anamnezContentData = Array(24).fill(field);
                }
                // this._anamnezaService.getCustomerByID(obj).subscribe((custData) => {
                //   this.customer = custData[0];
                //   this.customer.AnamnezSurveyList = this.anamnezContentData;
                //   debugger;
                // })
            });
        });
    };
    AnamnezaComponent.prototype.ngOnDestroy = function () {
        this.sub.unsubscribe();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1_devextreme_angular__["DxFormComponent"]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_devextreme_angular__["DxFormComponent"])
    ], AnamnezaComponent.prototype, "form", void 0);
    AnamnezaComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-anamneza',
            template: __webpack_require__("./src/app/anamneza/anamneza.component.html"),
            styles: [__webpack_require__("./src/app/anamneza/anamneza.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__anamneza_service__["a" /* AnamnezaService */], __WEBPACK_IMPORTED_MODULE_4__angular_router__["a" /* ActivatedRoute */], __WEBPACK_IMPORTED_MODULE_4__angular_router__["b" /* Router */]])
    ], AnamnezaComponent);
    return AnamnezaComponent;
}());



/***/ }),

/***/ "./src/app/anamneza/anamneza.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export Customer */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AnamnezaService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var Customer = (function () {
    function Customer() {
    }
    return Customer;
}());

var AnamnezaService = (function () {
    function AnamnezaService(http) {
        this.http = http;
        this.apiUrl = 'http://aristoapi.gearhostpreview.com/api/core/';
    }
    // apiUrl = 'http://localhost:55762/api/core/';
    AnamnezaService.prototype.postCustomerAnamnez = function (data) {
        // let queryParams = this.serializeObject(data)
        return this.http.post(this.apiUrl + 'CustomerAnamnezInsertUpdate', data, { headers: this.getAuthorizationHeader() });
    };
    AnamnezaService.prototype.anamnezInit = function (data) {
        var queryParams = this.serializeObject(data);
        return this.http.get(this.apiUrl + 'CustomerAnamnezContentInit?' + queryParams, { headers: this.getAuthorizationHeader() });
    };
    AnamnezaService.prototype.getCustomerByID = function (data) {
        var queryParams = this.serializeObject(data);
        return this.http.get(this.apiUrl + 'GetCustomerByID?' + queryParams, { headers: this.getAuthorizationHeader() });
    };
    AnamnezaService.prototype.serializeObject = function (obj) {
        var str = [];
        for (var p in obj) {
            if (obj.hasOwnProperty(p)) {
                str.push(p + '=' + obj[p]);
            }
        }
        return str.join('&');
    };
    AnamnezaService.prototype.getAuthorizationHeader = function () {
        var cred = localStorage.getItem('creds');
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["HttpHeaders"]();
        if (cred) {
            headers = headers.set("Authorization", cred);
        }
        return headers;
    };
    AnamnezaService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_common_http__["HttpClient"]])
    ], AnamnezaService);
    return AnamnezaService;
}());



/***/ }),

/***/ "./src/app/app.component.css":
/***/ (function(module, exports) {

module.exports = "::ng-deep .container {\n    position: relative;\n    padding-top: 0;\n}\n\n::ng-deep .container, .left-content {\n    min-height: 100vh;\n}\n\n::ng-deep .left-content {\n    display: inline-block;\n    width: 205px;\n    padding: 0 10px 10px;\n    background-color: rgba(191, 191, 191, 0.15);\n    -webkit-box-shadow: -5px 0px 14px -8px rgba(0, 0, 0, 0.25) inset;\n            box-shadow: -5px 0px 14px -8px rgba(0, 0, 0, 0.25) inset;\n}\n\n::ng-deep .right-content {\n    position: absolute;\n    right: 0;\n    left: 220px;\n    top: 0;\n    height: 100%;\n    padding-left: 30px;\n}\n\nsup {\n    font-size: 0.8em;\n    vertical-align: super;\n    line-height: 0;\n}\n\n::ng-deep .right-content .sub-title {\n    font-size: 120%;\n    color: rgba(152, 152, 152, 0.8);\n}\n\n::ng-deep .title-container {\n    min-height: 140px;\n    margin-bottom: 10px;\n}\n\n::ng-deep .title-container .country-name {\n    font-size: 240%;\n    font-weight: bold;\n    line-height: 34px;\n    margin-bottom: 10px;\n}\n\n::ng-deep .title-container > div:not(.flag) {\n    margin-left: 204px;\n}\n\n::ng-deep .stats {\n    display: table;\n    width: 100%;\n    margin-bottom: 20px;\n}\n\n::ng-deep .stats > div {\n    display: table-cell;\n    text-align: center;\n    border: 1px solid rgba(191, 191, 191, 0.25);\n    padding: 20px 0 25px;\n    width: 33%;\n}\n\n::ng-deep .stats > div:first-child, .stats > div:last-child {\n    border-right-width: 0;\n    border-left-width: 0;\n}\n\n::ng-deep .stats .stat-value {\n    font-size: 200%;\n}\n\n::ng-deep #tabpanel {\n    margin-top: 10px;\n}\n\n::ng-deep #tabpanel .dx-multiview-wrapper {\n    border-left: 0;\n    border-right: 0;\n    border-bottom: 0;\n}\n\n::ng-deep #tabpanel .tab-panel-title {\n    font-size: 120%;\n    font-weight: 500;\n}\n\n::ng-deep #tabpanel .dx-multiview-item-content {\n    padding: 20px 0 22px;\n    min-height: 178px;\n    position: relative;\n}\n\n::ng-deep #tabpanel .right-content {\n    top: 15px;\n    left: 202px;\n}\n\n::ng-deep #tabpanel .stats {\n    width: 398px;\n    margin-top: 20px;\n    border-top: 1px solid rgba(191, 191, 191, 0.25);\n}\n\n::ng-deep #tabpanel .stats > div {\n    padding: 7px 0;\n    text-align: left;\n    border: 0;\n}\n\n::ng-deep #tabpanel .stats > div:first-child {\n    width: 40%;\n}\n\n::ng-deep #tabpanel .stats > div:not(:first-child) {\n    width: 30%;\n}\n\n::ng-deep .flag {\n    width: 172px;\n    max-height: 122px;\n    border: 1px solid rgba(191, 191, 191, 0.25);\n    float: left;\n    margin: 0 30px 10px 0;\n}\n\n.left-content .dx-treeview-node.dx-state-selected > .dx-item > .dx-item-content {\n    font-weight: 500;\n}\n\n.Header:first-child {\n            display:none;\n        }\n\n.dr-header {\n    font-family: \"Times New Roman\", Times, serif;\n}\n\n/* Add a black background color to the top navigation */\n\n.topnav {\n    background-color: #ddd;\n    overflow: hidden;\n    border-radius: 10px;\n    border: 3px solid #e6e6e6;\n}\n\n#log {\n    float: right;\n    border-radius: 10px;\n    cursor: pointer;\n}\n\n/* Style the links inside the navigation bar */\n\n.topnav a {\n    float: left;\n    color: #f2f2f2;\n    text-align: center;\n    padding: 14px 16px;\n    text-decoration: none;\n    font-size: 17px;\n}\n\n/* Change the color of links on hover */\n\n.topnav a:hover {\n    background-color: #ddd;\n    color: black;\n}\n\n/* Add a color to the active/current link */\n\n.topnav a.active {\n    background-color: #d4d4d4;\n    color: white;\n}\n\n.isDisabled {\n  color: currentColor;\n  cursor: not-allowed;\n  opacity: 0.5;\n  text-decoration: none;\n}"

/***/ }),

/***/ "./src/app/app.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"topnav\">\n        <a class=\"{{disable ? 'isDisabled' : 'active'}}\">MedSoft</a>\n        <a [hidden]=\"!loggedInDoctor.firstname\">Welcome {{loggedInDoctor.firstname + ' ' + loggedInDoctor.lastname}}  </a>\n\n        <a (click)=\"login(disable)\" id=\"log\">{{disable ? 'Login' : 'LogOut'}}</a>\n    </div>\n\n<div class=\"container\">\n    \n    <div class=\"left-content\">\n        <dx-tree-view [dataSource]=\"menuItems\" selectionMode=\"single\" [selectByClick]=\"true\" (onItemSelectionChanged)=\"selectionChanged($event)\"\n            [disabled]='disable'>\n        </dx-tree-view>\n    </div>\n    <div class=\"right-content\">\n        <router-outlet></router-outlet>\n    </div>\n</div>"

/***/ }),

/***/ "./src/app/app.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__login_form_login_service__ = __webpack_require__("./src/app/login-form/login.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__app_service__ = __webpack_require__("./src/app/app.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var LoggedInDoctor = (function () {
    function LoggedInDoctor() {
    }
    return LoggedInDoctor;
}());
var AppComponent = (function () {
    function AppComponent(router, _loginService, appService) {
        this.router = router;
        this._loginService = _loginService;
        this.appService = appService;
        this.disable = true;
        this.loggedInDoctor = new LoggedInDoctor();
    }
    AppComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.httpSubscription = this.appService.appHealthcheck();
        this._loginService.disableNavbar.subscribe(function (data) {
            _this.disable = !data.item1;
            _this.loggedInDoctor = data.item2;
            localStorage.setItem("loggedInDoctor", JSON.stringify(_this.loggedInDoctor));
            localStorage.setItem("preferences", JSON.stringify({ AllowDoctorToMakePayment: false }));
            _this.menuItems = _this.appService.getMenuItems();
        });
        this.disable = !localStorage["loggedInDrID"];
        this.menuItems = this.appService.getMenuItems();
    };
    AppComponent.prototype.ngOnDestroy = function () {
        this.httpSubscription.unsubscribe();
    };
    AppComponent.prototype.login = function (type) {
        if (!type && localStorage["loggedInDrID"] && localStorage.getItem('creds')) {
            localStorage.removeItem("loggedInDrID");
            localStorage.removeItem("creds");
            this.router.navigate(["/login"]);
            this.disable = !type;
        }
        else {
            this.router.navigate(["/login"]);
            this.menuItems = [];
        }
    };
    AppComponent.prototype.selectionChanged = function (e) {
        if (e.itemData.id === "1_1") {
            this.router.navigate(["/appointment"]);
        }
        else if (e.itemData.id === "1_2") {
            this.router.navigate(["/customers-appointments"]);
        }
        else if (e.itemData.id === "2_1") {
            this.router.navigate(["/customers"]);
        }
        else if (e.itemData.id === "2_2") {
            this.router.navigate(["/customerform"]);
        }
        else if (e.itemData.id === "2_3") {
            this.router.navigate(["/anamneza"]);
        }
        else if (e.itemData.id === "2_4") {
            this.router.navigate(["/treatments"]);
        }
        else if (e.itemData.id === "2_5") {
            this.router.navigate(["/treatments-list"]);
        }
        else if (e.itemData.id === "3_2") {
            this.router.navigate(["/treatments-list"]);
        }
        else if (e.itemData.id === "4") {
            this.router.navigate(["/reports"]);
        }
        else if (e.itemData.id === "4_1") {
            this.router.navigate(["/daily-reports"]);
        }
        else if (e.itemData.id === "4_2") {
            this.router.navigate(["/advance-debt"]);
        }
        else if (e.itemData.id === "4_3") {
            this.router.navigate(["/operation-reports"]);
        }
        else if (e.itemData.id === "1_3") {
            this.router.navigate(["/missed-appointments"]);
        }
        else if (e.itemData.id === "5") {
            this.router.navigate(["/preferences"]);
        }
        else if (e.itemData.id === "6") {
            this.router.navigate(["/sms-lists"]);
        }
        else if (e.itemData.id === "2_6") {
            this.router.navigate(["/treatments-offers"]);
        }
        else if (e.itemData.id === "2_7") {
            this.router.navigate(["/treatments-offers-list"]);
        }
        else if (e.itemData.id === "4_4") {
            this.router.navigate(["/invoice-reports"]);
        }
    };
    AppComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: "app-root",
            template: __webpack_require__("./src/app/app.component.html"),
            styles: [__webpack_require__("./src/app/app.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */], __WEBPACK_IMPORTED_MODULE_2__login_form_login_service__["a" /* LoginService */], __WEBPACK_IMPORTED_MODULE_3__app_service__["a" /* AppService */]])
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__ = __webpack_require__("./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_devextreme_angular__ = __webpack_require__("./node_modules/devextreme-angular/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_devextreme_angular___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_devextreme_angular__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__app_component__ = __webpack_require__("./src/app/app.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__login_form_login_form_component__ = __webpack_require__("./src/app/login-form/login-form.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__registration_form_registration_form_component__ = __webpack_require__("./src/app/registration-form/registration-form.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__app_service__ = __webpack_require__("./src/app/app.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__appointment_scheduler_appointment_scheduler_component__ = __webpack_require__("./src/app/appointment-scheduler/appointment-scheduler.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__appointment_scheduler_appointment_scheduler_service__ = __webpack_require__("./src/app/appointment-scheduler/appointment-scheduler.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__customer_form_customer_form_component__ = __webpack_require__("./src/app/customer-form/customer-form.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__customer_form_customer_form_service__ = __webpack_require__("./src/app/customer-form/customer-form.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__customers_customers_component__ = __webpack_require__("./src/app/customers/customers.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__login_form_login_service__ = __webpack_require__("./src/app/login-form/login.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__anamneza_anamneza_component__ = __webpack_require__("./src/app/anamneza/anamneza.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__anamneza_anamneza_service__ = __webpack_require__("./src/app/anamneza/anamneza.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__customer_appointments_grid_customer_appointments_grid_component__ = __webpack_require__("./src/app/customer-appointments-grid/customer-appointments-grid.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__treatments_treatments_component__ = __webpack_require__("./src/app/treatments/treatments.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__treatments_treatments_service__ = __webpack_require__("./src/app/treatments/treatments.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__treatments_list_treatments_list_component__ = __webpack_require__("./src/app/treatments-list/treatments-list.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__reports_reports_component__ = __webpack_require__("./src/app/reports/reports.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__reports_reports_service__ = __webpack_require__("./src/app/reports/reports.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__preferences_preferences_component__ = __webpack_require__("./src/app/preferences/preferences.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24__daily_reports_daily_reports_component__ = __webpack_require__("./src/app/daily-reports/daily-reports.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25__customer_search_customer_search_module__ = __webpack_require__("./src/app/customer-search/customer-search.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_26__advance_debt_advance_debt_component__ = __webpack_require__("./src/app/advance-debt/advance-debt.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_27__missed_appointments_missed_appointments_component__ = __webpack_require__("./src/app/missed-appointments/missed-appointments.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_28__sms_lists_sms_lists_component__ = __webpack_require__("./src/app/sms-lists/sms-lists.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_29__treatments_offers_treatments_offers_component__ = __webpack_require__("./src/app/treatments-offers/treatments-offers.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_30__treatment_offers_list_treatment_offers_list_component__ = __webpack_require__("./src/app/treatment-offers-list/treatment-offers-list.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_31__operation_reports_operation_reports_component__ = __webpack_require__("./src/app/operation-reports/operation-reports.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_32__invoice_reports_invoice_reports_component__ = __webpack_require__("./src/app/invoice-reports/invoice-reports.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

































var routes = [
    { path: "", pathMatch: "full", redirectTo: "appointment" },
    { path: "appointment", component: __WEBPACK_IMPORTED_MODULE_9__appointment_scheduler_appointment_scheduler_component__["a" /* AppointmentSchedulerComponent */] },
    { path: "anamneza", component: __WEBPACK_IMPORTED_MODULE_15__anamneza_anamneza_component__["a" /* AnamnezaComponent */] },
    { path: "customerform", component: __WEBPACK_IMPORTED_MODULE_11__customer_form_customer_form_component__["a" /* CustomerFormComponent */] },
    { path: "customers", component: __WEBPACK_IMPORTED_MODULE_13__customers_customers_component__["a" /* CustomersComponent */] },
    {
        path: "customers-appointments",
        component: __WEBPACK_IMPORTED_MODULE_17__customer_appointments_grid_customer_appointments_grid_component__["a" /* CustomerAppointmentsGridComponent */]
    },
    { path: "login", component: __WEBPACK_IMPORTED_MODULE_5__login_form_login_form_component__["a" /* LoginFormComponent */] },
    { path: "treatments", component: __WEBPACK_IMPORTED_MODULE_18__treatments_treatments_component__["a" /* TreatmentsComponent */] },
    { path: "treatments-list", component: __WEBPACK_IMPORTED_MODULE_20__treatments_list_treatments_list_component__["a" /* TreatmentsListComponent */] },
    { path: "reports", component: __WEBPACK_IMPORTED_MODULE_21__reports_reports_component__["a" /* ReportsComponent */] },
    { path: "preferences", component: __WEBPACK_IMPORTED_MODULE_23__preferences_preferences_component__["a" /* PreferencesComponent */] },
    { path: "daily-reports", component: __WEBPACK_IMPORTED_MODULE_24__daily_reports_daily_reports_component__["a" /* DailyReportsComponent */] },
    { path: "advance-debt", component: __WEBPACK_IMPORTED_MODULE_26__advance_debt_advance_debt_component__["a" /* AdvanceDebtComponent */] },
    { path: "missed-appointments", component: __WEBPACK_IMPORTED_MODULE_27__missed_appointments_missed_appointments_component__["a" /* MissedAppointmentsComponent */] },
    { path: "sms-lists", component: __WEBPACK_IMPORTED_MODULE_28__sms_lists_sms_lists_component__["a" /* SmsListsComponent */] },
    { path: "treatments-offers", component: __WEBPACK_IMPORTED_MODULE_29__treatments_offers_treatments_offers_component__["a" /* TreatmentsOffersComponent */] },
    { path: "treatments-offers-list", component: __WEBPACK_IMPORTED_MODULE_30__treatment_offers_list_treatment_offers_list_component__["a" /* TreatmentOffersListComponent */] },
    { path: "operation-reports", component: __WEBPACK_IMPORTED_MODULE_31__operation_reports_operation_reports_component__["a" /* OperationReportsComponent */] },
    { path: "invoice-reports", component: __WEBPACK_IMPORTED_MODULE_32__invoice_reports_invoice_reports_component__["a" /* InvoiceReportsComponent */] },
];
var AppModule = (function () {
    function AppModule() {
    }
    AppModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_2__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_4__app_component__["a" /* AppComponent */],
                __WEBPACK_IMPORTED_MODULE_5__login_form_login_form_component__["a" /* LoginFormComponent */],
                __WEBPACK_IMPORTED_MODULE_6__registration_form_registration_form_component__["a" /* RegistrationFormComponent */],
                __WEBPACK_IMPORTED_MODULE_9__appointment_scheduler_appointment_scheduler_component__["a" /* AppointmentSchedulerComponent */],
                __WEBPACK_IMPORTED_MODULE_11__customer_form_customer_form_component__["a" /* CustomerFormComponent */],
                __WEBPACK_IMPORTED_MODULE_13__customers_customers_component__["a" /* CustomersComponent */],
                __WEBPACK_IMPORTED_MODULE_15__anamneza_anamneza_component__["a" /* AnamnezaComponent */],
                __WEBPACK_IMPORTED_MODULE_17__customer_appointments_grid_customer_appointments_grid_component__["a" /* CustomerAppointmentsGridComponent */],
                __WEBPACK_IMPORTED_MODULE_18__treatments_treatments_component__["a" /* TreatmentsComponent */],
                __WEBPACK_IMPORTED_MODULE_20__treatments_list_treatments_list_component__["a" /* TreatmentsListComponent */],
                __WEBPACK_IMPORTED_MODULE_21__reports_reports_component__["a" /* ReportsComponent */],
                __WEBPACK_IMPORTED_MODULE_23__preferences_preferences_component__["a" /* PreferencesComponent */],
                __WEBPACK_IMPORTED_MODULE_24__daily_reports_daily_reports_component__["a" /* DailyReportsComponent */],
                __WEBPACK_IMPORTED_MODULE_26__advance_debt_advance_debt_component__["a" /* AdvanceDebtComponent */],
                __WEBPACK_IMPORTED_MODULE_27__missed_appointments_missed_appointments_component__["a" /* MissedAppointmentsComponent */],
                __WEBPACK_IMPORTED_MODULE_28__sms_lists_sms_lists_component__["a" /* SmsListsComponent */],
                __WEBPACK_IMPORTED_MODULE_29__treatments_offers_treatments_offers_component__["a" /* TreatmentsOffersComponent */],
                __WEBPACK_IMPORTED_MODULE_30__treatment_offers_list_treatment_offers_list_component__["a" /* TreatmentOffersListComponent */],
                __WEBPACK_IMPORTED_MODULE_31__operation_reports_operation_reports_component__["a" /* OperationReportsComponent */],
                __WEBPACK_IMPORTED_MODULE_32__invoice_reports_invoice_reports_component__["a" /* InvoiceReportsComponent */]
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* RouterModule */].forRoot(routes),
                __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__["BrowserModule"],
                __WEBPACK_IMPORTED_MODULE_25__customer_search_customer_search_module__["a" /* CustomerSearchModule */],
                __WEBPACK_IMPORTED_MODULE_3_devextreme_angular__["DevExtremeModule"],
                __WEBPACK_IMPORTED_MODULE_3_devextreme_angular__["DxCheckBoxModule"],
                __WEBPACK_IMPORTED_MODULE_3_devextreme_angular__["DxSelectBoxModule"],
                __WEBPACK_IMPORTED_MODULE_3_devextreme_angular__["DxNumberBoxModule"],
                __WEBPACK_IMPORTED_MODULE_3_devextreme_angular__["DxButtonModule"],
                __WEBPACK_IMPORTED_MODULE_3_devextreme_angular__["DxAutocompleteModule"],
                __WEBPACK_IMPORTED_MODULE_3_devextreme_angular__["DxFormModule"],
                __WEBPACK_IMPORTED_MODULE_3_devextreme_angular__["DxTextBoxModule"],
                __WEBPACK_IMPORTED_MODULE_3_devextreme_angular__["DxDateBoxModule"],
                __WEBPACK_IMPORTED_MODULE_3_devextreme_angular__["DxValidatorModule"],
                __WEBPACK_IMPORTED_MODULE_3_devextreme_angular__["DxValidationSummaryModule"],
                __WEBPACK_IMPORTED_MODULE_3_devextreme_angular__["DxPopupModule"],
                __WEBPACK_IMPORTED_MODULE_3_devextreme_angular__["DxSchedulerModule"],
                __WEBPACK_IMPORTED_MODULE_3_devextreme_angular__["DxListModule"],
                __WEBPACK_IMPORTED_MODULE_8__angular_common_http__["HttpClientModule"],
                __WEBPACK_IMPORTED_MODULE_3_devextreme_angular__["DxNavBarModule"],
                __WEBPACK_IMPORTED_MODULE_3_devextreme_angular__["DxTemplateModule"],
                __WEBPACK_IMPORTED_MODULE_3_devextreme_angular__["DxTextAreaModule"],
                __WEBPACK_IMPORTED_MODULE_3_devextreme_angular__["DxRadioGroupModule"],
                __WEBPACK_IMPORTED_MODULE_3_devextreme_angular__["DxDataGridModule"],
                __WEBPACK_IMPORTED_MODULE_3_devextreme_angular__["DxLoadIndicatorModule"],
                __WEBPACK_IMPORTED_MODULE_3_devextreme_angular__["DxFileUploaderModule"]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_7__app_service__["a" /* AppService */],
                __WEBPACK_IMPORTED_MODULE_10__appointment_scheduler_appointment_scheduler_service__["a" /* AppointmentSchedulerService */],
                __WEBPACK_IMPORTED_MODULE_12__customer_form_customer_form_service__["a" /* CustomerFormService */],
                __WEBPACK_IMPORTED_MODULE_14__login_form_login_service__["a" /* LoginService */],
                __WEBPACK_IMPORTED_MODULE_16__anamneza_anamneza_service__["a" /* AnamnezaService */],
                __WEBPACK_IMPORTED_MODULE_19__treatments_treatments_service__["a" /* TreatmentsService */],
                __WEBPACK_IMPORTED_MODULE_22__reports_reports_service__["a" /* ReportsService */]
            ],
            bootstrap: [__WEBPACK_IMPORTED_MODULE_4__app_component__["a" /* AppComponent */]]
        })
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "./src/app/app.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_devextreme_ui_notify__ = __webpack_require__("./node_modules/devextreme/ui/notify.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_devextreme_ui_notify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_devextreme_ui_notify__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var AppService = (function () {
    function AppService(http) {
        this.http = http;
        this.apiUrl = 'http://aristoapi.gearhostpreview.com/api/core/';
        this.pingIntervalMilli = 10000;
    }
    AppService.prototype.appHealthcheck = function () {
        var _this = this;
        return this.http.get(this.apiUrl + "health")
            .retryWhen(function (err) {
            return err.do(function (res) {
                if (res.status != 200) {
                    // window.location.replace('https://dentaristo.com/');
                    console.log(res);
                }
            }).delay(_this.pingIntervalMilli);
        })
            .subscribe();
    };
    AppService.prototype.getMenuItems = function () {
        var disabled = !localStorage.getItem('creds');
        var role = localStorage.getItem('role');
        if (role == 'Assistant')
            return this.getAssitantMenuItems(disabled);
        if (role == 'Admin')
            return this.getAdminMenuItems(disabled);
        if (role == 'Doctor')
            return this.getDoctorMenuItems(disabled);
        if (role == 'Rentgen')
            return this.getRentgenMenuItems(disabled);
        return [];
    };
    AppService.prototype.getAdminMenuItems = function (disabled) {
        return [
            {
                id: "1",
                text: "Schedule",
                icon: "/assets/icons/appointments.ico",
                expanded: true,
                items: [
                    {
                        id: "1_1",
                        icon: "/assets/icons/daily-appointments.ico",
                        text: "Daily appointments"
                    },
                    {
                        id: "1_2",
                        icon: "/assets/icons/personal-schedule.ico",
                        text: "Patient Appointments",
                        disabled: disabled
                    },
                    {
                        id: "1_3",
                        text: "Missed Appointments",
                        icon: "/assets/icons/missed-appointments.ico",
                        expanded: false,
                        disabled: disabled
                    }
                ]
            },
            {
                id: "2",
                text: "Patient",
                icon: "/assets/icons/customer.ico",
                expanded: true,
                items: [
                    {
                        id: "2_1",
                        icon: "/assets/icons/patient-list.ico",
                        text: "Patient List",
                        disabled: disabled
                    },
                    {
                        id: "2_2",
                        icon: "/assets/icons/add-customer.ico",
                        text: "Patient Registration",
                        disabled: disabled
                    },
                    {
                        id: "2_4",
                        icon: "/assets/icons/treatment.ico",
                        text: "Treatments",
                        disabled: disabled
                    },
                    {
                        id: "2_5",
                        icon: "/assets/icons/treatment-history.ico",
                        text: "Treatments History",
                        disabled: disabled
                    },
                    {
                        id: "2_7",
                        text: "Plans History",
                        disabled: disabled
                    }
                ]
            },
            {
                id: "4",
                text: "Reports",
                icon: "/assets/icons/report.ico",
                expanded: true,
                items: [
                    {
                        id: "4_1",
                        icon: "/assets/icons/daily-report.ico",
                        text: "Daily Reports",
                        disabled: disabled
                    },
                    {
                        id: "4_2",
                        text: "Advance/Debt Reports",
                        icon: "/assets/icons/advance-debt-report.ico",
                        expanded: false,
                        disabled: disabled
                    },
                    {
                        id: "4_3",
                        text: "Operation Reports",
                        icon: "/assets/icons/dr_operations.ico",
                        expanded: false,
                        disabled: disabled
                    },
                    {
                        id: "4_4",
                        text: "Invoice Reports",
                        icon: "/assets/icons/invoice-report.ico",
                        expanded: false,
                        disabled: disabled
                    }
                ]
            },
            {
                id: "5",
                text: "Preferences",
                icon: "/assets/icons/preferences.ico",
                expanded: false,
                disabled: disabled
            },
            {
                id: "6",
                text: "SMS Lists",
                icon: "/assets/icons/sms.png",
                expanded: false,
                disabled: disabled
            }
        ];
    };
    AppService.prototype.getDoctorMenuItems = function (disabled) {
        return [
            {
                id: "1",
                text: "Schedule",
                icon: "/assets/icons/appointments.ico",
                expanded: true,
                items: [
                    {
                        id: "1_1",
                        icon: "/assets/icons/daily-appointments.ico",
                        text: "Daily appointments"
                    },
                    {
                        id: "1_2",
                        icon: "/assets/icons/personal-schedule.ico",
                        text: "Patient Appointments",
                        disabled: disabled
                    },
                    {
                        id: "1_3",
                        text: "Missed Appointments",
                        icon: "/assets/icons/missed-appointments.ico",
                        expanded: false,
                        disabled: disabled
                    }
                ]
            },
            {
                id: "2",
                text: "Patient",
                icon: "/assets/icons/customer.ico",
                expanded: true,
                items: [
                    {
                        id: "2_2",
                        icon: "/assets/icons/add-customer.ico",
                        text: "Patient Registration",
                        disabled: disabled
                    },
                    {
                        id: "2_4",
                        icon: "/assets/icons/treatment.ico",
                        text: "Treatments",
                        disabled: disabled
                    },
                    {
                        id: "2_5",
                        icon: "/assets/icons/treatment-history.ico",
                        text: "Treatments History",
                        disabled: disabled
                    },
                    {
                        id: "2_7",
                        text: "Plans History",
                        disabled: disabled
                    }
                ]
            }
        ];
    };
    AppService.prototype.getAssitantMenuItems = function (disabled) {
        return [
            {
                id: "1",
                text: "Schedule",
                icon: "/assets/icons/appointments.ico",
                expanded: true,
                items: [
                    {
                        id: "1_1",
                        icon: "/assets/icons/daily-appointments.ico",
                        text: "Daily appointments"
                    },
                    {
                        id: "1_2",
                        icon: "/assets/icons/personal-schedule.ico",
                        text: "Patient Appointments",
                        disabled: disabled
                    },
                    {
                        id: "1_3",
                        text: "Missed Appointments",
                        icon: "/assets/icons/missed-appointments.ico",
                        expanded: false,
                        disabled: disabled
                    }
                ]
            },
            {
                id: "2",
                text: "Patient",
                icon: "/assets/icons/customer.ico",
                expanded: true,
                items: [
                    {
                        id: "2_1",
                        icon: "/assets/icons/patient-list.ico",
                        text: "Patient List",
                        disabled: disabled
                    },
                    {
                        id: "2_2",
                        icon: "/assets/icons/add-customer.ico",
                        text: "Patient Registration",
                        disabled: disabled
                    },
                    {
                        id: "2_4",
                        icon: "/assets/icons/treatment.ico",
                        text: "Treatments",
                        disabled: disabled
                    },
                    {
                        id: "2_5",
                        icon: "/assets/icons/treatment-history.ico",
                        text: "Treatments History",
                        disabled: disabled
                    },
                    {
                        id: "2_7",
                        text: "Plans History",
                        disabled: disabled
                    }
                ]
            },
            {
                id: "4",
                text: "Reports",
                icon: "/assets/icons/report.ico",
                expanded: true,
                items: [
                    {
                        id: "4_1",
                        icon: "/assets/icons/daily-report.ico",
                        text: "Daily Reports",
                        disabled: disabled
                    },
                    {
                        id: "4_2",
                        text: "Advance/Debt Reports",
                        icon: "/assets/icons/advance-debt-report.ico",
                        expanded: false,
                        disabled: disabled
                    },
                    {
                        id: "4_3",
                        text: "Operation Reports",
                        icon: "/assets/icons/dr_operations.ico",
                        expanded: false,
                        disabled: disabled
                    },
                    {
                        id: "4_4",
                        text: "Invoice Reports",
                        icon: "/assets/icons/invoice-report.ico",
                        expanded: false,
                        disabled: disabled
                    }
                ]
            },
            {
                id: "5",
                text: "Preferences",
                icon: "/assets/icons/preferences.ico",
                expanded: false,
                disabled: disabled
            },
            {
                id: "6",
                text: "SMS Lists",
                icon: "/assets/icons/sms.png",
                expanded: false,
                disabled: disabled
            }
        ];
    };
    AppService.prototype.getRentgenMenuItems = function (disabled) {
        return [
            {
                id: "1",
                text: "Schedule",
                icon: "/assets/icons/appointments.ico",
                expanded: true,
                items: [
                    {
                        id: "1_1",
                        icon: "/assets/icons/daily-appointments.ico",
                        text: "Daily appointments"
                    },
                    {
                        id: "1_2",
                        icon: "/assets/icons/personal-schedule.ico",
                        text: "Patient Appointments",
                        disabled: disabled
                    },
                    {
                        id: "1_3",
                        text: "Missed Appointments",
                        icon: "/assets/icons/missed-appointments.ico",
                        expanded: false,
                        disabled: disabled
                    }
                ]
            },
            {
                id: "2",
                text: "Patient",
                icon: "/assets/icons/customer.ico",
                expanded: true,
                items: [
                    {
                        id: "2_1",
                        icon: "/assets/icons/patient-list.ico",
                        text: "Patient List",
                        disabled: disabled
                    },
                    {
                        id: "2_2",
                        icon: "/assets/icons/add-customer.ico",
                        text: "Patient Registration",
                        disabled: disabled
                    },
                    {
                        id: "2_4",
                        icon: "/assets/icons/treatment.ico",
                        text: "Treatments",
                        disabled: disabled
                    },
                    {
                        id: "2_5",
                        icon: "/assets/icons/treatment-history.ico",
                        text: "Treatments History",
                        disabled: disabled
                    },
                    {
                        id: "2_7",
                        text: "Plans History",
                        disabled: disabled
                    }
                ]
            },
            {
                id: "4",
                text: "Reports",
                icon: "/assets/icons/report.ico",
                expanded: true,
                items: [
                    {
                        id: "4_1",
                        icon: "/assets/icons/daily-report.ico",
                        text: "Daily Reports",
                        disabled: disabled
                    },
                    {
                        id: "4_2",
                        text: "Advance/Debt Reports",
                        icon: "/assets/icons/advance-debt-report.ico",
                        expanded: false,
                        disabled: disabled
                    },
                    {
                        id: "4_3",
                        text: "Operation Reports",
                        icon: "/assets/icons/dr_operations.ico",
                        expanded: false,
                        disabled: disabled
                    }
                ]
            },
            {
                id: "5",
                text: "Preferences",
                icon: "/assets/icons/preferences.ico",
                expanded: false,
                disabled: disabled
            },
            {
                id: "6",
                text: "SMS Lists",
                icon: "/assets/icons/sms.png",
                expanded: false,
                disabled: disabled
            }
        ];
    };
    AppService.prototype.getCustomersByFilter = function (data) {
        var queryParams = this.serializeObject(data);
        return this.http.get(this.apiUrl + 'GetCustomersByFilter?' + queryParams, { headers: this.getAuthorizationHeader() });
    };
    AppService.prototype.serializeObject = function (obj) {
        var str = [];
        for (var p in obj) {
            if (obj.hasOwnProperty(p)) {
                str.push(p + '=' + obj[p]);
            }
        }
        return str.join('&');
    };
    AppService.prototype.toasterMessage = function (message, type, timeout) {
        // The message's type: "info", "warning", "error" or "success"
        __WEBPACK_IMPORTED_MODULE_2_devextreme_ui_notify___default()({
            message: message,
            position: {
                my: "center top",
                at: "center top"
            }
        }, type, timeout || 3000);
    };
    AppService.prototype.getAuthorizationHeader = function () {
        var cred = localStorage.getItem('creds');
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["HttpHeaders"]();
        if (cred) {
            headers = headers.set("Authorization", cred);
        }
        return headers;
    };
    AppService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_common_http__["HttpClient"]])
    ], AppService);
    return AppService;
}());



/***/ }),

/***/ "./src/app/appointment-scheduler/appointment-scheduler.component.css":
/***/ (function(module, exports) {

module.exports = "::ng-deep .dx-scheduler-cell-sizes-vertical{\n    height: 30px;\n}\n\n.parent div{\n    float: left;\n    clear: none; \n}\n\n.display-none {\n    display: none;\n}\n\n.appointment-types {\n    margin: 7px;\n}\n\n.select-dr {\n    margin-top: 10px;\n}\n\n.chair-group{\n    margin: 7px;\n}\n\n::ng-deep .sticky {\n    position: fixed;\n    top: 0;\n    width: 100%;\n  }\n\n::ng-deep .sticky-week-header {\n    position: fixed;\n    top: 56px;\n    width: 1300px !important;\n    background-color: #ddd;\n    z-index: 100;\n    margin-top: 0 !important;\n}\n\n::ng-deep .sticky-week-header-small {\n    position: fixed;\n    top: 56px;\n    width: 850px !important;\n    background-color: #ddd;\n    z-index: 100;\n    margin-top: 0 !important;\n}\n\n::ng-deep .week-days-border {\n      border: 1px black solid !important;\n      /* border-right: 1px black solid; */\n}\n\n.no-before tr::before {\n    content: none;\n}\n\n::ng-deep .bleaching {\n    background-color: #37b1e3;\n}\n\n.calendar-btns {\n    margin-bottom: 10px;\n}\n\n\n"

/***/ }),

/***/ "./src/app/appointment-scheduler/appointment-scheduler.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"select-dr\">\n  <dx-select-box\n    [dataSource]=\"doctorListData\"\n    displayExpr=\"name\"\n    valueExpr=\"id\"\n    [value]=\"loggedInDrID\"\n    (onValueChanged)=\"selectDr($event)\"\n  ></dx-select-box>\n</div>\n\n<!-- <dx-select-box [dataSource]=\"chairListByDr\"\n                displayExpr=\"number\"\n                valueExpr=\"chairId\" \n                [value]=\"selectedChair.chairId\"\n                (onValueChanged)=\"selectChair($event)\"\n                ></dx-select-box> -->\n\n<div class=\"appointment-types\">\n  <dx-radio-group\n    [items]=\"appointmentViewTypes\"\n    [value]=\"appointmentViewTypes[0]\"\n    (onValueChanged)=\"switchAppointmentType($event)\"\n    layout=\"horizontal\"\n  >\n  </dx-radio-group>\n</div>\n\n<div class=\"chair-group\">\n  <dx-radio-group\n    [items]=\"rooms\"\n    [value]=\"selectedChair.chairId\"\n    (onValueChanged)=\"selectChair($event)\"\n    layout=\"horizontal\"\n  >\n  </dx-radio-group>\n</div>\n\n<div class=\"calendar-btns\">\n  <dx-button\n    width=\"140\"\n    [text]=\"'Show Calendar'\"\n    [type]=\"normal\"\n    (onClick)=\"showCalendar = !showCalendar\"\n  ></dx-button>\n  <dx-button\n    width=\"140\"\n    [text]=\"'Today'\"\n    [type]=\"normal\"\n    (onClick)=\"getToday()\"\n  ></dx-button>\n</div>\n\n<div class=\"{{ showCalendar ? 'parent' : '' }}\">\n  <div>\n    <dx-load-panel [closeOnOutsideClick]=\"true\" [(visible)]=\"isLoading\">\n    </dx-load-panel>\n\n    <dx-scheduler\n      [dataSource]=\"appointmentsData\"\n      [views]=\"views\"\n      currentView=\"Week\"\n      [firstDayOfWeek]=\"1\"\n      [currentDate]=\"currentDate\"\n      [startDayHour]=\"7\"\n      [endDayHour]=\"23\"\n      [cellDuration]=\"15\"\n      [showCurrentTimeIndicator]=\"true\"\n      (onAppointmentFormCreated)=\"onAppointmentFormCreated($event)\"\n      (onAppointmentAdding)=\"onAppointmentAdding($event)\"\n      (onAppointmentUpdating)=\"onAppointmentUpdating($event)\"\n      (onAppointmentDeleting)=\"AppointmentDeleting($event)\"\n      (onOptionChanged)=\"onOptionChanged($event)\"\n      [shadeUntilCurrentTime]=\"shadeUntilCurrentTime\"\n      [width]=\"showCalendar ? 850 : 1300\"\n      appointmentTooltipTemplate=\"tooltip-template\"\n      dataCellTemplate=\"dataCellTemplate\"\n      (onAppointmentRendered)=\"onAppointmentRendered($event)\"\n    >\n      <!--<dx-load-indicator [(visible)]=\"isLoading\"></dx-load-indicator>-->\n      <!--<dxo-loading-indicator [show]=\"isLoading\"></dxo-loading-indicator>-->\n\n      <dxi-view name=\"Day\" type=\"day\" [intervalCount]=\"1\"> </dxi-view>\n      <dxi-view\n        name=\"Week\"\n        type=\"day\"\n        [intervalCount]=\"7\"\n        [startDate]=\"daysViewStartDate\"\n      >\n      </dxi-view>\n      <dxi-view name=\"Months\" type=\"month\" [intervalCount]=\"1\"> </dxi-view>\n\n      <dxi-resource\n        fieldExpr=\"doctorId\"\n        label=\"Doctor List\"\n        [dataSource]=\"doctorColorList\"\n      >\n      </dxi-resource>\n\n      <div *dxTemplate=\"let showtime of 'tooltip-template'\">\n        <div>\n          <dx-button\n            text=\"Delete\"\n            (onClick)=\"onAppointmentDeleteFromTooltip(showtime, null)\"\n            type=\"danger\"\n          ></dx-button>\n          <dx-button\n            text=\"Open Appointment\"\n            (onClick)=\"openSelectedAppointment(showtime, null)\"\n            type=\"default\"\n          ></dx-button>\n          <dx-button\n            text=\"Go to Treatment\"\n            (onClick)=\"opentSelectedTreatment(showtime, null)\"\n            type=\"success\"\n          ></dx-button>\n          <dx-button\n            text=\"{{\n              showtime.hasTreatmentOffersRegistred ? 'Update Plan' : 'Add Plan'\n            }}\"\n            (onClick)=\"opentSelectedTreatment(showtime, true)\"\n            type=\"normal\"\n          ></dx-button>\n        </div>\n      </div>\n\n      <div *dxTemplate=\"let cellData of 'dataCellTemplate'\">\n        <div [ngClass]=\"hasBleaching(cellData)\">&nbsp;</div>\n      </div>\n    </dx-scheduler>\n  </div>\n  <div class=\"{{ showCalendar ? '' : 'display-none' }}\">\n    <dx-calendar\n      [firstDayOfWeek]=\"1\"\n      (onValueChanged)=\"onCalnedarValueChanged($event)\"\n    >\n    </dx-calendar>\n    <dx-calendar\n      [firstDayOfWeek]=\"1\"\n      (onValueChanged)=\"onCalnedarValueChanged($event)\"\n      [(value)]=\"secondMonth\"\n    >\n    </dx-calendar>\n    <dx-calendar\n      [firstDayOfWeek]=\"1\"\n      (onValueChanged)=\"onCalnedarValueChanged($event)\"\n      [(value)]=\"thirdMonth\"\n    >\n    </dx-calendar>\n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/appointment-scheduler/appointment-scheduler.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppointmentSchedulerComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__appointment_scheduler_service__ = __webpack_require__("./src/app/appointment-scheduler/appointment-scheduler.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_devextreme_angular__ = __webpack_require__("./node_modules/devextreme-angular/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_devextreme_angular___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_devextreme_angular__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__ = __webpack_require__("./node_modules/rxjs/_esm5/Subject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_do__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/do.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_debounceTime__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/debounceTime.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








//disabled="selectedDr.title === 'Dr.'"
var DoctorListData = (function () {
    function DoctorListData() {
    }
    return DoctorListData;
}());
var ChairListData = (function () {
    function ChairListData() {
    }
    return ChairListData;
}());
var AppointmentSchedulerComponent = (function () {
    function AppointmentSchedulerComponent(_appontmentService, router) {
        this._appontmentService = _appontmentService;
        this.router = router;
        this.currentDate = new Date();
        this.showCurrentTimeIndicator = true;
        this.shadeUntilCurrentTime = true;
        this.loggedInDrID = +localStorage["loggedInDrID"];
        this.customers = [];
        this.customersData = [];
        this.appointmentViewTypes = ["All", "Me"];
        this.rooms = ["1", "2", "3"];
        this.selectedRoom = "1";
        this.currentView = "Week";
        this.daysViewStartDate = this.getMonday(new Date());
        this.isLoading = false;
        this.searchCustomerSubject = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["b" /* Subject */]();
        this.isAll = true; // Default All radio button is selected
        // this.appointmentsData = _appontmentService.getAppointments();
        // this.rooms = _appontmentService.getRooms();
        this.doctorListData = new Array();
        this.selectedDr = new DoctorListData();
        this.chairListData = new Array();
        this.chairListByDr = new Array();
        this.selectedChair = new ChairListData();
        this.doctorColorList = new Array();
    }
    AppointmentSchedulerComponent.prototype.onRoomChange = function (event) {
        this.selectedRoom = event.value;
        debugger;
    };
    AppointmentSchedulerComponent.prototype.getMonday = function (d) {
        d = new Date(d);
        var day = d.getDay(), diff = d.getDate() - day + (day == 0 ? -6 : 1); // adjust when day is sunday
        return new Date(d.setDate(diff));
    };
    AppointmentSchedulerComponent.prototype.onWindowScroll = function () {
        var schedulerTag = document.getElementsByTagName("dx-scheduler"), schedulerHeaderElem = schedulerTag[0].children[0], schedulerWeekTableHeader = document.getElementsByClassName("dx-scheduler-header-panel")[0], weekDaysCells = document.getElementsByClassName("dx-scheduler-header-row")[0], weekDaysCellsArr = Array.from(weekDaysCells.children);
        weekDaysCells.classList.add("no-before");
        if (schedulerHeaderElem &&
            schedulerWeekTableHeader &&
            this.currentView === "Week") {
            if (window.pageYOffset > 200) {
                schedulerHeaderElem.classList.add("sticky");
                schedulerWeekTableHeader.classList.add(this.showCalendar ? "sticky-week-header-small" : "sticky-week-header");
                weekDaysCellsArr.forEach(function (element) {
                    element.classList.add("week-days-border");
                });
            }
            else {
                schedulerHeaderElem.classList.remove("sticky");
                schedulerWeekTableHeader.classList.remove(this.showCalendar ? "sticky-week-header-small" : "sticky-week-header");
                weekDaysCellsArr.forEach(function (element) {
                    element.classList.remove("week-days-border");
                });
            }
        }
    };
    AppointmentSchedulerComponent.prototype.hasBleaching = function (cellData) {
        if (this.appointmentsData &&
            this.appointmentsData.length &&
            this.bleachingAppointments &&
            this.bleachingAppointments.length) {
            var hasBleaching = this.bleachingAppointments.some(function (item) {
                return __WEBPACK_IMPORTED_MODULE_1_moment__(cellData.startDate).unix() >=
                    __WEBPACK_IMPORTED_MODULE_1_moment__(item.startDate).unix() &&
                    __WEBPACK_IMPORTED_MODULE_1_moment__(cellData.endDate).unix() <= __WEBPACK_IMPORTED_MODULE_1_moment__(item.endDate).unix();
            }), className = hasBleaching ? "bleaching" : "";
            return className;
        }
        else {
            return "";
        }
        // startdate                          enddate
        // v                                        v
        // #----------------------------------------#
        //
        //         #----------------------#
        //         ^                      ^
        //         startD              endD
        // return startD >= startdate && endD <= enddate;
    };
    AppointmentSchedulerComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.searchCustomerSubject.debounceTime(1000).subscribe(function (response) {
            _this.getCustomers(response);
        });
        if (!localStorage["loggedInDrID"]) {
            this.router.navigate(["/login"]);
        }
        // this.getCustomers();
        this.getDoctors();
        new Date().getMonth() == 11
            ? (this.secondMonth = new Date(new Date().getFullYear() + 1, 0, 1))
            : (this.secondMonth = new Date(new Date().getFullYear(), new Date().getMonth() + 1, 1));
        new Date().getMonth() == 11
            ? (this.thirdMonth = new Date(new Date().getFullYear() + 1, 1, 1))
            : (this.thirdMonth = new Date(new Date().getFullYear(), new Date().getMonth() + 2, 1));
    };
    AppointmentSchedulerComponent.prototype.getAppointment = function (doctorId, chairId) {
        var _this = this;
        var params = {
            DoctorId: doctorId,
            ChairId: chairId
        };
        // this.isLoading = true;
        this._appontmentService.getAppointments(params).subscribe(function (data) {
            _this.appointmentsData = data.slice();
            var appointmentToFilter = data.slice();
            _this.appointmentsData = appointmentToFilter.filter(function (item) { return !item.showInBackground; });
            var bleachAppoint = _this.appointmentsData
                .filter(function (item) { return item.showInBackground; })
                .map(function (item) {
                var obj = { startDate: item.startDate, endDate: item.endDate };
                return obj;
            });
            _this.bleachingAppointments = bleachAppoint.slice();
        });
    };
    AppointmentSchedulerComponent.prototype.getDoctors = function () {
        var _this = this;
        var param = {
            Action: "GETDOCTORLIST"
        };
        // this.isLoading = true;
        this._appontmentService.getDoctors(param).subscribe(function (data) {
            // this.isLoading = false;
            _this.doctorListData = data.doctorListData ? data.doctorListData : [];
            _this.doctorColorList = _this.doctorListData.map(function (x) {
                var obj = { text: x.name, id: x.id, color: x.color };
                return obj;
            });
            _this.chairListData = data.chairListData;
            _this.chairListData.forEach(function (item) { return (item.chairId = item.chairId.toString()); });
            // if(localStorage['loggedInDrID'] == '-1'){
            //   this.doctorListData.forEach(x=>x.title = 'Assistant');
            //   localStorage['loggedInDrID'] = '2';
            // }
            _this.selectedDr = _this.doctorListData.filter(function (x) { return x.id == +localStorage["loggedInDrID"]; })[0];
            _this.selectedChair = _this.chairListData.filter(function (x) { return x.doctorId === _this.selectedDr.id && x.isPrimaryChair; })[0];
            _this.chairListByDr = _this.chairListData.filter(function (x) { return x.doctorId === _this.selectedDr.id; });
            // this.selectedChair.chairId = this.selectedChair.chairId.toString();
            _this.getAppointmentsByDateRange(_this.selectedDr.id, _this.selectedChair.chairId, _this.getDateRange(_this.currentView));
            // this.getAppointment(this.selectedDr.id, this.selectedChair.chairId); getAppointment removed getAppointmentsByDateRange is implemented
        }, function () {
            _this.promptError("Getting Doctors List Failed!");
        });
    };
    AppointmentSchedulerComponent.prototype.getAppointmentsByDateRange = function (doctorId, chairId, dateRangeObj) {
        var _this = this;
        var params = {
            DoctorId: this.isAll ? 0 : doctorId,
            ChairId: chairId,
            StartDate: dateRangeObj["fromDate"],
            EndDate: dateRangeObj["toDate"]
        };
        // this.isLoading = true;
        this._appontmentService.getAppointmentDataByDateInterval(params).subscribe(function (data) {
            // this.isLoading = false;
            // this.appointmentsData = [...data];
            _this.appointmentsData = data.slice();
            var appointmentToFilter = data.slice();
            _this.appointmentsData = appointmentToFilter.filter(function (item) { return !item.showInBackground; });
            var bleachAppoint = appointmentToFilter
                .filter(function (item) { return item.showInBackground; })
                .map(function (item) {
                var obj = { startDate: item.startDate, endDate: item.endDate };
                return obj;
            });
            _this.bleachingAppointments = bleachAppoint.slice();
            // this.appointmentsData = this.appointmentsData.filter(item => item.doctorId === this.selectedDr.id);
        }, function () { return _this.promptError("Getting Appoitments Failed!"); });
    };
    AppointmentSchedulerComponent.prototype.selectChair = function (event) {
        this.selectedChair = this.chairListData.filter(function (x) { return x.chairId === event.value; })[0];
        // this.selectedChair.chairId = this.selectedChair.chairId.toString();
        this.getAppointmentsByDateRange(this.selectedDr.id, this.selectedChair.chairId, this.getDateRange(this.currentView));
        // this.getAppointment(this.selectedDr.id, this.selectedChair.chairId);
    };
    AppointmentSchedulerComponent.prototype.getCustomers = function (custSearchString) {
        var _this = this;
        // NEW IMPLEMENTATION
        var param = {
            FilterText: custSearchString
        };
        this.isLoading = true;
        this._appontmentService.getCustomersByFilter(param).subscribe(function (response) {
            _this.isLoading = false;
            if (response && response.length) {
                var cloneCustomer = response.slice();
                _this.customersData = cloneCustomer;
                // this.customers = [];
                cloneCustomer.forEach(function (item) {
                    var obj = {
                        text: item.firstname + " " + item.lastname + "  |  " + item.tel,
                        id: item.id,
                        note: item.noteOfCustomer
                    };
                    _this.customers.push(obj);
                });
            }
            else {
                (function () { return _this.promptError("Error Occured!"); });
            }
        }, function () { return _this.promptError("Error Occured!"); });
        // OLD IMPLEMENTATION
        // this._appontmentService.getCustomers().subscribe((customersData: any[]) => {
        //   this.customersData = customersData;
        //   if (customersData && customersData.length) {
        //     customersData.forEach((item) => {
        //       let obj = {
        //         text: item.firstname + ' ' + item.lastname + '  |  ' + item.tel,
        //         id: item.id
        //       }
        //       this.customers.push(obj);
        //     });
        //   }
        // });
    };
    AppointmentSchedulerComponent.prototype.switchAppointmentType = function (event) {
        this.isAll = event.value !== "Me";
        // if (event.value === 'Me') {
        this.getAppointmentsByDateRange(this.selectedDr.id, this.selectedChair.chairId, this.getDateRange(this.currentView));
        // this.getAppointment(this.selectedDr.id, this.selectedChair.chairId);
        // } else {
        // this.getAppointmentsByDateRange(0, this.selectedChair.chairId, this.getDateRange(this.currentView));
        // this.getAppointment(0, this.selectedChair.chairId);
        // }
    };
    AppointmentSchedulerComponent.prototype.onAppointmentAdding = function (e) {
        var _this = this;
        debugger;
        var customer = e.appointmentData.Customers
            ? this.customersData.filter(function (x) { return x.id == e.appointmentData.Customers; })[0]
            : "";
        var customerName;
        if (customer) {
            customerName = customer.firstname + " " + customer.lastname;
        }
        var param = {
            UniqueID: 0,
            Action: "I",
            Type: null,
            StartDate: e.appointmentData.startDate.toLocaleString(),
            EndDate: e.appointmentData.endDate.toLocaleString(),
            Subject: customerName + " - " + e.appointmentData.text,
            Description: e.appointmentData.description || "",
            CustomField1: e.appointmentData.Customers || "",
            CustomField2: e.appointmentData.hasOwnProperty("doctorId")
                ? e.appointmentData.doctorId
                : this.selectedDr.id,
            CustomField3: +this.selectedChair.chairId,
            CustomField4: e.appointmentData.Bleaching ? 1 : 0,
            CustomField5: e.appointmentData["Missed Appointment"] ? 1 : 0
        };
        this._appontmentService.appointmentsInsertUpdate(param).subscribe(function (data) {
            if (data) {
                _this.getAppointmentsByDateRange(_this.selectedDr.id, _this.selectedChair.chairId, _this.getDateRange(_this.currentView));
            }
            else {
                _this.promptError("Appointment Insert Failed!");
            }
            // this.getAppointment(this.selectedDr.id, this.selectedChair.chairId)
        }, function () { return _this.promptError("Appointment Insert Failed!"); });
    };
    AppointmentSchedulerComponent.prototype.promptError = function (msg) {
        this.isLoading = false;
        this._appontmentService.toasterMessage(msg, "error", 4000);
        setTimeout(function () { return location.reload(); }, 5000);
    };
    AppointmentSchedulerComponent.prototype.AppointmentDeleting = function (e) {
        var _this = this;
        var param = {
            Act: "D",
            UniqueID: e.appointmentData.uniqueID
        };
        this._appontmentService.appointmentsInsertUpdate(param).subscribe(function (data) {
            _this.getAppointmentsByDateRange(_this.selectedDr.id, _this.selectedChair.chairId, _this.getDateRange(_this.currentView));
            // this.getAppointment(this.selectedDr.id, this.selectedChair.chairId) getAppointment removed getAppointmentsByDateRange is implemented
        }, function () { return _this.promptError("Appoitment Delete Failed!"); });
    };
    AppointmentSchedulerComponent.prototype.onAppointmentDeleteFromTooltip = function (e) {
        var _this = this;
        var param = {
            Act: "D",
            UniqueID: e.uniqueID
        };
        this._appontmentService.appointmentsInsertUpdate(param).subscribe(function (data) {
            _this.getAppointmentsByDateRange(_this.selectedDr.id, _this.selectedChair.chairId, _this.getDateRange(_this.currentView));
            // this.getAppointment(this.selectedDr.id, this.selectedChair.chairId)
        });
    };
    // AppointmentDeleted(s) {
    //   debugger;
    // }
    AppointmentSchedulerComponent.prototype.onAppointmentUpdating = function (e) {
        var _this = this;
        debugger;
        var param = {
            Act: "U",
            StartDate: e.newData.startDate.toLocaleString(),
            EndDate: e.newData.endDate.toLocaleString(),
            Subject: e.newData.text,
            Description: e.newData.Description,
            UniqueID: e.newData.uniqueID,
            CustomField1: e.newData.Customers,
            CustomField2: e.newData.hasOwnProperty("doctorId")
                ? e.newData.doctorId
                : this.selectedDr.id,
            CustomField3: this.selectedChair.chairId,
            CustomField4: e.newData.Bleaching ? 1 : 0,
            CustomField5: e.newData["Missed Appointment"] ? 1 : 0
        };
        this._appontmentService.appointmentsInsertUpdate(param).subscribe(function (data) {
            if (data) {
                _this.getAppointmentsByDateRange(_this.selectedDr.id, _this.selectedChair.chairId, _this.getDateRange(_this.currentView));
            }
            else {
                (function () { return _this.promptError("Appoitment Update Failed!"); });
            }
        }, function () { return _this.promptError("Appoitment Update Failed!"); });
    };
    AppointmentSchedulerComponent.prototype.onAppointmentRendered = function (e) {
        if (e.appointmentData.isMissed) {
            e.appointmentElement.style.color = "rgb(255, 5, 5)";
            e.appointmentElement.style.fontWeight = "bold";
            e.appointmentElement.style.fontStyle = "italic";
            return;
        }
        if (!e.appointmentData.hasTreatmentRegistred &&
            new Date(e.appointmentData.endDate).getTime() < new Date().getTime()) {
            e.appointmentElement.style.color = "rgb(255, 255, 212)";
            e.appointmentElement.style.fontWeight = "bold";
            e.appointmentElement.style.fontStyle = "italic";
        }
    };
    AppointmentSchedulerComponent.prototype.selectDr = function (e) {
        var _this = this;
        this.selectedDr = this.doctorListData.filter(function (x) { return x.id == e.value; })[0];
        this.selectedChair = this.chairListData.filter(function (x) { return x.doctorId === _this.selectedDr.id && x.isPrimaryChair; })[0];
        this.chairListByDr = this.chairListData.filter(function (x) { return x.doctorId === _this.selectedDr.id; });
        // this.selectedChair.chairId = this.selectedChair.chairId.toString();
        this.getAppointmentsByDateRange(this.selectedDr.id, this.selectedChair.chairId, this.getDateRange(this.currentView));
        // this.getAppointment(this.selectedDr.id, this.selectedChair.chairId);
    };
    AppointmentSchedulerComponent.prototype.findIndexByAttr = function (array, attr, value) {
        for (var i = 0; i < array.length; i += 1) {
            if (array[i][attr] === value) {
                return i;
            }
        }
        return -1;
    };
    AppointmentSchedulerComponent.prototype.onCustomerChanged = function (e) {
        var customer = this.customers.find(function (x) { return x.id == e.value; });
        if (customer) {
            var list = document.querySelectorAll('.dx-texteditor-input');
            var item_1;
            Array.from(list).forEach(function (x) {
                if (x && x['name'] == 'Note') {
                    item_1 = x;
                }
            });
            item_1.value = customer.note;
        }
    };
    AppointmentSchedulerComponent.prototype.initilizeAppoitmentForm = function (e, note) {
        debugger;
        var form = e.form;
        var formOptions = form.option();
        var formItems = form.option("items");
        var index1 = this.findIndexByAttr(formItems, "dataField", "doctorId");
        formItems.splice(index1, 1);
        var index2 = this.findIndexByAttr(formItems, "dataField", "Doctor List");
        formItems.splice(index2, 1);
        var index3 = this.findIndexByAttr(formItems, "dataField", "Customers");
        formItems.splice(index3, 1);
        if (formItems.length > 10 && formItems[10].dataField == "Customers") {
            formItems.splice(-1, 2);
        }
        if (!formItems.find(function (item) { return item.dataField === "Missed Appointment"; })) {
            formItems.push({
                dataField: "Missed Appointment",
                editorType: "dxCheckBox",
                editorOptions: {
                    value: e.appointmentData.hasOwnProperty("isMissed")
                        ? e.appointmentData.isMissed
                        : false
                }
            });
        }
        if (!formItems.find(function (x) { return x.dataField == "Bleaching"; })) {
            formItems.push({
                dataField: "Bleaching",
                editorType: "dxCheckBox",
                editorOptions: {
                    value: e.appointmentData.hasOwnProperty("isBleaching")
                        ? e.appointmentData.isBleaching
                        : false
                }
            });
        }
        if (!formItems.find(function (x) { return x.dataField == "Doctor List"; })) {
            formItems.push({
                dataField: "Doctor List",
                editorType: "dxSelectBox",
                editorOptions: {
                    dataSource: this.doctorColorList,
                    displayExpr: "text",
                    valueExpr: "id",
                    searchEnabled: false,
                    showClearButton: false,
                    value: e.appointmentData.hasOwnProperty("doctorId")
                        ? e.appointmentData.doctorId
                        : this.selectedDr.id
                }
            });
        }
        var scope = this;
        if (!formItems.find(function (x) { return x.dataField == "Customers"; })) {
            formItems.push({
                dataField: "Customers",
                editorType: "dxSelectBox",
                editorOptions: {
                    dataSource: this.customers,
                    displayExpr: "text",
                    valueExpr: "id",
                    onKeyUp: function (args) {
                        scope.searchCustomerSubject.next(args.event.target.value);
                    },
                    onValueChanged: function (e) {
                        scope.onCustomerChanged(e);
                    },
                    searchEnabled: true,
                    showClearButton: true,
                    value: e.appointmentData.hasOwnProperty("customerId")
                        ? e.appointmentData.customerId
                        : "",
                    deferRendering: false
                }
            });
        }
        if (!formItems.find(function (x) { return x.dataField == "Note"; })) {
            formItems.push({
                dataField: "Note",
                editorType: "dxTextArea",
                editorOptions: {
                    readOnly: true,
                    value: note || '',
                }
            });
        }
        form.option({
            items: formItems
        });
    };
    AppointmentSchedulerComponent.prototype.getCustomerByID = function (e, id) {
        var _this = this;
        var param = {
            CustomerID: id
        };
        this._appontmentService
            .getCustomerByID(param)
            .subscribe(function (customersData) {
            _this.customersData = customersData;
            if (customersData && customersData.length) {
                customersData.forEach(function (item) {
                    var obj = {
                        text: item.firstname + " " + item.lastname + "  |  " + item.tel,
                        id: item.id,
                        note: item.noteOfCustomer
                    };
                    _this.customers.push(obj);
                });
                var customer = customersData.find(function (x) { return x.id == id; });
                _this.initilizeAppoitmentForm(e, customer.noteOfCustomer);
            }
        });
    };
    AppointmentSchedulerComponent.prototype.onAppointmentFormCreated = function (e) {
        if (!e.appointmentData.hasOwnProperty("customerId") &&
            !e.appointmentData.customerId) {
            this.customers = [];
            this.initilizeAppoitmentForm(e, null);
        }
        else {
            this.getCustomerByID(e, e.appointmentData.customerId);
        }
    };
    AppointmentSchedulerComponent.prototype.onCalnedarValueChanged = function (e) {
        this.currentDate = new Date(e.value);
        this.getAppointmentsByDateRange(this.selectedDr.id, this.selectedChair.chairId, this.getDateRange(this.currentView));
    };
    AppointmentSchedulerComponent.prototype.onOptionChanged = function (e) {
        if (e.fullName == "currentView") {
            this.currentView = e.value;
            this.getAppointmentsByDateRange(this.selectedDr.id, this.selectedChair.chairId, this.getDateRange(this.currentView));
        }
        if (e.fullName == "currentDate") {
            this.currentDate = e.value;
            this.getAppointmentsByDateRange(this.selectedDr.id, this.selectedChair.chairId, this.getDateRange(this.currentView));
        }
    };
    AppointmentSchedulerComponent.prototype.getDateRange = function (currentView) {
        var date = __WEBPACK_IMPORTED_MODULE_1_moment__(this.currentDate);
        var fromDate, toDate;
        switch (currentView) {
            case "Months":
                (fromDate = date.startOf("month").format("MM/DD/YYYY")),
                    (toDate = date.endOf("month").format("MM/DD/YYYY"));
                break;
            // from week is substracted sunday
            case "Week":
                (fromDate = date.startOf("isoWeek").format("MM/DD/YYYY")),
                    (toDate = date
                        .endOf("isoWeek")
                        .subtract(1, "days")
                        .format("MM/DD/YYYY"));
                break;
            case "Day":
                (fromDate = date.startOf("day").format("MM/DD/YYYY")),
                    (toDate = date.endOf("day").format("MM/DD/YYYY"));
                break;
            default:
                console.error("Cannot get date range");
                break;
        }
        return { fromDate: fromDate, toDate: toDate };
    };
    AppointmentSchedulerComponent.prototype.getToday = function () {
        this.currentDate = new Date();
    };
    AppointmentSchedulerComponent.prototype.openSelectedAppointment = function (e) {
        this.scheduler2.instance.showAppointmentPopup(e, false);
    };
    AppointmentSchedulerComponent.prototype.opentSelectedTreatment = function (e, isFromOffer) {
        debugger;
        if (isFromOffer) {
            this.router.navigate(["/treatments-offers"], {
                queryParams: {
                    AppointmentID: e.uniqueID,
                    HasOffer: e.hasTreatmentOffersRegistred,
                    DoctorId: e.doctorId,
                    CustomerId: e.customerId
                }
            });
        }
        else {
            this.router.navigate(["/treatments"], {
                queryParams: {
                    CustomerID: e.customerId,
                    AppointmentID: e.uniqueID,
                    DoctorID: e.doctorId
                }
            });
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_3_devextreme_angular__["DxSchedulerComponent"]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["QueryList"])
    ], AppointmentSchedulerComponent.prototype, "scheduler", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_3_devextreme_angular__["DxSchedulerComponent"]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_3_devextreme_angular__["DxSchedulerComponent"])
    ], AppointmentSchedulerComponent.prototype, "scheduler2", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["HostListener"])("window:scroll", []),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", []),
        __metadata("design:returntype", void 0)
    ], AppointmentSchedulerComponent.prototype, "onWindowScroll", null);
    AppointmentSchedulerComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: "app-appointment-scheduler",
            template: __webpack_require__("./src/app/appointment-scheduler/appointment-scheduler.component.html"),
            styles: [__webpack_require__("./src/app/appointment-scheduler/appointment-scheduler.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__appointment_scheduler_service__["a" /* AppointmentSchedulerService */],
            __WEBPACK_IMPORTED_MODULE_4__angular_router__["b" /* Router */]])
    ], AppointmentSchedulerComponent);
    return AppointmentSchedulerComponent;
}());



/***/ }),

/***/ "./src/app/appointment-scheduler/appointment-scheduler.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export Appointment */
/* unused harmony export PriorityData */
/* unused harmony export Customer */
/* unused harmony export DoctorColorList */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppointmentSchedulerService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_devextreme_ui_notify__ = __webpack_require__("./node_modules/devextreme/ui/notify.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_devextreme_ui_notify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_devextreme_ui_notify__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var Appointment = (function () {
    function Appointment() {
    }
    return Appointment;
}());

var PriorityData = (function () {
    function PriorityData() {
    }
    return PriorityData;
}());

var priorityData = [{
        text: "Low Priority",
        id: 1,
        color: "#fcb65e"
    }, {
        text: "High Priority",
        id: 2,
        color: "#e18e92"
    }
];
// test
var Customer = (function () {
    function Customer() {
    }
    return Customer;
}());

var DoctorColorList = (function () {
    function DoctorColorList() {
    }
    return DoctorColorList;
}());

var rooms = [
    {
        text: "Room 1",
        id: 1,
        color: "#00af2c"
    }, {
        text: "Room 2",
        id: 2,
        color: "#56ca85"
    }, {
        text: "Room 3",
        id: 3,
        color: "#8ecd3c"
    }
];
//=========
var AppointmentSchedulerService = (function () {
    // apiUrl = 'http://localhost:55762/api/core/';
    function AppointmentSchedulerService(http) {
        this.http = http;
        this.apiUrl = 'http://aristoapi.gearhostpreview.com/api/core/';
    }
    AppointmentSchedulerService.prototype.getAppointments = function (data) {
        var queryParams = this.serializeObject(data);
        return this.http.get(this.apiUrl + 'GetAppointmentData?' + queryParams, { headers: this.getAuthorizationHeader() });
    };
    //new
    AppointmentSchedulerService.prototype.getAppointmentDataByDateInterval = function (data) {
        var queryParams = this.serializeObject(data);
        return this.http.get(this.apiUrl + 'GetAppointmentDataByDateInterval?' + queryParams, { headers: this.getAuthorizationHeader() });
    };
    AppointmentSchedulerService.prototype.getCustomers = function () {
        return this.http.get(this.apiUrl + 'GetCustomers', { headers: this.getAuthorizationHeader() });
    };
    AppointmentSchedulerService.prototype.getCustomersByFilter = function (data) {
        var queryParams = this.serializeObject(data);
        return this.http.get(this.apiUrl + 'GetCustomersByFilter?' + queryParams, { headers: this.getAuthorizationHeader() });
    };
    AppointmentSchedulerService.prototype.getCustomerByID = function (data) {
        var queryParams = this.serializeObject(data);
        return this.http.get(this.apiUrl + 'GetCustomerByID?' + queryParams, { headers: this.getAuthorizationHeader() });
    };
    AppointmentSchedulerService.prototype.getDoctors = function (data) {
        var queryParams = this.serializeObject(data);
        return this.http.get(this.apiUrl + 'GetDoctorData', { headers: this.getAuthorizationHeader() });
    };
    AppointmentSchedulerService.prototype.appointmentsInsertUpdate = function (data) {
        var queryParams = this.serializeObject(data);
        return this.http.post(this.apiUrl + 'appointmentsInsertUpdate?' + queryParams, data, { headers: this.getAuthorizationHeader() });
    };
    AppointmentSchedulerService.prototype.getAppointmentsByCustomerId = function (data) {
        var queryParams = this.serializeObject(data);
        return this.http.get(this.apiUrl + 'GetAppointmentsByCustomerId?' + queryParams, { headers: this.getAuthorizationHeader() });
    };
    AppointmentSchedulerService.prototype.serializeObject = function (obj) {
        var str = [];
        for (var p in obj) {
            if (obj.hasOwnProperty(p)) {
                str.push(p + '=' + obj[p]);
            }
        }
        return str.join('&');
    };
    AppointmentSchedulerService.prototype.serializeURLSearchParams = function (data) {
        var requestParams = {};
        for (var key in data) {
            if (data.hasOwnProperty(key)) {
                requestParams[key] = data[key];
            }
        }
        return requestParams;
    };
    AppointmentSchedulerService.prototype.toasterMessage = function (message, type, timeout) {
        // The message's type: "info", "warning", "error" or "success"
        __WEBPACK_IMPORTED_MODULE_2_devextreme_ui_notify___default()({
            message: message,
            position: {
                my: "center top",
                at: "center top"
            }
        }, type, timeout || 3000);
    };
    AppointmentSchedulerService.prototype.getAuthorizationHeader = function () {
        var cred = localStorage.getItem('creds');
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["HttpHeaders"]();
        if (cred) {
            headers = headers.set("Authorization", cred);
        }
        return headers;
    };
    AppointmentSchedulerService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_common_http__["HttpClient"]])
    ], AppointmentSchedulerService);
    return AppointmentSchedulerService;
}());



/***/ }),

/***/ "./src/app/customer-appointments-grid/customer-appointments-grid.component.css":
/***/ (function(module, exports) {

module.exports = "#gridContainer { padding: 20px; }\n\n#customerSelectBox { padding-top: 20px; padding-left: 10px; }"

/***/ }),

/***/ "./src/app/customer-appointments-grid/customer-appointments-grid.component.html":
/***/ (function(module, exports) {

module.exports = "<div id=\"customerSelectBox\">\n    <customer-search (onCustomerSelect)=\"selectCustomer($event)\" [display]=\"value\"></customer-search>\n    <!-- <dx-select-box\n    [items]=\"customerList\"\n    placeholder=\"Choose Patient\"\n    [showClearButton]=\"true\"\n    [searchEnabled]=\"true\"\n    displayExpr=\"firstLastName\"\n    valueExpr=\"id\"\n    width=\"220\"\n    (onValueChanged)=\"selectCustomer($event)\">\n</dx-select-box> -->\n</div>\n\n<dx-data-grid id=\"gridContainer\" [dataSource]=\"customerAppointments\"\n    [columns]=\"['date', 'startTime', 'endTime', 'subject', 'doctor']\"\n    (onRowPrepared)=\"onRowPrepared($event)\">\n</dx-data-grid>"

/***/ }),

/***/ "./src/app/customer-appointments-grid/customer-appointments-grid.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CustomerAppointmentsGridComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__appointment_scheduler_appointment_scheduler_service__ = __webpack_require__("./src/app/appointment-scheduler/appointment-scheduler.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var CustomerAppointmentsData = (function () {
    function CustomerAppointmentsData() {
    }
    return CustomerAppointmentsData;
}());
var CustomerView = (function () {
    function CustomerView() {
    }
    return CustomerView;
}());
var CustomerAppointmentsGridComponent = (function () {
    function CustomerAppointmentsGridComponent(_appointmentService) {
        this._appointmentService = _appointmentService;
        this.value = '';
        this.customerAppointments = new Array();
        this.customerList = new Array();
    }
    CustomerAppointmentsGridComponent.prototype.ngOnInit = function () {
        var _this = this;
        this._appointmentService.getCustomers().subscribe(function (data) {
            _this.customerList = data;
            _this.customerList.forEach(function (x) {
                x.firstLastName = x.firstname + ' ' + x.lastname + ' | ' + x.tel;
            });
        });
    };
    CustomerAppointmentsGridComponent.prototype.getCustomerAppointments = function (customerId) {
        var _this = this;
        var params = {
            CustomerId: customerId
        };
        this._appointmentService.getAppointmentsByCustomerId(params).subscribe(function (data) {
            _this.customerAppointments = data;
        });
    };
    CustomerAppointmentsGridComponent.prototype.selectCustomer = function (e) {
        this.getCustomerAppointments(e.id);
    };
    CustomerAppointmentsGridComponent.prototype.onRowPrepared = function (e) {
        if (e.rowType == 'data' && e.data.isMissed) {
            e.rowElement.style.backgroundColor = '#fa6464';
            e.rowElement.className = e.rowElement.className.replace("dx-row-alt", "");
        }
    };
    CustomerAppointmentsGridComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-customer-appointments-grid',
            template: __webpack_require__("./src/app/customer-appointments-grid/customer-appointments-grid.component.html"),
            styles: [__webpack_require__("./src/app/customer-appointments-grid/customer-appointments-grid.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__appointment_scheduler_appointment_scheduler_service__["a" /* AppointmentSchedulerService */]])
    ], CustomerAppointmentsGridComponent);
    return CustomerAppointmentsGridComponent;
}());



/***/ }),

/***/ "./src/app/customer-form/customer-form.component.css":
/***/ (function(module, exports) {

module.exports = "::ng-deep #form-container {\n    margin: 10px 10px 30px;\n}\n::ng-deep #button {\n    float: right;\n    margin-top: 20px;\n}\n::ng-deep .long-title h3 {\n    font-family: 'Segoe UI Light', 'Helvetica Neue Light', 'Segoe UI', 'Helvetica Neue', 'Trebuchet MS', Verdana;\n    font-weight: 200;\n    font-size: 28px;\n    text-align: center;\n    margin-bottom: 20px;\n}"

/***/ }),

/***/ "./src/app/customer-form/customer-form.component.html":
/***/ (function(module, exports) {

module.exports = "<form action=\"your-action\" (submit)=\"onFormSubmit($event)\"style=\"\n    margin-top: 30px\">\n    <dx-form id=\"form\"\n        [readOnly]=\"false\"\n        [showColonAfterLabel]=\"false\"\n        [showValidationSummary]=\"true\"\n        validationGroup=\"customerData\">\n\n          <!--Customer NO-->\n          <dxi-item dataField=\"CustomerNo\"\n                      [editorOptions]=\"{ mode: 'number' }\">\n          </dxi-item>\n\n            <!--First Name-->\n          <dxi-item dataField=\"FirstName\">\n              <dxi-validation-rule \n                  type=\"required\"\n                  message=\"First Name is required\">\n              </dxi-validation-rule>\n          </dxi-item>\n\n          <!--Last Name-->\n            <dxi-item dataField=\"LastName\">\n              <dxi-validation-rule \n                  type=\"required\"\n                  message=\"First Name No is required\">\n              </dxi-validation-rule>\n          </dxi-item>\n\n          <!--Phone-->\n          <dxi-item dataField=\"Tel\" [editorOptions]=\"{ mode: 'number' }\">\n              <dxi-validation-rule \n                  type=\"required\"\n                  message=\"Phone is required\">\n              </dxi-validation-rule>\n          </dxi-item>\n\n          <!-- Phone 2 -->\n          <dxi-item dataField=\"SecondaryTel\" \n              [editorOptions]=\"{ mode: 'number' }\">\n          </dxi-item>\n\n          <!--Gender-->\n          <dxi-item dataField=\"Gender\" \n                  editorType=\"dxRadioGroup\" \n                  [editorOptions]=\"{ dataSource: genderItems, layout: 'horizontal' }\">\n          </dxi-item>\n\n          <!--Date of Birth-->\n          <dxi-item dataField=\"DateOfBirth\"\n              editorType=\"dxDateBox\"\n              [editorOptions]=\"{ invalidDateMessage: 'The date must have the following format: dd/MM/yyyy', displayFormat:'dd/MM/yyyy' }\">\n          </dxi-item>\n\n          <!--Personal ID-->\n          <dxi-item dataField=\"PersonalID\"\n              [editorOptions]=\"{ mode: 'number' }\">\n          </dxi-item>\n\n          <!--Messaging Language-->\n          <dxi-item dataField=\"MessagingLanguage\" \n                  editorType=\"dxSelectBox\" \n                  [editorOptions]=\"{ items: messagingLanguage, value: '' }\">\n          </dxi-item>\n\n          <!-- Address -->\n          <dxi-item dataField=\"Address\">\n          </dxi-item>\n\n          <!-- Email -->\n          <dxi-item dataField=\"Email\">\n          </dxi-item>\n\n          <!-- Note Of Customer -->\n          <dxi-item dataField=\"NoteOfCustomer\" editorType=\"dxTextArea\">\n          </dxi-item>\n\n          <!-- Register Button -->\n          <dxi-item \n              itemType=\"button\"\n              alignment=\"left\"\n              [buttonOptions]=\"buttonOptions\">\n          </dxi-item>\n\n    </dx-form>\n</form>\n\n\n<dx-popup\n  class=\"popup\"\n  [width]=\"300\"\n  [height]=\"300\"\n  [showTitle]=\"true\"\n  title=\"Existing User\"\n  [dragEnabled]=\"true\"\n  [closeOnOutsideClick]=\"true\"\n  [(visible)]=\"popupVisible\"\n  contentTemplate=\"popupContent\"\n>\n  <div *dxTemplate=\"let data of 'popupContent'\">\n    <p *ngIf=\"existingFullname\">Patient with name {{existingFirstname}} {{existingLastname}} exists!</p>\n    <p *ngIf=\"existingTelNumber\">Patient with telephone number {{existingTelNumber.tel}} exists!</p>\n  <br>\n  <p>Proceed anyway!</p>\n    <dx-button text=\"Yes\" type=\"default\" (onClick)=\"proceedAnyway($event)\"></dx-button>\n    <dx-button text=\"No\" type=\"normal\" (onClick)=\"dontProceed()\"></dx-button>\n  </div>\n</dx-popup>\n"

/***/ }),

/***/ "./src/app/customer-form/customer-form.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CustomerFormComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_devextreme_angular__ = __webpack_require__("./node_modules/devextreme-angular/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_devextreme_angular___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_devextreme_angular__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_devextreme_ui_notify__ = __webpack_require__("./node_modules/devextreme/ui/notify.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_devextreme_ui_notify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_devextreme_ui_notify__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__customer_form_service__ = __webpack_require__("./src/app/customer-form/customer-form.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var CustomerFormComponent = (function () {
    function CustomerFormComponent(_customerService, router) {
        this._customerService = _customerService;
        this.router = router;
        this.maxDate = new Date();
        this.namePattern = /^[^0-9]+$/;
        // phonePattern: any = /^\+\s*1\s*\(\s*[02-9]\d{2}\)\s*\d{3}\s*-\s*\d{4}$/;
        // phoneRules: any = {
        //   X: /[02-9]/
        // }
        this.buttonOptions = {
            text: "Register",
            type: "success",
            useSubmitBehavior: true
        };
        this.messagingLanguage = [
            'Albanian',
            'Turkish',
            'Serbian',
            'English'
        ];
        this.genderItems = ["Male", "Female"];
        this.popupVisible = false;
        this.popupText = "";
        this.existingFullname = "";
        this.existingFirstname = "";
        this.existingLastname = "";
        this.existingTelNumber = "";
        this.paramsToSend = null;
        this.noteOfCustomer = "";
        this.onFormSubmit = function (e) {
            var elements = e.currentTarget.elements;
            e.preventDefault();
            this.paramsToSend = {
                Id: 0,
                Act: 'I',
                CustomerNo: elements.CustomerNo.value,
                Firstname: elements.FirstName.value,
                Lastname: elements.LastName.value,
                Tel: elements.Tel.value,
                MobileTel: elements.SecondaryTel.value,
                Gender: elements.Gender.value ? elements.Gender.value === 'Female' : false,
                DateOfBirth: elements.DateOfBirth.value,
                PersonalID: elements.PersonalID.value,
                MessageLang: elements.MessagingLanguage.value,
                Adress: elements.Address.value,
                Email: elements.Email.value,
                Note: elements.NoteOfCustomer.value
            };
            var firstname = elements.FirstName.value;
            var lastname = elements.LastName.value;
            var fullname = firstname.toLowerCase().trim() + lastname.toLowerCase().trim();
            var existingFullname = this.customers.find(function (x) { return (x.firstname.trim().toLowerCase() + x.lastname.trim().toLowerCase()) == fullname; });
            var tel = elements.Tel.value;
            var existingTelNumber = this.customers.find(function (x) { return x.tel == tel; });
            if (existingFullname || existingTelNumber) {
                if (existingFullname) {
                    this.existingFullname = existingFullname;
                    this.existingFirstname = firstname;
                    this.existingLastname = lastname;
                }
                if (existingTelNumber) {
                    this.existingTelNumber = existingTelNumber;
                }
                this.popupVisible = true;
                return;
            }
            this.sendRequest();
        };
        this.maxDate = new Date(this.maxDate.setFullYear(this.maxDate.getFullYear() - 21));
    }
    CustomerFormComponent.prototype.ngOnInit = function () {
        var _this = this;
        if (!localStorage['loggedInDrID']) {
            this.router.navigate(['/login']);
        }
        this._customerService.getCustomers().subscribe(function (data) {
            _this.customers = data;
        });
    };
    CustomerFormComponent.prototype.sendRequest = function () {
        var _this = this;
        this._customerService.insertCustomer(this.paramsToSend).subscribe(function (data) { }, function (error) {
            _this.toasterMessage('Server Error', 'error');
        }, function () {
            _this.toasterMessage('Form submitted succsessfuly', 'success');
            _this.form.instance.resetValues();
        });
    };
    CustomerFormComponent.prototype.proceedAnyway = function () {
        this.sendRequest();
        this.existingFullname = "";
        this.existingFirstname = "";
        this.existingLastname = "";
        this.existingTelNumber = "";
        this.popupVisible = false;
    };
    CustomerFormComponent.prototype.dontProceed = function () {
        this.existingFullname = "";
        this.existingFirstname = "";
        this.existingLastname = "";
        this.existingTelNumber = "";
        this.popupVisible = false;
    };
    CustomerFormComponent.prototype.toasterMessage = function (message, type) {
        // The message's type: "info", "warning", "error" or "success"
        __WEBPACK_IMPORTED_MODULE_2_devextreme_ui_notify___default()({
            message: message,
            position: {
                my: "center top",
                at: "center top"
            }
        }, type, 3000);
    };
    CustomerFormComponent.prototype.insertCustomer = function (params) {
        var _this = this;
        this._customerService.insertCustomer(params).subscribe(function (data) {
        }, function (error) {
            _this.toasterMessage('Server Error', 'error');
        }, function () {
            _this.toasterMessage('Form submitted succsessfuly', 'success');
        });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1_devextreme_angular__["DxFormComponent"]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_devextreme_angular__["DxFormComponent"])
    ], CustomerFormComponent.prototype, "form", void 0);
    CustomerFormComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-customer-form',
            template: __webpack_require__("./src/app/customer-form/customer-form.component.html"),
            styles: [__webpack_require__("./src/app/customer-form/customer-form.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__customer_form_service__["a" /* CustomerFormService */], __WEBPACK_IMPORTED_MODULE_4__angular_router__["b" /* Router */]])
    ], CustomerFormComponent);
    return CustomerFormComponent;
}());



/***/ }),

/***/ "./src/app/customer-form/customer-form.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CustomerFormService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var CustomerFormService = (function () {
    function CustomerFormService(http) {
        this.http = http;
        this.apiUrl = 'http://aristoapi.gearhostpreview.com/api/core/';
    }
    // apiUrl = 'http://localhost:55762/api/core/';
    CustomerFormService.prototype.getCustomers = function () {
        return this.http.get(this.apiUrl + 'GetCustomers', { headers: this.getAuthorizationHeader() });
    };
    CustomerFormService.prototype.insertCustomer = function (data) {
        var queryParams = this.serializeObject(data);
        return this.http.post(this.apiUrl + 'CustomerInsertUpdate?' + queryParams, data, { headers: this.getAuthorizationHeader() });
    };
    CustomerFormService.prototype.serializeObject = function (obj) {
        var str = [];
        for (var p in obj) {
            if (obj.hasOwnProperty(p)) {
                str.push(p + '=' + obj[p]);
            }
        }
        return str.join('&');
    };
    CustomerFormService.prototype.getAuthorizationHeader = function () {
        var cred = localStorage.getItem('creds');
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["HttpHeaders"]();
        if (cred) {
            headers = headers.set("Authorization", cred);
        }
        return headers;
    };
    CustomerFormService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_common_http__["HttpClient"]])
    ], CustomerFormService);
    return CustomerFormService;
}());



/***/ }),

/***/ "./src/app/customer-search/customer-search.component.css":
/***/ (function(module, exports) {

module.exports = "\n.dd-container {\n    width: 300px;\n}\n\n.dd-list-item{\n  padding: 2px 5px;;\n  cursor: pointer;\n}\n\n.dd-display-item{\n  border: 1px solid #ddd;\n  padding: 6px 10px;;\n  border-radius: 3px;\n  font-size: 18px;\n  display: block;\n  cursor: pointer;\n  font-family: 'Helvetica Neue', 'Segoe UI', Helvetica, Verdana, sans-serif;\n}\n\n.dd-active{\n  background-color: #ddd;\n}\n\n.dd-highlight-item{\n  background-color: #00b7d4;\n  color: #fff;\n}\n\n.dd-items-container{\n  border: 1px solid #00b7d4;\n  background-color: #fff;\n  position: absolute;\n  font-size: 18px;\n  overflow: auto;\n  height: 180px;\n  width: 95%;\n  z-index: 9;\n  top: 27px;\n}\n\n.dd-no-result{\n  border: 1px solid #00b7d4;\n  background-color: #fff;\n  position: absolute;\n  font-size: 18px;\n  overflow: auto;\n  width: 95%;\n  z-index: 9;\n  top: 27px;\n  color: #e40000;\n}\n\n.drop-input{\n  position: absolute;\n  text-indent: 15px;\n  font-size: 18px;\n  z-index: 10;\n  width: 95%;\n  background-color: #ffff0045;\n  border-radius: 5px;\n}\n\n.dd-list-container{\n  position: relative;\n}"

/***/ }),

/***/ "./src/app/customer-search/customer-search.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"dd-container\">\n  <div class=\"dd-control-container\" (click)=\"toggle()\" tabindex=\"0\" #displayLabel>\n    <span class=\"dd-display-item\" role=\"textbox\">{{display || 'Select Patient'}}\n\t\t\t<div class=\"pull-right\"><i class=\"fa fa-caret-down\"></i></div>\n\t\t</span>\n  </div>\n\n  <div class=\"dd-list-container\" [hidden]=\"isListHide\">\n    <div><input type=\"text\" class=\"drop-input\" placeholder=\"Search...\" [(ngModel)]=\"searchText\" (keypress)=\"onKeyPress($event)\"\n        #filterInput></div>\n    <div class=\"dd-items-container\" *ngIf=\"items.length > 0 && show; else noResultTmp\">\n      <!--<div [attr.data-dd-value]=\"{id:'', display:'Select'}\" class=\"dd-list-item\" (click)=\"onItemSelect()\" (mouseover)=\"onHover($event)\" (mouseout)=\"onHover($event)\">{{placeholder}}</div>-->\n      <div #listItems [ngClass]=\" { 'dd-active dd-hightlight-item' :isSelected(item)} \" class=\"dd-list-item \" *ngFor=\"let item of items; let i=index \"\n        (click)=\"onItemSelect(item) \" [attr.data-dd-value]=\"stringify(item)\" (mouseover)=\"onHover($event) \" (mouseout)=\"onHover($event) \">\n        {{item.display}}\n      </div>\n    </div>\n\n    <ng-template #noResultTmp>\n      <div class=\"dd-no-result\">\n        <div class=\"dd-list-item \">No Result!</div>\n      </div>\n    </ng-template>\n  </div>\n</div>"

/***/ }),

/***/ "./src/app/customer-search/customer-search.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CustomerSearchComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs__ = __webpack_require__("./node_modules/rxjs/Rx.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_rxjs__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Rx__ = __webpack_require__("./node_modules/rxjs/_esm5/Rx.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__app_service__ = __webpack_require__("./src/app/app.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var KEY_CODE = {
    enter: 13,
    arrowUp: 38,
    arrowDown: 40,
    esc: 27,
};
var CSS_CLASS_NAMES = {
    highLight: 'dd-highlight-item',
};
var CustomerSearchComponent = (function () {
    function CustomerSearchComponent(_appService, elemRef) {
        this._appService = _appService;
        this.elemRef = elemRef;
        this.onCustomerSelect = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onChange = function () { };
        this.onTouched = function () { };
        this.keyDowns = __WEBPACK_IMPORTED_MODULE_1_rxjs__["Observable"].fromEvent(this.elemRef.nativeElement, 'keydown');
        this.isListHide = true;
        this._display = 'Select Patient...';
        this.placeholder = '';
        this.searchText = '';
        this.items = [];
        this.show = true;
        this.pressEnterKey = this.keyDowns.filter(function (e) { return e.keyCode === KEY_CODE.enter; });
    }
    Object.defineProperty(CustomerSearchComponent.prototype, "display", {
        get: function () {
            return this._display;
        },
        set: function (value) {
            this._display = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CustomerSearchComponent.prototype, "value", {
        get: function () {
            return this._value;
        },
        set: function (val) {
            this._value = val;
        },
        enumerable: true,
        configurable: true
    });
    CustomerSearchComponent.prototype.onClick = function (ev) {
        var clickInside = this.elemRef.nativeElement.contains(ev.target);
        if (!clickInside) {
            this.isListHide = true;
        }
    };
    CustomerSearchComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.pressEnterKey.filter(function () { return !_this.isListHide; }).subscribe(function () {
            var hightLightItem = _this.listItems.find(function (elem) { return elem.nativeElement.classList.contains(CSS_CLASS_NAMES.highLight); });
            if (hightLightItem) {
                var item = JSON.parse(hightLightItem.nativeElement.getAttribute('data-dd-value'));
                _this.setItem(item);
                _this.onChange(item.id);
            }
        });
        __WEBPACK_IMPORTED_MODULE_1_rxjs__["Observable"].fromEvent(this.filterInput.nativeElement, 'keyup')
            .map(function (evt) { return evt.target.value; })
            .debounceTime(1000)
            .distinctUntilChanged()
            .subscribe(function (text) { return _this.searchCustomer(text); });
    };
    CustomerSearchComponent.prototype.setItem = function (item) {
        if (item) {
            if (item.id) {
                this.value = item.id;
            }
            if (item.display) {
                this.display = item.display;
            }
        }
        else {
            this.value = '';
            this.display = this.placeholder;
        }
        this.onCustomerSelect.emit({ id: this.value, display: this.display });
    };
    CustomerSearchComponent.prototype.toggle = function () {
        var _this = this;
        this.isListHide = !this.isListHide;
        this.searchText = '';
        if (!this.isListHide) {
            setTimeout(function () { return _this.filterInput.nativeElement.focus(); }, 0);
            this.listItems.forEach(function (item) {
                if (JSON.parse(item.nativeElement.getAttribute('data-dd-value'))['id'] === _this.value) {
                    _this.addHightLightClass(item.nativeElement);
                    _this.scrollToView(item.nativeElement);
                }
                else {
                    _this.removeHightLightClass(item.nativeElement);
                }
            });
        }
    };
    CustomerSearchComponent.prototype.addHightLightClass = function (elem) {
        elem.classList.add(CSS_CLASS_NAMES.highLight);
    };
    CustomerSearchComponent.prototype.removeHightLightClass = function (elem) {
        elem.classList.remove(CSS_CLASS_NAMES.highLight);
    };
    CustomerSearchComponent.prototype.scrollToView = function (elem) {
        var _this = this;
        if (elem) {
            setTimeout(function () { return elem.scrollIntoView(); }, 0);
        }
        else {
            var selectedItem_1 = this.listItems.find(function (item) { return JSON.parse(item.nativeElement.getAttribute('data-dd-value'))['id'] === _this.value; });
            if (selectedItem_1) {
                setTimeout(function () { return selectedItem_1.nativeElement.scrollIntoView(); }, 0);
            }
        }
    };
    CustomerSearchComponent.prototype.searchCustomer = function (txt) {
        var _this = this;
        var param = {
            FilterText: txt
        };
        this.show = false;
        this._appService.getCustomersByFilter(param).subscribe(function (response) {
            _this.show = true;
            _this.items = response.map(function (item) {
                var obj = {
                    id: item['id'],
                    display: item['firstname'] + ' ' + item['lastname'] + ' | ' + item['tel'],
                };
                return obj;
            });
        });
    };
    CustomerSearchComponent.prototype.isSelected = function (item) {
        return +item.id === +this.value;
    };
    CustomerSearchComponent.prototype.onKeyPress = function (e) {
        if (e.keyCode === KEY_CODE.enter) {
            this.focus();
            return false;
        }
    };
    CustomerSearchComponent.prototype.focus = function () {
        var _this = this;
        setTimeout(function () { return _this.displayLabel.nativeElement.focus(); }, 0);
    };
    CustomerSearchComponent.prototype.stringify = function (item) {
        return JSON.stringify(item);
    };
    CustomerSearchComponent.prototype.onHover = function (event) {
        this.clearHlightClass();
        var target = event.target;
        if (event.type === 'mouseover') {
            target.classList.add(CSS_CLASS_NAMES.highLight);
        }
        else {
            target.classList.remove(CSS_CLASS_NAMES.highLight);
        }
    };
    CustomerSearchComponent.prototype.clearHlightClass = function () {
        var _this = this;
        this.listItems.forEach(function (item) {
            _this.removeHightLightClass(item.nativeElement);
        });
    };
    CustomerSearchComponent.prototype.onItemSelect = function (item) {
        this.setItem(item);
        this.toggle();
        if (item !== undefined) {
            this.onChange(item.id);
        }
        else {
            this.onChange('');
        }
        this.focus();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])('onCustomerSelect'),
        __metadata("design:type", Object)
    ], CustomerSearchComponent.prototype, "onCustomerSelect", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Object),
        __metadata("design:paramtypes", [Object])
    ], CustomerSearchComponent.prototype, "display", null);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('filterInput'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], CustomerSearchComponent.prototype, "filterInput", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('displayLabel'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], CustomerSearchComponent.prototype, "displayLabel", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChildren"])('listItems'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["QueryList"])
    ], CustomerSearchComponent.prototype, "listItems", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["HostListener"])('document:click', ['$event']),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [MouseEvent]),
        __metadata("design:returntype", void 0)
    ], CustomerSearchComponent.prototype, "onClick", null);
    CustomerSearchComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'customer-search',
            template: __webpack_require__("./src/app/customer-search/customer-search.component.html"),
            styles: [__webpack_require__("./src/app/customer-search/customer-search.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__app_service__["a" /* AppService */], __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"]])
    ], CustomerSearchComponent);
    return CustomerSearchComponent;
}());



/***/ }),

/***/ "./src/app/customer-search/customer-search.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CustomerSearchModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__customer_search_component__ = __webpack_require__("./src/app/customer-search/customer-search.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




var CustomerSearchModule = (function () {
    function CustomerSearchModule() {
    }
    CustomerSearchModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            imports: [
                __WEBPACK_IMPORTED_MODULE_1__angular_common__["CommonModule"],
                __WEBPACK_IMPORTED_MODULE_3__angular_forms__["FormsModule"],
            ],
            declarations: [__WEBPACK_IMPORTED_MODULE_2__customer_search_component__["a" /* CustomerSearchComponent */]],
            exports: [__WEBPACK_IMPORTED_MODULE_2__customer_search_component__["a" /* CustomerSearchComponent */]]
        })
    ], CustomerSearchModule);
    return CustomerSearchModule;
}());



/***/ }),

/***/ "./src/app/customers/customers.component.css":
/***/ (function(module, exports) {

module.exports = ".customer-grid {\n    padding-top: 40px;\n}"

/***/ }),

/***/ "./src/app/customers/customers.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"customer-grid\">\n<dx-data-grid\n    #gridRef\n    [hoverStateEnabled]=\"true\"\n    [dataSource]=\"customers\"\n    [columns]=\"['customerNo', 'firstname', 'lastname', 'tel', 'secondary tel', 'gender', 'birthdate', 'adress', 'email', 'noteOfCustomer']\"\n    (onRowInserting)=\"insertPatient($event)\"\n    (onRowUpdating)=\"updatePatient($event)\"\n    (onRowRemoving)=\"deletePatient($event)\"\n    (onRowClick)=\"selectRow($event)\">\n    <dxo-paging [pageSize]=\"20\"></dxo-paging>\n    <dxo-selection\n        mode=\"single\"> <!-- \"multiple\" | \"none\" -->\n    </dxo-selection>\n     <dxo-search-panel \n        [visible]=\"true\" \n        [width]=\"240\" \n        placeholder=\"Search...\">\n    </dxo-search-panel>\n     <dxo-editing \n         mode=\"popup\"\n         [allowUpdating]=\"true\"\n         [allowDeleting]=\"true\"\n         [allowAdding]=\"true\">\n          <dxo-popup\n                title=''\n                [showTitle]=\"true\"\n                [width]=\"700\"\n                [height]=\"345\">\n            </dxo-popup>\n    </dxo-editing>\n    <dxi-column dataField=\"customerNo\" caption=\"Customer No\" [visible]=\"false\"></dxi-column>\n        <dxi-column dataField=\"firstname\" caption=\"First Name\">\n            <dxi-validation-rule \n                    type=\"required\"\n                    message=\"First Name is required\">\n                </dxi-validation-rule></dxi-column>\n        <dxi-column dataField=\"lastname\" caption=\"Last Name\"> <dxi-validation-rule \n                    type=\"required\"\n                    message=\"Last Name is required\">\n                </dxi-validation-rule></dxi-column>\n        <dxi-column dataField=\"tel\"> <dxi-validation-rule \n                    type=\"required\"\n                    message=\"Phone is required\">\n                </dxi-validation-rule></dxi-column>\n        <dxi-column dataField=\"mobileTel\" caption=\"Secondary Tel\"></dxi-column>\n        <dxi-column dataField=\"gender\" [width]=\"70\"></dxi-column>\n        <dxi-column dataField=\"birthdate\" dataType=\"date\" [editorOptions]=\"{ invalidDateMessage: 'The date must have the following format: dd/MM/yyyy', displayFormat:'dd/MM/yyyy' }\"></dxi-column>\n        <dxi-column dataField=\"personalId\"></dxi-column>\n        <dxi-column dataField=\"messL\" caption=\"Messaging Language\">\n            <dxo-lookup  \n            [dataSource]=\"messagingLanguage\"\n            displayExpr=\"caption\"\n            valueExpr=\"id\">\n            </dxo-lookup>\n        </dxi-column>\n        <dxi-column dataField=\"adress\"></dxi-column>\n        <dxi-column dataField=\"email\"></dxi-column>\n        <dxi-column dataField=\"noteOfCustomer\"></dxi-column>\n</dx-data-grid>\n<br>\n<br>\n<dx-button width=\"100\" [text]=\"'Anamnez'\" [type]=\"'success'\" (onClick)=\"navigateToAnamnez()\" [disabled]=\"disableAnamnezBtn\"></dx-button>\n<div>\n"

/***/ }),

/***/ "./src/app/customers/customers.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export Customer */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CustomersComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__customer_form_customer_form_service__ = __webpack_require__("./src/app/customer-form/customer-form.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_devextreme_ui_notify__ = __webpack_require__("./node_modules/devextreme/ui/notify.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_devextreme_ui_notify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_devextreme_ui_notify__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_devextreme_angular__ = __webpack_require__("./node_modules/devextreme-angular/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_devextreme_angular___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_devextreme_angular__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var Customer = (function () {
    function Customer() {
    }
    return Customer;
}());

var CustomerView = (function () {
    function CustomerView() {
    }
    return CustomerView;
}());
var CustomersComponent = (function () {
    function CustomersComponent(_customerFormService, router) {
        this._customerFormService = _customerFormService;
        this.router = router;
        this.disableAnamnezBtn = true;
        this.messagingLanguage = [
            { id: 1, caption: 'Albanian' },
            { id: 2, caption: 'Turkish' },
            { id: 3, caption: 'Serbian' },
            { id: 4, caption: 'English' },
        ];
        this.customers = new Array();
    }
    CustomersComponent.prototype.ngOnInit = function () {
        var _this = this;
        if (!localStorage['loggedInDrID']) {
            this.router.navigate(['/login']);
        }
        this._customerFormService.getCustomers().subscribe(function (data) {
            _this.customers = data;
        });
    };
    CustomersComponent.prototype.selectRow = function (e) {
        this.selectedCustomerID = e.key.id;
        this.disableAnamnezBtn = false;
    };
    CustomersComponent.prototype.navigateToAnamnez = function () {
        this.router.navigate(['/anamneza'], { queryParams: { CustomerID: this.selectedCustomerID } });
    };
    CustomersComponent.prototype.insertPatient = function (e) {
        var _this = this;
        debugger;
        var param = e.data;
        var params = {
            Id: 0,
            Act: 'I',
            CustomerNo: param.customerNo || '',
            Firstname: param.firstname || '',
            Lastname: param.lastname || '',
            Tel: param.tel || '',
            Gender: param.gender ? param.gender === 'F' : false,
            DateOfBirth: param.birthdate || '',
            PersonalID: '',
            MessageLang: param.messL ? this.messagingLanguage.filter(function (x) { return x.id == param.messL; })[0].caption : '',
            Adress: param.adress || '',
            Email: param.email || ''
        };
        this._customerFormService.insertCustomer(params).subscribe(function (data) {
        }, function (error) {
            _this.toasterMessage('Server Error', 'error');
        }, function () {
            _this.toasterMessage('Form submitted succsessfuly', 'success');
            _this._customerFormService.getCustomers().subscribe(function (data) {
                _this.customers = data;
            });
        });
    };
    CustomersComponent.prototype.deletePatient = function (e) {
        var _this = this;
        var params = {
            Id: e.key.id,
            Act: 'D'
        };
        this._customerFormService.insertCustomer(params).subscribe(function (data) {
        }, function (error) {
            _this.toasterMessage('Server Error', 'error');
        }, function () {
            _this.toasterMessage('Form submitted succsessfuly', 'success');
            _this._customerFormService.getCustomers().subscribe(function (data) {
                _this.customers = data;
            });
        });
    };
    CustomersComponent.prototype.toasterMessage = function (message, type) {
        // The message's type: "info", "warning", "error" or "success"
        __WEBPACK_IMPORTED_MODULE_2_devextreme_ui_notify___default()({
            message: message,
            position: {
                my: "center top",
                at: "center top"
            }
        }, type, 3000);
    };
    CustomersComponent.prototype.insertCustomer = function (params) {
        var _this = this;
        this._customerFormService.insertCustomer(params).subscribe(function (data) {
        }, function (error) {
            _this.toasterMessage('Server Error', 'error');
        }, function () {
            _this.toasterMessage('Form submitted succsessfuly', 'success');
        });
    };
    CustomersComponent.prototype.updatePatient = function (e) {
        var _this = this;
        var param = e.key;
        for (var key in e.newData) {
            if (param.hasOwnProperty(key)) {
                param[key] = e.newData[key];
            }
        }
        var params = {
            Id: param.id,
            Act: 'U',
            CustomerNo: param.customerNo || '',
            Firstname: param.firstname || '',
            Lastname: param.lastname || '',
            Tel: param.tel || '',
            Gender: param.gender ? param.gender === 'F' : false,
            DateOfBirth: param.birthdate || '',
            PersonalID: '',
            MessageLang: param.messL || '',
            Adress: param.adress || '',
            Email: param.email || '',
            Note: param.noteOfCustomer || ''
        };
        this._customerFormService.insertCustomer(params).subscribe(function (data) {
        }, function (error) {
            _this.toasterMessage('Server Error', 'error');
        }, function () {
            _this.toasterMessage('Form submitted succsessfuly', 'success');
            _this._customerFormService.getCustomers().subscribe(function (data) {
                _this.customers = data;
            });
        });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_4_devextreme_angular__["DxDataGridModule"]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_4_devextreme_angular__["DxDataGridModule"])
    ], CustomersComponent.prototype, "grid", void 0);
    CustomersComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-customers',
            template: __webpack_require__("./src/app/customers/customers.component.html"),
            styles: [__webpack_require__("./src/app/customers/customers.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__customer_form_customer_form_service__["a" /* CustomerFormService */], __WEBPACK_IMPORTED_MODULE_3__angular_router__["b" /* Router */]])
    ], CustomersComponent);
    return CustomersComponent;
}());



/***/ }),

/***/ "./src/app/daily-reports/daily-reports.component.css":
/***/ (function(module, exports) {

module.exports = "#gridContainer{\n    margin-top: 40px;\n}\n\n#datepicker{\n    margin-top: 40px;\n}\n\n.bc-red {\n    background: red;\n}\n\n.bc-green {\n    background: green;\n}\n\n.popup-wrapper {\n    margin-bottom: 30px;\n}\n\n.wrapper {\n    height: 100%;\n}\n"

/***/ }),

/***/ "./src/app/daily-reports/daily-reports.component.html":
/***/ (function(module, exports) {

module.exports = "\n<div class=\"wrapper\">\n\n\n   <dx-date-box id=\"datepicker\" [(value)]=\"date\" (onValueChanged)=\"onDateChange($event)\" type=\"date\" displayFormat=\"dd/MM/yyyy\">\n   </dx-date-box>\n   \n   <ng-container *ngIf=\"tableVisible\">\n      <dx-data-grid id=\"gridContainer\" [showBorders]=\"true\" [dataSource]=\"dailyReportList\"  [columnAutoWidth]=\"true\" (onCellPrepared)=\"onCellPrepared($event)\" (onRowClick)=\"onRowClick($event)\">\n         <dxo-load-panel [enabled]=\"true\"></dxo-load-panel>\n         <dxo-scrolling mode=\"virtual\"></dxo-scrolling>\n         <dxo-sorting mode=\"none\"></dxo-sorting>\n         <dxi-column dataField=\"Doctor\"></dxi-column>\n                      <dxi-column dataField=\"Customer\"></dxi-column>\n                      <dxi-column dataField=\"Operation\"></dxi-column>\n                      <dxi-column dataField=\"SaleAmount\"><dxo-format type=\"fixedPoint\" [precision]=\"2\"></dxo-format></dxi-column>\n                      <dxi-column dataField=\"CollectedPrice\"><dxo-format type=\"fixedPoint\" [precision]=\"2\"></dxo-format></dxi-column>\n                      <dxi-column dataField=\"AdvanceInfo\"><dxo-format type=\"fixedPoint\" [precision]=\"2\"></dxo-format></dxi-column>\n                      <dxi-column dataField=\"DebtInfo\"><dxo-format type=\"fixedPoint\" [precision]=\"2\"></dxo-format></dxi-column>\n                      <dxo-summary>\n                         <dxi-total-item column=\"SaleAmount\" summaryType=\"sum\" displayFormat=\"Sale Amount Sum: {0}\"> </dxi-total-item>\n                         <dxi-total-item column=\"CollectedPrice\" summaryType=\"sum\" displayFormat=\"Collected Sum: {0}\"> </dxi-total-item>\n                         <dxi-total-item column=\"AdvanceInfo\" summaryType=\"sum\" displayFormat=\"Advance Sum: {0}\"> </dxi-total-item>\n                         <dxi-total-item column=\"DebtInfo\" summaryType=\"sum\" displayFormat=\"Debt Sum: {0}\"> </dxi-total-item>\n                     </dxo-summary>\n      </dx-data-grid>\n   </ng-container>\n   \n   <dx-button text=\"Change Payment Date\" type=\"default\" (onClick)=\"popupVisible = !popupVisible\" [disabled]=\"disablePaymentDateBtn()\"></dx-button>\n   \n   <dx-popup\n           class=\"popup\"\n           [width]=\"300\"\n           [height]=\"250\"\n           title=\"Select Payment Date\"\n           [dragEnabled]=\"true\"\n           [closeOnOutsideClick]=\"true\"\n           [(visible)]=\"popupVisible\"\n           contentTemplate=\"popupContent\">\n       <div *dxTemplate=\"let data of 'popupContent'\">\n   \n   <div class=\"popup-wrapper\">\n         <div class=\"datepicker\">\n               <dx-date-box id=\"datepicker\" [(value)]=\"changedPaymentDate\" (onValueChanged)=\"onPaymentDateChange($event)\" type=\"date\" displayFormat=\"dd/MM/yyyy\">\n               </dx-date-box>\n         </div>\n         </div> \n            <div class=\"btns\">\n               <dx-button\n               text=\"Save\"\n               type=\"default\"\n               (onClick)=\"changePaymentDate()\">\n           </dx-button>\n           <dx-button\n               text=\"Cancel\"\n               type=\"normal\"\n               (onClick)=\"popupVisible = false\">\n            </dx-button>\n         </div>\n       </div>\n       </dx-popup>\n\n       \n\n</div>\n"

/***/ }),

/***/ "./src/app/daily-reports/daily-reports.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DailyReportsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__reports_reports_service__ = __webpack_require__("./src/app/reports/reports.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_moment__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var DailyReportsComponent = (function () {
    function DailyReportsComponent(_reportsService) {
        this._reportsService = _reportsService;
        this.date = __WEBPACK_IMPORTED_MODULE_2_moment__().format('MM/DD/YYYY');
        this.changedPaymentDate = __WEBPACK_IMPORTED_MODULE_2_moment__().format('MM/DD/YYYY');
        this.dailyReportList = [];
        this.selectedRow = {};
        this.popupVisible = false;
        this.tableVisible = true;
    }
    DailyReportsComponent.prototype.ngOnInit = function () {
        this.getDailyPayments();
    };
    DailyReportsComponent.prototype.getDailyPayments = function () {
        var _this = this;
        var params = {
            Date: this.date
        };
        this.tableVisible = false;
        this._reportsService.getDailyPayments(params).subscribe(function (response) {
            _this.tableVisible = true;
            _this.selectedRow = {};
            var res = response;
            _this.dailyReportList = res.map(function (item) {
                var obj = {
                    Id: item['id'],
                    Doctor: item['doctor'],
                    Customer: item['customer'],
                    Operation: item['operation'],
                    CollectedPrice: item['collectedPrice'],
                    AdvanceInfo: item['advanceInfo'] && item['advanceInfo'].trim() ? +item['advanceInfo'] : 0,
                    DebtInfo: item['debtInfo'] && item['debtInfo'].trim() ? +item['debtInfo'] : 0,
                    Type: item['type'],
                    DebtDetailID: item['debtDetailID'],
                    SaleAmount: item['saleAmount']
                };
                return obj;
            });
        });
    };
    DailyReportsComponent.prototype.onDateChange = function (event) {
        this.selectedRow = {};
        this.date = event.value;
        this.changedPaymentDate = event.value;
        this.getDailyPayments();
    };
    DailyReportsComponent.prototype.onCellPrepared = function (e) {
        if (e.rowType === 'data' && [5, 6].includes(e.columnIndex) && e.displayValue) {
            e.cellElement.bgColor = e.columnIndex === 5 ? 'green' : 'red';
        }
    };
    DailyReportsComponent.prototype.onRowClick = function (e) {
        this.selectedRow = e.data;
        e.event.preventDefault();
    };
    DailyReportsComponent.prototype.disablePaymentDateBtn = function () {
        return !Object.keys(this.selectedRow).length;
    };
    DailyReportsComponent.prototype.onPaymentDateChange = function (event) {
        this.changedPaymentDate = event.value;
    };
    DailyReportsComponent.prototype.changePaymentDate = function () {
        var _this = this;
        var params = {
            Id: [2, 3, 4, 5].includes(this.selectedRow['Type']) ? this.selectedRow['DebtDetailID'] : this.selectedRow['Id'],
            Type: this.selectedRow['Type'],
            PaymentDate: this.changedPaymentDate
        };
        this._reportsService.paymentDateUpdate(params).subscribe(function (response) {
            _this.popupVisible = false;
            _this.getDailyPayments();
        });
    };
    DailyReportsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-daily-reports',
            template: __webpack_require__("./src/app/daily-reports/daily-reports.component.html"),
            styles: [__webpack_require__("./src/app/daily-reports/daily-reports.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__reports_reports_service__["a" /* ReportsService */]])
    ], DailyReportsComponent);
    return DailyReportsComponent;
}());



/***/ }),

/***/ "./src/app/invoice-reports/invoice-reports.component.css":
/***/ (function(module, exports) {

module.exports = ".filters-wrapper {\r\n    width: 100vw;\r\n    max-width: 100%;\r\n    overflow: hidden;\r\n    overflow-x: auto;\r\n    white-space: nowrap;\r\n    margin-top: 12px;\r\n}\r\n  \r\n.filters-wrapper-item {\r\n    display: inline-block;\r\n    margin-bottom: 20px;\r\n    margin-right: 20px;\r\n    vertical-align: middle;\r\n}\r\n  \r\n.grids-wrapper {\r\n    width: 100vw;\r\n    max-width: 100%;\r\n    overflow: hidden;\r\n    overflow-x: auto;\r\n    white-space: nowrap;\r\n    margin-top: 12px;\r\n}\r\n  \r\n.grid-wrapper-item {\r\n    display: inline-block;\r\n    margin-bottom: 20px;\r\n    margin-right: 20px;\r\n    vertical-align: middle;\r\n    width: 600px;\r\n}"

/***/ }),

/***/ "./src/app/invoice-reports/invoice-reports.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"filters-wrapper\">\n  <div class=\"filters-wrapper-item\">\n    <h4 style=\"margin: 5px;\">Start Date</h4>\n    <dx-date-box id=\"startDatePicker\" [(value)]=\"startDate\" (onValueChanged)=\"onDateChange($event, 'startDate')\" type=\"date\"\n      displayFormat=\"dd/MM/yyyy\">\n    </dx-date-box>\n  </div>\n  \n  <div class=\"filters-wrapper-item\">\n    <h4 style=\"margin: 5px;\">End Date</h4>\n    <dx-date-box id=\"endDatePicker\" [(value)]=\"endDate\" (onValueChanged)=\"onDateChange($event, 'endDate')\" type=\"date\"\n      displayFormat=\"dd/MM/yyyy\">\n    </dx-date-box>\n  </div>\n</div>\n\n<div class=\"grids-wrapper\">\n      <dx-data-grid id=\"gridContainer\" [dataSource]=\"processedTreatmentInvoicesList\" [showBorders]=\"true\">\n        <dxo-export [enabled]=\"true\" [fileName]=\"processedInvoicesFileName\"></dxo-export>\n        <dxi-column dataField=\"operationID\"></dxi-column>\n        <dxi-column dataField=\"operationName\"></dxi-column>\n        <dxi-column dataField=\"operationsCount\"></dxi-column>\n      </dx-data-grid>\n\n  <dx-load-panel [closeOnOutsideClick]=\"true\" [(visible)]=\"isLoading\">\n  </dx-load-panel>\n</div>\n"

/***/ }),

/***/ "./src/app/invoice-reports/invoice-reports.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return InvoiceReportsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__reports_reports_service__ = __webpack_require__("./src/app/reports/reports.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var InvoiceReportsComponent = (function () {
    function InvoiceReportsComponent(_reportsService) {
        this._reportsService = _reportsService;
        this.isLoading = false;
        this.startDate = __WEBPACK_IMPORTED_MODULE_1_moment__().format('MM/DD/YYYY');
        this.isSaturday = (__WEBPACK_IMPORTED_MODULE_1_moment__(this.startDate).day() === 6);
        this.endDate = __WEBPACK_IMPORTED_MODULE_1_moment__().add(this.isSaturday ? 2 : 1, 'days').format('MM/DD/YYYY');
        this.processedInvoicesFileName = "ProcessedInvoices-" + this.startDate + "-" + this.endDate;
        this.processedTreatmentInvoicesList = [];
    }
    InvoiceReportsComponent.prototype.ngOnInit = function () {
        this.getProcessedTreatmentInvoices();
    };
    InvoiceReportsComponent.prototype.getProcessedTreatmentInvoices = function () {
        var _this = this;
        this.isLoading = true;
        this.processedInvoicesFileName = "ProcessedInvoices-" + this.startDate + "-" + this.endDate;
        var data = {
            dateFrom: this.startDate,
            dateTo: this.endDate
        };
        this._reportsService.getProcessedTreatmentInvoices(data).subscribe(function (data) {
            _this.isLoading = false;
            _this.processedTreatmentInvoicesList = data;
        });
    };
    InvoiceReportsComponent.prototype.onDateChange = function (event, type) {
        this[type] = event.value;
        this.getProcessedTreatmentInvoices();
    };
    InvoiceReportsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-invoice-reports',
            template: __webpack_require__("./src/app/invoice-reports/invoice-reports.component.html"),
            styles: [__webpack_require__("./src/app/invoice-reports/invoice-reports.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__reports_reports_service__["a" /* ReportsService */]])
    ], InvoiceReportsComponent);
    return InvoiceReportsComponent;
}());



/***/ }),

/***/ "./src/app/login-form/login-form.component.css":
/***/ (function(module, exports) {

module.exports = "::ng-deep .dx-item {\n        -ms-flex-item-align: center;\n            -ms-grid-row-align: center;\n            align-self: center;\n}\n\n::ng-deep .dx-box-flex {\n        padding-top: 50px;\n}\n\n#fileuploader-container {\n        margin: 20px;\n}\n"

/***/ }),

/***/ "./src/app/login-form/login-form.component.html":
/***/ (function(module, exports) {

module.exports = "<ng-container *ngIf=\"removeTemplate\">\n<form action=\"your-action\" (submit)=\"onFormSubmit($event)\">\n    <dx-form id=\"form\"\n        [formData]=\"customer\"\n        [readOnly]=\"false\"\n        [showColonAfterLabel]=\"true\"\n        [showValidationSummary]=\"true\"\n        validationGroup=\"customerData\">\n      <dxi-item dataField=\"Login\">\n                <dxi-validation-rule \n                    type=\"required\"\n                    message=\"Login is required\">\n                </dxi-validation-rule>\n            </dxi-item>\n            <dxi-item dataField=\"Password\"\n                [editorOptions]=\"{ mode: 'password' }\">\n                <dxi-validation-rule \n                    type=\"required\"\n                    message=\"Password is required\">\n                </dxi-validation-rule>\n            </dxi-item>\n            \n            \n        <dxi-item \n            itemType=\"button\"\n            alignment=\"left\"\n            [buttonOptions]=\"buttonOptions\">\n        </dxi-item>\n    </dx-form>\n</form>\n\n<dx-file-uploader\n        #fileUploader\n        [multiple]=\"false\"\n        accept=\"*\"\n        [(value)]=\"value\"\n        uploadMode=\"useButtons\"\n        (change)=\"onFileUpload($event)\"\n></dx-file-uploader>\n</ng-container>\n"

/***/ }),

/***/ "./src/app/login-form/login-form.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LoginFormComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__login_service__ = __webpack_require__("./src/app/login-form/login.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_devextreme_ui_notify__ = __webpack_require__("./node_modules/devextreme/ui/notify.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_devextreme_ui_notify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_devextreme_ui_notify__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};




var LoginFormComponent = (function () {
    function LoginFormComponent(_loginService, router) {
        this._loginService = _loginService;
        this.router = router;
        this.removeTemplate = true;
        this.buttonOptions = {
            text: "Login",
            type: "success",
            useSubmitBehavior: true
        };
        this.value = [];
        this.onFormSubmit = function (e) {
            var _this = this;
            var user = e.currentTarget[0].value;
            var pass = e.currentTarget[1].value;
            var params = {
                Username: user,
                Password: pass
            };
            this._loginService.login(params).subscribe(function (data) {
                if (!data.item1) {
                    _this.toasterMessage('Incorrect User/Password!', 'error');
                }
                else {
                    _this.toasterMessage('Logged In Successfully', 'success');
                    debugger;
                    localStorage.setItem('isRentgenAccount', JSON.stringify(data.item2['isRentgenAccount']));
                    localStorage.setItem('role', data.item2['role']);
                    _this._loginService.setDisableNavBar(data);
                    _this.removeTemplate = !data.item1;
                    if (data.item2.title.trim() !== 'DR.') {
                        localStorage.setItem('loggedInDrID', '2');
                    }
                    else {
                        localStorage.setItem('loggedInDrID', data.item2.id.toString());
                    }
                    _this.router.navigate(['/appointment']);
                }
            });
            e.preventDefault();
        };
    }
    LoginFormComponent.prototype.ngOnInit = function () {
        var cred = localStorage.getItem('cred');
        if (cred) {
            localStorage.removeItem('cred');
        }
    };
    LoginFormComponent.prototype.onFileUpload = function (e) {
        return __awaiter(this, void 0, void 0, function () {
            var file, fileContent;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        file = e.target.files[0];
                        if (!(file && file.type == "text/plain" && file.name == "cred.txt")) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.readFileContent(file)];
                    case 1:
                        fileContent = _a.sent();
                        localStorage.setItem('creds', fileContent);
                        _a.label = 2;
                    case 2: return [2 /*return*/];
                }
            });
        });
    };
    LoginFormComponent.prototype.readFileContent = function (file) {
        return new Promise(function (resolve, reject) {
            if (!file) {
                resolve('');
            }
            var reader = new FileReader();
            reader.onload = function (e) {
                var text = reader.result.toString();
                resolve(text);
            };
            reader.readAsText(file);
        });
    };
    LoginFormComponent.prototype.toasterMessage = function (message, type) {
        // The message's type: "info", "warning", "error" or "success"
        __WEBPACK_IMPORTED_MODULE_2_devextreme_ui_notify___default()({
            message: message,
            position: {
                my: "center top",
                at: "center top"
            },
            width: "240px"
        }, type, 3000);
    };
    LoginFormComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-login-form',
            template: __webpack_require__("./src/app/login-form/login-form.component.html"),
            styles: [__webpack_require__("./src/app/login-form/login-form.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__login_service__["a" /* LoginService */], __WEBPACK_IMPORTED_MODULE_3__angular_router__["b" /* Router */]])
    ], LoginFormComponent);
    return LoginFormComponent;
}());



/***/ }),

/***/ "./src/app/login-form/login.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LoginService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__ = __webpack_require__("./node_modules/rxjs/_esm5/Subject.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var LoginService = (function () {
    // apiUrl = 'http://localhost:55762/api/core/';
    function LoginService(http) {
        this.http = http;
        this.disableNavbar = new __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__["b" /* Subject */]();
        this.apiUrl = 'http://aristoapi.gearhostpreview.com/api/core/';
    }
    LoginService.prototype.login = function (data) {
        var queryParams = this.serializeObject(data);
        return this.http.post(this.apiUrl + 'LogIn?' + queryParams, data, { headers: this.getAuthorizationHeader() });
    };
    LoginService.prototype.setDisableNavBar = function (data) {
        this.disableNavbar.next(data);
    };
    LoginService.prototype.serializeObject = function (obj) {
        var str = [];
        for (var p in obj) {
            if (obj.hasOwnProperty(p)) {
                str.push(p + '=' + obj[p]);
            }
        }
        return str.join('&');
    };
    LoginService.prototype.getAuthorizationHeader = function () {
        var cred = localStorage.getItem('creds');
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["HttpHeaders"]();
        if (cred) {
            headers = headers.set("Authorization", cred);
        }
        return headers;
    };
    LoginService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_common_http__["HttpClient"]])
    ], LoginService);
    return LoginService;
}());



/***/ }),

/***/ "./src/app/missed-appointments/missed-appointments.component.css":
/***/ (function(module, exports) {

module.exports = "\n.filters-wrapper {\n    width: 100vw;\n    max-width: 100%;\n    overflow: hidden;\n    overflow-x: auto;\n    white-space: nowrap;\n    margin-top: 12px;\n}\n  \n.filters-wrapper-item {\n    display: inline-block;\n    margin-bottom: 20px;\n    margin-right: 20px;\n    vertical-align: middle;\n}\n"

/***/ }),

/***/ "./src/app/missed-appointments/missed-appointments.component.html":
/***/ (function(module, exports) {

module.exports = "\n<div class=\"wrapper\">\n\n<div class=\"filters-wrapper\">\n  <div class=\"filters-wrapper-item\">\n    <h4 style=\"margin: 5px;\">Start Date</h4>\n    <dx-date-box \n      [(max)]=\"endValue\"\n      [(value)]=\"startValue\"\n      [displayFormat]=\"'dd/MM/yyyy'\"\n      (onValueChanged)=\"onDateChange($event, 'startValue')\" >\n    </dx-date-box>\n  </div>\n  <div class=\"filters-wrapper-item\">\n    <h4 style=\"margin: 5px;\">End Date</h4>\n    <dx-date-box \n      [(min)]=\"startValue\"\n      [(value)]=\"endValue\"\n      [displayFormat]=\"'dd/MM/yyyy'\"  \n      (onValueChanged)=\"onDateChange($event, 'endValue')\" >\n    </dx-date-box>\n  </div>  \n \n</div>\n  \n<dx-data-grid id=\"gridContainer\" [showBorders]=\"true\" [dataSource]=\"missedAppointments\"  [columnAutoWidth]=\"true\" >\n    <dxo-filter-row \n    [visible]=\"true\" \n    [applyFilter]=\"'auto'\"></dxo-filter-row>\n    <dxo-paging [pageSize]=\"20\"></dxo-paging>\n    <dxo-sorting mode=\"none\"></dxo-sorting>\n    <dxi-column dataField=\"Customer\"></dxi-column>\n    <dxi-column dataField=\"Date\"></dxi-column>\n    <dxi-column dataField=\"StartTime\"></dxi-column>\n    <dxi-column dataField=\"EndTime\"></dxi-column>\n    <dxi-column dataField=\"Text\"></dxi-column>\n    <dxi-column dataField=\"Tel\"></dxi-column>\n    <dxi-column dataField=\"Doctor\"></dxi-column>\n    \n </dx-data-grid>\n\n     <dx-load-panel\n      [closeOnOutsideClick]=\"true\"\n      [(visible)]=\"isLoading\">\n      </dx-load-panel>\n  \n  \n</div>\n"

/***/ }),

/***/ "./src/app/missed-appointments/missed-appointments.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MissedAppointmentsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__reports_reports_service__ = __webpack_require__("./src/app/reports/reports.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var MissedAppointmentsComponent = (function () {
    function MissedAppointmentsComponent(_reportsService) {
        this._reportsService = _reportsService;
        this.startValue = new Date(__WEBPACK_IMPORTED_MODULE_1_moment__().subtract(1, "year").format('MM/DD/YYYY'));
        this.endValue = new Date();
    }
    MissedAppointmentsComponent.prototype.ngOnInit = function () {
        this.getMissedAppointmentsByDateInterval();
    };
    MissedAppointmentsComponent.prototype.getMissedAppointmentsByDateInterval = function () {
        var _this = this;
        var params = {
            StartDate: __WEBPACK_IMPORTED_MODULE_1_moment__(this.startValue).format('MM/DD/YYYY'),
            EndDate: __WEBPACK_IMPORTED_MODULE_1_moment__(this.endValue).format('MM/DD/YYYY'),
        };
        this.isLoading = true;
        this._reportsService.getMissedAppointmentsByDateInterval(params).subscribe(function (response) {
            _this.isLoading = false;
            var res = response;
            _this.missedAppointments = res.map(function (item) {
                var obj = {
                    Customer: item['customer'],
                    Date: item['date'],
                    StartTime: item['startTime'],
                    EndTime: item['endTime'],
                    Text: item['text'],
                    Tel: item['tel'],
                    Doctor: item['doctor'],
                };
                return obj;
            });
        }, function () { return _this.isLoading = false; });
    };
    MissedAppointmentsComponent.prototype.onDateChange = function (e, type) {
        this[type] = new Date(e.value);
        this.getMissedAppointmentsByDateInterval();
    };
    MissedAppointmentsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-missed-appointments',
            template: __webpack_require__("./src/app/missed-appointments/missed-appointments.component.html"),
            styles: [__webpack_require__("./src/app/missed-appointments/missed-appointments.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__reports_reports_service__["a" /* ReportsService */]])
    ], MissedAppointmentsComponent);
    return MissedAppointmentsComponent;
}());



/***/ }),

/***/ "./src/app/operation-reports/operation-reports.component.css":
/***/ (function(module, exports) {

module.exports = ".filters-wrapper {\r\n    width: 100vw;\r\n    max-width: 100%;\r\n    overflow: hidden;\r\n    overflow-x: auto;\r\n    white-space: nowrap;\r\n    margin-top: 12px;\r\n}\r\n  \r\n.filters-wrapper-item {\r\n    display: inline-block;\r\n    margin-bottom: 20px;\r\n    margin-right: 20px;\r\n    vertical-align: middle;\r\n}\r\n  \r\n.grids-wrapper {\r\n    width: 100vw;\r\n    max-width: 100%;\r\n    overflow: hidden;\r\n    overflow-x: auto;\r\n    white-space: nowrap;\r\n    margin-top: 12px;\r\n}\r\n  \r\n.grid-wrapper-item {\r\n    display: inline-block;\r\n    margin-bottom: 20px;\r\n    margin-right: 20px;\r\n    vertical-align: middle;\r\n    width: 600px;\r\n}"

/***/ }),

/***/ "./src/app/operation-reports/operation-reports.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"filters-wrapper\">\n  <div class=\"filters-wrapper-item\">\n    <h4 style=\"margin: 5px;\">Start Date</h4>\n    <dx-date-box id=\"startDatePicker\" [(value)]=\"startDate\" (onValueChanged)=\"onDateChange($event, 'startDate')\" type=\"date\"\n      displayFormat=\"dd/MM/yyyy\">\n    </dx-date-box>\n  </div>\n  \n  <div class=\"filters-wrapper-item\">\n    <h4 style=\"margin: 5px;\">End Date</h4>\n    <dx-date-box id=\"endDatePicker\" [(value)]=\"endDate\" (onValueChanged)=\"onDateChange($event, 'endDate')\" type=\"date\"\n      displayFormat=\"dd/MM/yyyy\">\n    </dx-date-box>\n  </div>\n\n  <div class=\"filters-wrapper-item\" style=\"margin-bottom: -8px;\">\n    <dx-select-box [items]=\"doctorList\" \n                  displayExpr=\"name\"\n                  valueExpr=\"id\" (onValueChanged)=\"onDoctorChange($event)\"></dx-select-box>\n  </div>\n</div>\n\n<div class=\"grids-wrapper\">\n      <dx-data-grid id=\"gridContainer\" [dataSource]=\"doctorOperations\" [showBorders]=\"true\">\n        <dxi-column dataField=\"operationID\"></dxi-column>\n        <dxi-column dataField=\"operationName\"></dxi-column>\n        <dxi-column dataField=\"operationsCount\"></dxi-column>\n      </dx-data-grid>\n\n  <dx-load-panel [closeOnOutsideClick]=\"true\" [(visible)]=\"isLoading\">\n  </dx-load-panel>\n</div>\n"

/***/ }),

/***/ "./src/app/operation-reports/operation-reports.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OperationReportsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__reports_reports_service__ = __webpack_require__("./src/app/reports/reports.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var Doctor = (function () {
    function Doctor() {
    }
    return Doctor;
}());
var Operation = (function () {
    function Operation() {
    }
    return Operation;
}());
var OperationReportsComponent = (function () {
    function OperationReportsComponent(_reportsService) {
        this._reportsService = _reportsService;
        this.isLoading = false;
        this.startDate = __WEBPACK_IMPORTED_MODULE_1_moment__().format('MM/DD/YYYY');
        this.isSaturday = (__WEBPACK_IMPORTED_MODULE_1_moment__(this.startDate).day() === 6);
        this.endDate = __WEBPACK_IMPORTED_MODULE_1_moment__().add(this.isSaturday ? 2 : 1, 'days').format('MM/DD/YYYY');
        this.doctorList = new Array();
        this.doctorOperations = new Array();
    }
    OperationReportsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.isLoading = true;
        this._reportsService.getDoctors().subscribe(function (data) {
            _this.isLoading = false;
            _this.doctorList = data['doctorListData'];
        });
    };
    OperationReportsComponent.prototype.onDateChange = function (event, type) {
        this[type] = event.value;
        this.getOperationsReportByDoctorId();
    };
    OperationReportsComponent.prototype.onDoctorChange = function (event) {
        this.selectedDoctor = this.doctorList.find(function (x) { return x.Id = event.value; });
        this.getOperationsReportByDoctorId();
    };
    OperationReportsComponent.prototype.getOperationsReportByDoctorId = function () {
        var _this = this;
        this.isLoading = true;
        var data = {
            doctorid: this.selectedDoctor.Id,
            startDate: this.startDate,
            endDate: this.endDate
        };
        this._reportsService.getOperationsReportByDoctorId(data).subscribe(function (data) {
            _this.isLoading = false;
            _this.doctorOperations = data;
            // this.doctorOperations = this.doctorOperations.filter(x => x['operationsCount'] > 0);
        });
    };
    OperationReportsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-operation-reports',
            template: __webpack_require__("./src/app/operation-reports/operation-reports.component.html"),
            styles: [__webpack_require__("./src/app/operation-reports/operation-reports.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__reports_reports_service__["a" /* ReportsService */]])
    ], OperationReportsComponent);
    return OperationReportsComponent;
}());



/***/ }),

/***/ "./src/app/preferences/preferences.component.css":
/***/ (function(module, exports) {

module.exports = "#parent {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding-top: 30px\n}\n#narrow {\n  float: left;\n  width: 250px;\n}\n#wide {\n  padding-left: 30px;\n  float: right;\n  width: calc(100% - 250px);\n}\n.display-inline { display:inline-block; }"

/***/ }),

/***/ "./src/app/preferences/preferences.component.html":
/***/ (function(module, exports) {

module.exports = "<div id=\"parent\">\n  <div class=\"display-inline\" style=\"padding-right: 20px;\">\n    <label>Allow Doctor to make a payment</label>\n  </div>\n  <div class=\"display-inline\">\n    <dx-switch (onValueChanged)=\"onValueChange($event)\" [value]=\"allowDoctorToMakePayment\"></dx-switch>\n  </div>\n</div>"

/***/ }),

/***/ "./src/app/preferences/preferences.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PreferencesComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var PreferencesComponent = (function () {
    function PreferencesComponent() {
        this.allowDoctorToMakePayment = JSON.parse(localStorage['preferences'])['AllowDoctorToMakePayment'];
    }
    PreferencesComponent.prototype.ngOnInit = function () { };
    PreferencesComponent.prototype.onValueChange = function (e) {
        this.allowDoctorToMakePayment = e.value;
        localStorage.setItem('preferences', JSON.stringify({ AllowDoctorToMakePayment: e.value }));
    };
    PreferencesComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-preferences',
            template: __webpack_require__("./src/app/preferences/preferences.component.html"),
            styles: [__webpack_require__("./src/app/preferences/preferences.component.css")]
        }),
        __metadata("design:paramtypes", [])
    ], PreferencesComponent);
    return PreferencesComponent;
}());



/***/ }),

/***/ "./src/app/registration-form/registration-form.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/registration-form/registration-form.component.html":
/***/ (function(module, exports) {

module.exports = "<div>\n<form action=\"your-action\" (submit)=\"onFormSubmit($event)\">\n    <div class=\"dx-fieldset\">\n        <div class=\"dx-fieldset-header\">Credentials</div>\n        <div class=\"dx-field\">\n            <div class=\"dx-field-label\">Login</div>\n            <div class=\"dx-field-value\">\n                <dx-text-box> \n                    <dx-validator>\n                        <dxi-validation-rule type=\"required\" message=\"Login is required\"></dxi-validation-rule>\n                    </dx-validator>\n                </dx-text-box>\n            </div>\n        </div>\n        <div class=\"dx-field\">\n            <div class=\"dx-field-label\">Password</div>\n            <div class=\"dx-field-value\">\n                <dx-text-box\n                    mode=\"password\"\n                    [(value)]=\"password\">\n                    <dx-validator>\n                        <dxi-validation-rule type=\"required\" message=\"Password is required\"></dxi-validation-rule>\n                    </dx-validator>\n                </dx-text-box>\n            </div>\n        </div>\n        <div class=\"dx-field\">\n            <div class=\"dx-field-label\">Confirm Password</div>\n            <div class=\"dx-field-value\">\n                <dx-text-box mode=\"password\">\n                    <dx-validator>\n                        <dxi-validation-rule type=\"required\" message=\"Confirm Password is required\"></dxi-validation-rule>\n                        <dxi-validation-rule type=\"compare\" [comparisonTarget]=\"passwordComparison\"\n                            message=\"Password and Confirm Password do not match\"></dxi-validation-rule>\n                    </dx-validator>\n                </dx-text-box>\n            </div>\n        </div>\n    </div> \n    <div class=\"dx-fieldset\">\n        <div class=\"dx-fieldset-header\">Personal Data</div>\n        <div class=\"dx-field\">\n            <div class=\"dx-field-label\">Name</div>\n            <div class=\"dx-field-value\">\n                <dx-text-box value=\"Peter\">\n                    <dx-validator>\n                        <dxi-validation-rule type=\"required\" message=\"Name is required\"></dxi-validation-rule>\n                        <dxi-validation-rule type=\"pattern\" [pattern]=\"namePattern\" message=\"Do not use digits in the Name\"></dxi-validation-rule>\n                        <dxi-validation-rule type=\"stringLength\" [min]=\"2\" message=\"Name must have at least 2 symbols\"></dxi-validation-rule>\n                    </dx-validator>\n                </dx-text-box>\n            </div>\n        </div>\n        <div class=\"dx-field\">\n            <div class=\"dx-field-label\">Date of birth</div>\n            <div class=\"dx-field-value\">\n                <dx-date-box\n                    invalidDateMessage=\"The date must have the following format: MM/dd/yyyy\">\n                    <dx-validator>\n                        <dxi-validation-rule type=\"required\" message=\"Date of birth is required\"></dxi-validation-rule>\n                        <dxi-validation-rule type=\"range\" [max]=\"maxDate\" message=\"You must be at least 21 years old\"></dxi-validation-rule>\n                    </dx-validator>\n                </dx-date-box>\n            </div>\n        </div>\n    </div>   \n    <div class=\"dx-fieldset\">\n        <div class=\"dx-fieldset-header\">Billing address</div>\n        <div class=\"dx-field\">\n            <div class=\"dx-field-label\">Country</div>\n            <div class=\"dx-field-value\">\n                <dx-select-box [dataSource]=\"countries\">\n                    <dx-validator>\n                        <dxi-validation-rule type=\"required\" message=\"Country is required\"></dxi-validation-rule>\n                    </dx-validator>\n                </dx-select-box>\n            </div>\n        </div>\n        <div class=\"dx-field\">\n            <div class=\"dx-field-label\">City</div>\n            <div class=\"dx-field-value\">\n                <dx-text-box> \n                    <dx-validator>\n                        <dxi-validation-rule type=\"required\" message=\"City is required\"></dxi-validation-rule>\n                        <dxi-validation-rule type=\"pattern\" [pattern]=\"cityPattern\" message=\"Do not use digits in the City name\"></dxi-validation-rule>\n                        <dxi-validation-rule type=\"stringLength\" [min]=\"2\" message=\"City must have at least 2 symbols\"></dxi-validation-rule>\n                    </dx-validator>\n                </dx-text-box>\n            </div>\n        </div>\n        <div class=\"dx-field\">\n            <div class=\"dx-field-label\">Address</div>\n            <div class=\"dx-field-value\">\n                <dx-text-box> \n                    <dx-validator>\n                        <dxi-validation-rule type=\"required\" message=\"Address is required\"></dxi-validation-rule>\n                    </dx-validator>\n                </dx-text-box>\n            </div>\n        </div>\n        <div class=\"dx-field\">\n            <div class=\"dx-field-label\">Phone <i>(optional)</i></div>\n            <div class=\"dx-field-value\">\n                <dx-text-box\n                    mask=\"+1 (X00) 000-0000\"\n                    [maskRules]=\"phoneRules\"\n                    maskInvalidMessage=\"The phone must have a correct USA phone format\"\n                    [useMaskedValue]=\"true\"> \n                    <dx-validator>\n                        <dxi-validation-rule type=\"pattern\" [pattern]=\"phonePattern\" message=\"The phone must have a correct USA phone format\"></dxi-validation-rule>\n                    </dx-validator>\n                </dx-text-box>\n            </div>\n        </div>\n    </div>\n    <dx-validation-summary id=\"summary\"></dx-validation-summary>\n    \n    <dx-button \n        id=\"button\"\n        text=\"Register\"\n        type=\"success\"  \n        [useSubmitBehavior]=\"true\">\n    </dx-button>\n</form>\n</div>"

/***/ }),

/***/ "./src/app/registration-form/registration-form.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RegistrationFormComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__registration_service_service__ = __webpack_require__("./src/app/registration-form/registration-service.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_devextreme_ui_notify__ = __webpack_require__("./node_modules/devextreme/ui/notify.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_devextreme_ui_notify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_devextreme_ui_notify__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var RegistrationFormComponent = (function () {
    function RegistrationFormComponent(service) {
        var _this = this;
        this.password = "";
        this.maxDate = new Date();
        this.cityPattern = "^[^0-9]+$";
        this.namePattern = /^[^0-9]+$/;
        this.phonePattern = /^\+\s*1\s*\(\s*[02-9]\d{2}\)\s*\d{3}\s*-\s*\d{4}$/;
        this.phoneRules = {
            X: /[02-9]/
        };
        this.passwordComparison = function () {
            return _this.password;
        };
        this.onFormSubmit = function (e) {
            __WEBPACK_IMPORTED_MODULE_2_devextreme_ui_notify___default()({
                message: "You have submitted the form",
                position: {
                    my: "center top",
                    at: "center top"
                }
            }, "success", 3000);
            e.preventDefault();
        };
        this.maxDate = new Date(this.maxDate.setFullYear(this.maxDate.getFullYear() - 21));
        this.countries = service.getCountries();
    }
    RegistrationFormComponent.prototype.ngOnInit = function () { };
    RegistrationFormComponent.prototype.checkComparison = function () {
        return true;
    };
    RegistrationFormComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-registration-form',
            template: __webpack_require__("./src/app/registration-form/registration-form.component.html"),
            styles: [__webpack_require__("./src/app/registration-form/registration-form.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__registration_service_service__["a" /* RegistrationServiceService */]])
    ], RegistrationFormComponent);
    return RegistrationFormComponent;
}());



/***/ }),

/***/ "./src/app/registration-form/registration-service.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RegistrationServiceService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var countries = [
    'Afghanistan', 'Albania', 'Algeria', 'Andorra', 'Angola', 'Antigua and Barbuda', 'Argentina', 'Armenia', 'Australia', 'Austria', 'Azerbaijan', 'The   Bahamas', 'Bahrain', 'Bangladesh', 'Barbados', 'Belarus', 'Belgium', 'Belize', 'Benin', 'Bhutan', 'Bolivia', 'Bosnia and Herzegovina', 'Botswana', 'Brazil', 'Brunei', 'Bulgaria', 'Burkina Faso', 'Burma', 'Burundi', 'Cambodia', 'Cameroon', 'Canada', 'Cape Verde', 'Central African Republic', 'Chad', 'Chile', 'China', 'Colombia', 'Comoros', 'Democratic Republic of the Congo', 'Republic of the Congo', 'Costa Rica', 'Ivory Coast', 'Croatia', 'Cuba', 'Cyprus', 'Czech Republic', 'Denmark', 'Djibouti', 'Dominica', 'Dominican Republic', 'East Timor', 'Ecuador', 'Egypt', 'El Salvador', 'Equatorial Guinea', 'Eritrea', 'Estonia', 'Ethiopia', 'Fiji', 'Finland', 'France', 'Gabon', 'The Gambia', 'Georgia', 'Germany', 'Ghana', 'Greece', 'Grenada', 'Guatemala', 'Guinea', 'Guinea-Bissau', 'Guyana', 'Haiti', 'Honduras', 'Hungary', 'Iceland', 'India', 'Indonesia', 'Iran', 'Iraq', 'Republic of Ireland', 'Israel', 'Italy', 'Jamaica', 'Japan', 'Jordan', 'Kazakhstan', 'Kenya', 'Kiribati', 'North Korea', 'South Korea', 'Kuwait', 'Kyrgyzstan', 'Laos', 'Latvia', 'Lebanon', 'Lesotho', 'Liberia', 'Libya', 'Liechtenstein', 'Lithuania', 'Luxembourg', 'Republic of Macedonia', 'Madagascar', 'Malawi', 'Malaysia', 'Maldives', 'Mali', 'Malta', 'Marshall Islands', 'Mauritania', 'Mauritius', 'Mexico', 'Federated States of Micronesia', 'Moldova', 'Monaco', 'Mongolia', 'Montenegro', 'Morocco', 'Mozambique', 'Namibia', 'Nauru', 'Nepal', 'Kingdom of the Netherlands', 'New Zealand', 'Nicaragua', 'Niger', 'Nigeria', 'Norway', 'Oman', 'Pakistan', 'Palau', 'State of Palestine', 'Panama', 'Papua New Guinea', 'Paraguay', 'Peru', 'Philippines', 'Poland', 'Portugal', 'Qatar', 'Romania', 'Russia', 'Rwanda', 'Saint Kitts and Nevis', 'Saint Lucia', 'Saint Vincent and the Grenadines', 'Samoa', 'San Marino', 'São Tomé and Príncipe', 'Saudi Arabia', 'Senegal', 'Serbia', 'Seychelles', 'Sierra Leone', 'Singapore', 'Slovakia', 'Slovenia', 'Solomon Islands', 'Somalia', 'South Africa', 'South Sudan', 'Spain', 'Sri Lanka', 'Sudan', 'Suriname', 'Swaziland', 'Sweden', 'Switzerland', 'Syria', 'Tajikistan', 'Tanzania', 'Thailand', 'Togo', 'Tonga', 'Trinidad and Tobago', 'Tunisia', 'Turkey', 'Turkmenistan', 'Tuvalu', 'Uganda', 'Ukraine', 'United Arab Emirates', 'United Kingdom', 'United States', 'Uruguay', 'Uzbekistan', 'Vanuatu', 'Vatican City', 'Venezuela', 'Vietnam', 'Yemen', 'Zambia', 'Zimbabwe'
];
var RegistrationServiceService = (function () {
    function RegistrationServiceService() {
    }
    RegistrationServiceService.prototype.getCountries = function () {
        return countries;
    };
    RegistrationServiceService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [])
    ], RegistrationServiceService);
    return RegistrationServiceService;
}());



/***/ }),

/***/ "./src/app/reports/reports.component.css":
/***/ (function(module, exports) {

module.exports = "#parent {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding-top: 30px\n}\n#narrow {\n  float: left;\n  width: 250px;\n}\n#wide {\n  padding-left: 40px;\n  float: right;\n  width: calc(100% - 250px);\n}\n.display-inline { display:inline-block; }\n#gridContainer {\n  margin-top: 20px;\n}\n#chart{\n  margin-top: 20px;\n}"

/***/ }),

/***/ "./src/app/reports/reports.component.html":
/***/ (function(module, exports) {

module.exports = "<div id=\"parent\">\n  <div id=\"narrow\">\n    <div class=\"dx-field\">\n      <label>Year: </label>\n           <dx-select-box \n          [dataSource]=\"years\"\n          displayExpr=\"name\" \n          valueExpr=\"id\" \n          [value]=\"years[0].id\" \n          (onValueChanged)=\"selectYear($event)\"\n          width=\"150\"></dx-select-box>\n\n        <label>Month: </label>\n           <dx-select-box \n          [dataSource]=\"months\"\n          displayExpr=\"name\" \n          valueExpr=\"id\" \n          [value]=\"months[0].id\" \n          (onValueChanged)=\"selectMonth($event)\"\n          width=\"150\"></dx-select-box>\n\n    <dx-radio-group [items]=\"reportIntervalTypes\"\n                [value]=\"reportIntervalTypes[2]\"\n                (onValueChanged)=\"switchReportIntervalType($event)\"\n                layout=\"vertical\">\n                </dx-radio-group>\n  </div>\n  </div>\n  <div id=\"wide\">\n   <dx-tabs\n        #apiTabs\n        [dataSource]=\"tabs\"\n        [selectedIndex]=\"0\"\n        (onItemClick)=\"selectTab($event)\"\n    ></dx-tabs>\n\n    <ng-container *ngIf=\"tab === 0\">\n\n        <dx-data-grid id=\"gridContainer\" [showBorders]=\"true\" [dataSource]=\"revenueData\" (onCellPrepared)=\"onCellPrepared($event)\">\n            <dxo-load-panel [enabled]=\"true\"></dxo-load-panel>\n            <dxo-scrolling mode=\"virtual\"></dxo-scrolling>\n            <dxo-sorting mode=\"none\"></dxo-sorting>\n            <dxi-column dataField=\"Doctor\"></dxi-column>\n                         <dxi-column dataField=\"Customer\"></dxi-column>\n                         <dxi-column dataField=\"Operation\"></dxi-column>\n                         <dxi-column dataField=\"SaleAmount\"><dxo-format type=\"fixedPoint\" [precision]=\"2\"></dxo-format></dxi-column>\n                         <dxi-column dataField=\"CollectedPrice\"><dxo-format type=\"fixedPoint\" [precision]=\"2\"></dxo-format></dxi-column>\n                         <dxi-column dataField=\"AdvanceInfo\"><dxo-format type=\"fixedPoint\" [precision]=\"2\"></dxo-format></dxi-column>\n                         <dxi-column dataField=\"DebtInfo\"><dxo-format type=\"fixedPoint\" [precision]=\"2\"></dxo-format></dxi-column>\n                         <dxo-summary>\n                         <dxi-total-item column=\"CollectedPrice\" summaryType=\"sum\"> </dxi-total-item></dxo-summary>\n      \n         </dx-data-grid>\n\n        <!-- <dx-data-grid\n          id=\"gridContainer\"\n          [dataSource]=\"revenueData\"\n          [columns]=\"['Date', 'CollectedPrice', 'TotalPrice', 'FinalPrice', 'SaleAmount']\">\n\n          <dxo-summary>\n            <dxi-total-item\n              column=\"CollectedPrice\"\n              summaryType=\"sum\">\n            </dxi-total-item>\n            <dxi-total-item\n              column=\"TotalPrice\"\n              summaryType=\"sum\">\n            </dxi-total-item>\n            <dxi-total-item\n              column=\"FinalPrice\"\n              summaryType=\"sum\">\n            </dxi-total-item>\n            <dxi-total-item\n              column=\"SaleAmount\"\n              summaryType=\"sum\">\n            </dxi-total-item>\n          </dxo-summary>\n          <dxi-column dataField=\"Date\"></dxi-column>\n          <dxi-column dataField=\"CollectedPrice\"><dxo-format type=\"fixedPoint\" [precision]=\"2\"></dxo-format></dxi-column>\n          <dxi-column dataField=\"TotalPrice\"><dxo-format type=\"fixedPoint\" [precision]=\"2\"></dxo-format></dxi-column>\n          <dxi-column dataField=\"FinalPrice\"><dxo-format type=\"fixedPoint\" [precision]=\"2\"></dxo-format></dxi-column>\n          <dxi-column dataField=\"SaleAmount\"><dxo-format type=\"fixedPoint\" [precision]=\"2\"></dxo-format></dxi-column>\n        </dx-data-grid> -->\n    </ng-container>\n    <ng-container *ngIf=\"tab === 1\">\n      <dx-chart\n          id=\"chart\"\n          [dataSource]=\"dataSource\">\n          <dxi-series\n              argumentField=\"dayOfMonth\"\n              valueField=\"total\"\n              name=\"{{intervalType + ' Chart'}}\"\n              type=\"bar\"\n              color=\"#ffaa66\">\n          </dxi-series>\n      </dx-chart>\n    </ng-container>\n  </div>\n</div>\n\n"

/***/ }),

/***/ "./src/app/reports/reports.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ReportsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__reports_service__ = __webpack_require__("./src/app/reports/reports.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var ReportsComponent = (function () {
    function ReportsComponent(_reportsService) {
        this._reportsService = _reportsService;
        this.years = [{
                id: 1,
                name: '2018'
            }, {
                id: 2,
                name: '2019'
            }];
        this.months = [
            { id: '01', name: 'January' },
            { id: '02', name: 'February' },
            { id: '03', name: 'March' },
            { id: '04', name: 'April' },
            { id: '05', name: 'May' },
            { id: '06', name: 'June' },
            { id: '07', name: 'July' },
            { id: '08', name: 'August' },
            { id: '09', name: 'September' },
            { id: '10', name: 'October' },
            { id: '11', name: 'November' },
            { id: '12', name: 'December' }
        ];
        this.tabs = [
            {
                id: 0,
                text: "Reports",
                icon: "folder",
                content: "User tab content"
            },
            {
                id: 1,
                text: "Graphs",
                icon: "chart",
                content: "Comment tab content"
            }
        ];
        this.dataSourrce = [{
                day: "Monday",
                oranges: 3
            }, {
                day: "Tuesday",
                oranges: 2
            }, {
                day: "Wednesday",
                oranges: 3
            }, {
                day: "Thursday",
                oranges: 4
            }, {
                day: "Friday",
                oranges: 6
            }, {
                day: "Saturday",
                oranges: 11
            }, {
                day: "Sunday",
                oranges: 4
            }];
        this.dataSource = [];
        this.tab = 0;
        this.reportIntervalTypes = ['Daily', 'Weekly', 'Monthly'];
        this.intervalType = 'Monthly';
        this.selectedMonth = ('0' + (new Date().getMonth() + 1)).slice(-2);
        this.selectedYear = (new Date().getFullYear().toString());
        this.isMonthy = true;
        this.revenueData = [];
        this.monthDaysRangeArr = [];
    }
    ReportsComponent.prototype.ngOnInit = function () {
        this.getReports();
        this.createMonthDaysRangeArray();
    };
    ReportsComponent.prototype.getReports = function () {
        var _this = this;
        var params = {
            Date: this.selectedMonth + "/" + new Date().getDate() + "/" + this.selectedYear,
            DoctorId: JSON.parse(localStorage['loggedInDoctor'])['id'],
        };
        this._reportsService.getReportData(params).subscribe(function (response) {
            if (response['revenueData']) {
                _this.revenueData = response['revenueData'].map(function (x) {
                    return {
                        Doctor: x['doctor'],
                        Customer: x['customer'],
                        Operation: x['operation'],
                        SaleAmount: x['saleAmount'],
                        CollectedPrice: x['collectedPrice'],
                        AdvanceInfo: x['advanceInfo'],
                        DebtInfo: x['debtInfo']
                    };
                });
                _this.prepareArrayForGraph(response['revenueData']);
                // this.dataSource = response['revenueData'].map(x => {
                //   return {
                //     day: this.isMonthy === true ? new Date(x['day']).getDate() : moment(x['day']).format('dddd'),
                //     collectedPrice: x['collectedPrice'],
                //   }
                // });
            }
            else {
                _this.revenueData = [];
                _this.dataSource = [];
            }
        });
    };
    ReportsComponent.prototype.onCellPrepared = function (e) {
        if (e.rowType === 'data' && [5, 6].includes(e.columnIndex) && e.displayValue) {
            e.cellElement.bgColor = e.columnIndex === 5 ? 'green' : 'red';
        }
    };
    ReportsComponent.prototype.selectYear = function (e) {
        this.selectedYear = this.years.filter(function (x) { return x.id === e.value; })[0].name;
        this.createMonthDaysRangeArray();
        this.getReports();
    };
    ReportsComponent.prototype.selectTab = function (e) {
        this.tab = e.itemIndex;
    };
    ReportsComponent.prototype.getIsMonthByIntervalType = function (type) {
        this.intervalType = type;
        var isMonth;
        switch (type) {
            case 'Daily':
                isMonth = null;
                break;
            case 'Weekly':
                isMonth = false;
                break;
            case 'Monthly':
                isMonth = true;
                break;
            default:
                console.log('IntervalType Not Found!');
                break;
        }
        return isMonth;
    };
    ReportsComponent.prototype.switchReportIntervalType = function (e) {
        this.isMonthy = this.getIsMonthByIntervalType(e.value);
        this.getReports();
    };
    ReportsComponent.prototype.selectMonth = function (e) {
        this.selectedMonth = e.value;
        this.createMonthDaysRangeArray();
        this.getReports();
    };
    ReportsComponent.prototype.prepareArrayForGraph = function (revenueData) {
        var _this = this;
        this.dataSource = [];
        var collectedPriceList = revenueData.map(function (item) {
            var obj = { dayOfMonth: new Date(__WEBPACK_IMPORTED_MODULE_1_moment__(item.dayName.split(',')[0]).format('DD/MM/YYYY')).getDate(), collectedPrice: item.collectedPrice };
            return obj;
        });
        this.monthDaysRangeArr.forEach(function (day) {
            var totalCollectedPrice = 0;
            collectedPriceList.filter(function (item) { return item.dayOfMonth === day; }).forEach(function (el) { return totalCollectedPrice += el.collectedPrice; });
            _this.dataSource.push({
                dayOfMonth: day,
                total: totalCollectedPrice || 0
            });
        });
    };
    ReportsComponent.prototype.createMonthDaysRangeArray = function () {
        var totalDaysInSelectedMonth = new Date(+this.selectedYear, +this.selectedMonth, 0).getDate();
        for (var day = 1; day <= totalDaysInSelectedMonth; day++) {
            this.monthDaysRangeArr.push(day);
        }
    };
    ReportsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-reports',
            template: __webpack_require__("./src/app/reports/reports.component.html"),
            styles: [__webpack_require__("./src/app/reports/reports.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__reports_service__["a" /* ReportsService */]])
    ], ReportsComponent);
    return ReportsComponent;
}());



/***/ }),

/***/ "./src/app/reports/reports.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ReportsService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_devextreme_ui_notify__ = __webpack_require__("./node_modules/devextreme/ui/notify.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_devextreme_ui_notify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_devextreme_ui_notify__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var ReportsService = (function () {
    function ReportsService(http) {
        this.http = http;
        // apiUrl = 'http://localhost:55761/api/core/';
        this.apiUrl = 'http://aristoapi.gearhostpreview.com/api/core/';
    }
    ReportsService.prototype.getReportData = function (data) {
        var queryParams = this.serializeObject(data);
        return this.http.get(this.apiUrl + 'GetReportData?' + queryParams, { headers: this.getAuthorizationHeader() });
    };
    ReportsService.prototype.getDailyPayments = function (data) {
        var queryParams = this.serializeObject(data);
        return this.http.get(this.apiUrl + 'GetDailyPayments?' + queryParams, { headers: this.getAuthorizationHeader() });
    };
    ReportsService.prototype.getUnordinaryPayments = function (data) {
        var queryParams = this.serializeObject(data);
        return this.http.get(this.apiUrl + 'GetUnordinaryPayments?' + queryParams, { headers: this.getAuthorizationHeader() });
    };
    ReportsService.prototype.getMissedAppointmentsByDateInterval = function (data) {
        var queryParams = this.serializeObject(data);
        return this.http.get(this.apiUrl + 'GetMissedAppointmentsByDateInterval?' + queryParams, { headers: this.getAuthorizationHeader() });
    };
    ReportsService.prototype.paymentDateUpdate = function (data) {
        var queryParams = this.serializeObject(data);
        return this.http.post(this.apiUrl + 'PaymentDateUpdate?' + queryParams, data, { headers: this.getAuthorizationHeader() });
    };
    ReportsService.prototype.getSMSListByDateInterval = function (data) {
        var queryParams = this.serializeObject(data);
        return this.http.get(this.apiUrl + 'GetSMSListByDateInterval?' + queryParams, { headers: this.getAuthorizationHeader() });
    };
    ReportsService.prototype.messageHistoryInsert = function (data) {
        var queryParams = this.serializeObject(data);
        return this.http.post(this.apiUrl + 'MessageHistoryInsert?' + queryParams, data, { headers: this.getAuthorizationHeader() });
    };
    ReportsService.prototype.messageHistorySelect = function (data) {
        var queryParams = this.serializeObject(data);
        return this.http.get(this.apiUrl + 'MessageHistorySelect?' + queryParams, { headers: this.getAuthorizationHeader() });
    };
    ReportsService.prototype.sendSms = function (data) {
        return this.http.post(this.apiUrl + 'SendMsg', data, { headers: this.getAuthorizationHeader() });
    };
    ReportsService.prototype.getOperationsReportByDoctorId = function (data) {
        var queryParams = this.serializeObject(data);
        return this.http.get(this.apiUrl + 'GetOperationsReportByDoctorId?' + queryParams, { headers: this.getAuthorizationHeader() });
    };
    ReportsService.prototype.getDoctors = function () {
        return this.http.get(this.apiUrl + 'GetDoctorData?Action=GETDOCTORS', { headers: this.getAuthorizationHeader() });
    };
    ReportsService.prototype.getProcessedTreatmentInvoices = function (data) {
        var queryParams = this.serializeObject(data);
        return this.http.get(this.apiUrl + 'GetProcessedTreatmentsByDate?' + queryParams, { headers: this.getAuthorizationHeader() });
    };
    ReportsService.prototype.getAuthorizationHeader = function () {
        var cred = localStorage.getItem('creds');
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["HttpHeaders"]();
        if (cred) {
            headers = headers.set("Authorization", cred);
        }
        return headers;
    };
    ReportsService.prototype.serializeObject = function (obj) {
        var str = [];
        for (var p in obj) {
            if (obj.hasOwnProperty(p)) {
                str.push(p + '=' + obj[p]);
            }
        }
        return str.join('&');
    };
    ReportsService.prototype.toasterMessage = function (message, type, timeout) {
        // The message's type: "info", "warning", "error" or "success"
        __WEBPACK_IMPORTED_MODULE_2_devextreme_ui_notify___default()({
            message: message,
            position: {
                my: "center top",
                at: "center top"
            }
        }, type, timeout || 3000);
    };
    ReportsService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_common_http__["HttpClient"]])
    ], ReportsService);
    return ReportsService;
}());



/***/ }),

/***/ "./src/app/sms-lists/sms-lists.component.css":
/***/ (function(module, exports) {

module.exports = ".filters-wrapper {\n    width: 100vw;\n    max-width: 100%;\n    overflow: hidden;\n    overflow-x: auto;\n    white-space: nowrap;\n    margin-top: 12px;\n}\n  \n.filters-wrapper-item {\n    display: inline-block;\n    margin-bottom: 20px;\n    margin-right: 20px;\n    vertical-align: middle;\n}\n  \n.grids-wrapper {\n    width: 100vw;\n    max-width: 100%;\n    overflow: hidden;\n    overflow-x: auto;\n    white-space: nowrap;\n    margin-top: 12px;\n}\n  \n.grid-wrapper-item {\n    display: inline-block;\n    margin-bottom: 20px;\n    margin-right: 20px;\n    vertical-align: middle;\n    width: 600px;\n}"

/***/ }),

/***/ "./src/app/sms-lists/sms-lists.component.html":
/***/ (function(module, exports) {

module.exports = "\n<div class=\"filters-wrapper\">\n  <div class=\"filters-wrapper-item\">\n    <h4 style=\"margin: 5px;\">Date</h4>\n    <dx-date-box id=\"datepicker\" [(value)]=\"date\" (onValueChanged)=\"onDateChange($event, 'date')\" type=\"date\"\n      displayFormat=\"dd/MM/yyyy\">\n    </dx-date-box>\n  </div>\n  \n  <div class=\"filters-wrapper-item\">\n    <h4 style=\"margin: 5px;\">Next Date</h4>\n    <dx-date-box id=\"nextdatepicker\" [(value)]=\"nextDate\" (onValueChanged)=\"onDateChange($event, 'nextDate')\" type=\"date\"\n      displayFormat=\"dd/MM/yyyy\">\n    </dx-date-box>\n  </div>\n\n  <div class=\"filters-wrapper-item\" style=\"margin-bottom: -8px;\">\n    <dx-button type=\"default\" text=\"Send Messages\" (onClick)=\"sendMessages()\"></dx-button>\n  </div>\n\n  <div class=\"filters-wrapper-item\" style=\"margin-bottom: -8px;\">\n \n  </div>\n\n  \n</div>\n\n<div class=\"grids-wrapper\">\n  <div class=\"grid-wrapper-item\">\n      <dx-data-grid id=\"gridContainer\" [dataSource]=\"dateList\" [showBorders]=\"true\"\n       #todayDatagrid>\n      <!-- (onContentReady)=\"onContentReady($event, 'Date List')\" -->\n\n        <dxo-editing mode=\"popup\" [allowUpdating]=\"true\" ></dxo-editing>\n        <!-- <dxo-export [enabled]=\"true\" [fileName]=\"todayFilename\" [allowExportSelectedData]=\"true\"></dxo-export> -->\n        <dxo-selection mode=\"multiple\"></dxo-selection>\n      \n        <dxi-column dataField=\"Tel\"></dxi-column>\n        <dxi-column dataField=\"Fullname\"></dxi-column>\n        <dxi-column dataField=\"Content\" [width]=\"2\"></dxi-column>\n      \n      </dx-data-grid>\n  </div>\n  <div class=\"grid-wrapper-item\">\n      <dx-data-grid id=\"gridContainer\" [dataSource]=\"nextDateList\" [showBorders]=\"true\"\n      #nextDatagrid>\n      <!-- (onContentReady)=\"onContentReady($event, 'Next Date List')\" -->\n\n        <dxo-editing mode=\"popup\" [allowUpdating]=\"true\"></dxo-editing>\n        <!-- <dxo-export [enabled]=\"true\" [fileName]=\"tomorrowFilename\" [allowExportSelectedData]=\"true\"></dxo-export> -->\n        <dxo-selection mode=\"multiple\"></dxo-selection>\n      \n        <dxi-column dataField=\"Tel\"></dxi-column>\n        <dxi-column dataField=\"Fullname\"></dxi-column>\n        <dxi-column dataField=\"Content\" [width]=\"2\"></dxi-column>\n      \n      </dx-data-grid>\n  </div>\n\n  <dx-load-panel [closeOnOutsideClick]=\"true\" [(visible)]=\"isLoading\">\n  </dx-load-panel>\n</div>\n\n<dx-popup class=\"popup\" [width]=\"300\" [height]=\"300\" [dragEnabled]=\"true\" [closeOnOutsideClick]=\"true\"\n    [(visible)]=\"popupVisible\" contentTemplate=\"popupContent\" title=\"Delete Treatment\">\n    <div *dxTemplate=\"let data of 'popupContent'\">\n        <p >{{printSelected()}}</p>\n\n        <p *ngIf=\"isDateExists\" style=\"color: red;\">Messages from {{date}} are sent before</p>\n        <p *ngIf=\"isNextDateExists\" style=\"color: red;\">Messages from {{nextDate}} are sent before</p>\n\n     \n          <dx-button text=\"Yes\" type=\"default\" (onClick)=\"onMessageSend('Yes')\">\n          </dx-button>\n  \n          <dx-button text=\"No\" type=\"normal\" (onClick)=\"onMessageSend('No')\">\n          </dx-button>\n        \n    </div>\n\n</dx-popup>"

/***/ }),

/***/ "./src/app/sms-lists/sms-lists.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SmsListsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__reports_reports_service__ = __webpack_require__("./src/app/reports/reports.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_devextreme_angular__ = __webpack_require__("./node_modules/devextreme-angular/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_devextreme_angular___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_devextreme_angular__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var SmsListsComponent = (function () {
    function SmsListsComponent(_reportsService) {
        this._reportsService = _reportsService;
        this.isLoading = false;
        this.dataSource = [];
        this.date = __WEBPACK_IMPORTED_MODULE_1_moment__().format('MM/DD/YYYY');
        this.isSaturday = (__WEBPACK_IMPORTED_MODULE_1_moment__(this.date).day() === 6);
        this.nextDate = __WEBPACK_IMPORTED_MODULE_1_moment__().add(this.isSaturday ? 2 : 1, 'days').format('MM/DD/YYYY');
        this.todayFilename = "DATE_" + this.date;
        this.tomorrowFilename = "NEXT_" + this.date;
        this.dateList = [];
        this.nextDateList = [];
        this.allListChunks = [];
        this.isDateExists = false;
        this.isNextDateExists = false;
        this.chunkIndex = 0;
        this.numberOfErrors = 0;
        this.popupVisible = false;
        this.singleTime = true;
    }
    SmsListsComponent.prototype.ngOnInit = function () {
        this.getSmsLists();
        this.messageHistorySelect();
    };
    SmsListsComponent.prototype.messageHistorySelect = function () {
        var _this = this;
        var params = {
            Date: this.date,
            NextDate: this.nextDate
        };
        this._reportsService.messageHistorySelect(params).subscribe(function (data) {
            _this.isDateExists = data['isDateExists'],
                _this.isNextDateExists = data['isNextDateExists'];
        });
    };
    SmsListsComponent.prototype.getSelectedRowsData = function () {
        var todaySelectedData = this.todayDataGrid.instance.getSelectedRowsData();
        var nextSelectedData = this.nextDataGrid.instance.getSelectedRowsData();
        return {
            todaySelectedData: todaySelectedData,
            nextSelectedData: nextSelectedData
        };
    };
    SmsListsComponent.prototype.printSelected = function () {
        var todayDataLength = this.getSelectedRowsData().todaySelectedData.length;
        var nextDataLength = this.getSelectedRowsData().nextSelectedData.length;
        if (todayDataLength === 0 && todayDataLength === 0) {
            return 'No Item Selected';
        }
        else if (todayDataLength === 0) {
            return 'No Item for TODAY is selected! Proceed anyway?';
        }
        else if (nextDataLength === 0) {
            return 'No Item for NEXT DATE is selected! Proceed anyway?';
        }
        else {
            return 'Are You Sure?';
        }
    };
    SmsListsComponent.prototype.getSmsLists = function () {
        var _this = this;
        var params = {
            Today: this.date,
            NextDay: this.nextDate,
        };
        this.isLoading = true;
        this._reportsService.getSMSListByDateInterval(params).subscribe(function (response) {
            _this.isLoading = false;
            _this.dateList = response['today'].map(function (item) {
                var obj = {
                    Id: item['id'],
                    Tel: item['tel'],
                    Fullname: item['fullname'],
                    Content: item['content'],
                };
                return obj;
            });
            _this.nextDateList = response['nextDay'].map(function (item) {
                var obj = {
                    Id: item['id'],
                    Tel: item['tel'],
                    Fullname: item['fullname'],
                    Content: item['content'],
                };
                return obj;
            });
            // const allList = this.dateList.concat(this.nextDateList);
            // this.allListChunks = this.splitArrayToChunk(allList);
        }, function () { return _this.isLoading = false; });
    };
    SmsListsComponent.prototype.splitArrayToChunk = function (array, chunkSize) {
        if (chunkSize === void 0) { chunkSize = 10; }
        var outPut = [];
        for (var i = 0; i < array.length; i += chunkSize) {
            outPut.push(array.slice(i, i + chunkSize));
        }
        return outPut;
    };
    SmsListsComponent.prototype.saveErrorOnLocalStorage = function (errorCode, chunkIndex) {
        this.numberOfErrors++;
        if (localStorage.getItem('errorMessages') === null) {
            localStorage.setItem('errorMessages', JSON.stringify([this.getErrorMessageObj(errorCode, chunkIndex)]));
        }
        else {
            var errorMsgs = JSON.parse(localStorage.getItem('errorMessages'));
            errorMsgs.push(this.getErrorMessageObj(errorCode, chunkIndex));
            localStorage.setItem('errorMessages', JSON.stringify(errorMsgs));
        }
    };
    SmsListsComponent.prototype.sendMessages = function () {
        this.popupVisible = true;
    };
    SmsListsComponent.prototype.onMessageSend = function (response) {
        if (this.singleTime) {
            var todayData = this.getSelectedRowsData().todaySelectedData;
            var nextData = this.getSelectedRowsData().nextSelectedData;
            if (todayData.length === 0 && nextData.length === 0) {
                this.popupVisible = false;
                return;
            }
            if (response === 'Yes') {
                var allList = todayData.concat(nextData);
                this.allListChunks = this.splitArrayToChunk(allList);
                this.chunkXmlhttpRequest(this.allListChunks[this.chunkIndex]);
            }
            this.singleTime = false;
            this.popupVisible = false;
            this.timeOut();
        }
    };
    SmsListsComponent.prototype.timeOut = function () {
        var _this = this;
        setTimeout(function () {
            _this.singleTime = true;
        }, 900);
    };
    SmsListsComponent.prototype.showToaster = function () {
        this.chunkIndex = 0;
        var msg = this.numberOfErrors > 0 ? 'Messages are sent with error!!!' : 'Messages are sent successfuly!';
        var type = this.numberOfErrors > 0 ? 'error' : 'success';
        this._reportsService.toasterMessage(msg, type, 6000);
    };
    SmsListsComponent.prototype.insertDatesAndErrors = function () {
        var _this = this;
        var params = {
            Date: this.date,
            NextDate: this.nextDate,
            ErrorMesssage: this.numberOfErrors > 0 ? localStorage.getItem('errorMessages') : ''
        };
        this._reportsService.messageHistoryInsert(params).subscribe(function (data) {
            _this.messageHistorySelect();
        });
    };
    SmsListsComponent.prototype.chunkXmlhttpRequest = function (chunk) {
        var _this = this;
        var xml = this.getXml(chunk);
        var data = { Message: xml };
        this._reportsService.sendSms(data).subscribe(function (data) {
            if ((_this.chunkIndex + 1) === _this.allListChunks.length) {
                _this.showToaster();
                _this.insertDatesAndErrors();
            }
            else {
                if (!data['isSuccessStatusCode']) {
                    _this.saveErrorOnLocalStorage('', _this.chunkIndex);
                }
                _this.chunkIndex++;
                _this.chunkXmlhttpRequest(_this.allListChunks[_this.chunkIndex]);
            }
        });
    };
    SmsListsComponent.prototype.getXml = function (data) {
        return "<MainmsgBody>\n      <UserName>dentaristo-3771</UserName>\n      <PassWord>dent@123</PassWord>\n      <Action>1</Action>\n      <Messages>\n        " + this.getXmlContent(data) + "\n      </Messages>\n      <Originator>DentAristo</Originator>\n      <SDate></SDate>\n    </MainmsgBody>";
    };
    SmsListsComponent.prototype.getXmlContent = function (data) {
        var _this = this;
        var allMsgContent = '';
        data.forEach(function (item) {
            allMsgContent += "<Message>\n        <Mesgbody>" + item.Content + "</Mesgbody>\n        <Number>" + _this.getTelNumber(item.Tel) + "</Number>\n      </Message>";
        });
        return allMsgContent;
    };
    SmsListsComponent.prototype.getTelNumber = function (tel) {
        return tel.includes(',') ? tel.split(',')[0] : tel;
    };
    SmsListsComponent.prototype.getErrorMessageObj = function (errorCode, chunkIndex) {
        return { errorCode: errorCode, chunkIndex: chunkIndex, dateTime: __WEBPACK_IMPORTED_MODULE_1_moment__().format('DD/MM/YYYY HH:mm:ss') };
    };
    SmsListsComponent.prototype.onDateChange = function (event, type) {
        this[type] = event.value;
        this.getSmsLists();
        this.messageHistorySelect();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('todayDatagrid'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_3_devextreme_angular__["DxDataGridComponent"])
    ], SmsListsComponent.prototype, "todayDataGrid", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('nextDatagrid'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_3_devextreme_angular__["DxDataGridComponent"])
    ], SmsListsComponent.prototype, "nextDataGrid", void 0);
    SmsListsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-sms-lists',
            template: __webpack_require__("./src/app/sms-lists/sms-lists.component.html"),
            styles: [__webpack_require__("./src/app/sms-lists/sms-lists.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__reports_reports_service__["a" /* ReportsService */]])
    ], SmsListsComponent);
    return SmsListsComponent;
}());



/***/ }),

/***/ "./src/app/treatment-offers-list/treatment-offers-list.component.css":
/***/ (function(module, exports) {

module.exports = ".gridContainer {\n  padding: 20px;\n}\n\n.customerSelectBox {\n  padding-top: 20px;\n  padding-left: 10px;\n}\n\n.display-inline {\n  display: inline-block;\n}\n\n.display-inline-flex {\n  display: -webkit-inline-box;\n  display: -ms-inline-flexbox;\n  display: inline-flex;\n  margin: 10px;\n}\n\n.flex-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n\n.flex-box-1 {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n}\n\n.flex-box-2 {\n  -webkit-box-flex: 2;\n      -ms-flex: 2;\n          flex: 2;\n}\n\n.flex-box-3 {\n  -webkit-box-flex: 3;\n      -ms-flex: 3;\n          flex: 3;\n}\n\n.debt-advance-labels {\n  width: 120px;\n  margin: 5px;\n  color: #848484;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  text-align: center;\n}\n\n.treatment-hr {\n  border: 2px solid #848484;\n  border-radius: 5px;\n}\n\n.collector-label {\n  margin-right: 5px;\n}\n\n#edit-advance-debt-btn {\n  background: #b4b4b4;\n  border: 1px solid #c8c8c8;\n}\n\n.accordion {\n  margin-top: 20px;\n}\n\n#save-btn {\n  margin-bottom: 25px;\n  margin-left: 20px;\n}\n\n#sale {\n  color: #333;\n  padding-left: 40px;\n}\n\n#parent {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding-top: 30px;\n}\n\n#narrow {\n  float: left;\n  width: 250px;\n}\n\n#wide {\n  padding-left: 30px;\n  float: right;\n  width: calc(100% - 250px);\n}\n\n::ng-deep .nineteenthcentury {\n  background: red;\n}\n\n.comment {\n  margin-top: 30px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n\n#gridContainer {\n  margin-top: 20px;\n}\n"

/***/ }),

/***/ "./src/app/treatment-offers-list/treatment-offers-list.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"wrapper\">\n  <div class=\"display-inline-flex\">\n    <customer-search\n      (onCustomerSelect)=\"selectCustomer($event)\"\n      [display]=\"value\"\n    ></customer-search>\n  </div>\n\n  <div class=\"display-inline-flex\">\n    <dx-button\n      text=\"Go To Plan\"\n      type=\"default\"\n      (onClick)=\"goToPlan()\"\n      [disabled]=\"!selectedPlan\"\n    ></dx-button>\n  </div>\n\n  <div>\n    <dx-data-grid\n      id=\"gridContainer\"\n      [showBorders]=\"true\"\n      [dataSource]=\"offersList\"\n      [columnAutoWidth]=\"true\"\n      (onRowClick)=\"onRowClick($event)\"\n    >\n      <dxo-load-panel [enabled]=\"true\"></dxo-load-panel>\n      <dxo-scrolling mode=\"virtual\"></dxo-scrolling>\n      <dxo-sorting mode=\"none\"></dxo-sorting>\n      <dxi-column dataField=\"Date\"></dxi-column>\n      <dxi-column dataField=\"Doctor\"></dxi-column>\n      <dxi-column dataField=\"Operations\"></dxi-column>\n    </dx-data-grid>\n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/treatment-offers-list/treatment-offers-list.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TreatmentOffersListComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__treatments_treatments_service__ = __webpack_require__("./src/app/treatments/treatments.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var TreatmentOffersListComponent = (function () {
    function TreatmentOffersListComponent(_treatmentService, router) {
        this._treatmentService = _treatmentService;
        this.router = router;
        this.offersList = [];
        this.value = "";
        this.treatmentList = [];
        this.selectedPlan = null;
    }
    TreatmentOffersListComponent.prototype.ngOnInit = function () { };
    TreatmentOffersListComponent.prototype.onRowClick = function (e) {
        this.selectedPlan = e.data;
    };
    TreatmentOffersListComponent.prototype.goToPlan = function () {
        this.router.navigate(["/treatments-offers"], {
            queryParams: {
                TreatmentOffersId: this.selectedPlan.id
            }
        });
    };
    TreatmentOffersListComponent.prototype.selectCustomer = function (customer) {
        var _this = this;
        // TODO add after customerselect getTreatments()
        debugger;
        this.selectedCustomerID = customer.id || 0;
        this.value = customer.display || "";
        var params = {
            Id: this.selectedCustomerID,
            Choice: "TREATMENTLIST"
        };
        this._treatmentService
            .getTreatmentOffersByCustomerId(params)
            .subscribe(function (data) {
            _this.offersList = data["treatmentList"].map(function (item) {
                var obj = {
                    Doctor: item["doctor"],
                    Date: item["date"],
                    Patient: item["firstname"] + " " + item["lastname"],
                    Operations: item["summary"],
                    id: item["id"]
                };
                return obj;
            });
        });
    };
    TreatmentOffersListComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: "app-treatment-offers-list",
            template: __webpack_require__("./src/app/treatment-offers-list/treatment-offers-list.component.html"),
            styles: [__webpack_require__("./src/app/treatment-offers-list/treatment-offers-list.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__treatments_treatments_service__["a" /* TreatmentsService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* Router */]])
    ], TreatmentOffersListComponent);
    return TreatmentOffersListComponent;
}());



/***/ }),

/***/ "./src/app/treatments-list/treatments-list.component.css":
/***/ (function(module, exports) {

module.exports = "#treatmentsListGrid {\n    margin-bottom: 50px; \n    margin-top: 50px\n}\n\n#customerSelectBox {\n    margin-top: 20px;\n}\n\n#parent {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding-top: 30px\n}\n\n#narrow {\n  float: left;\n  width: 500px;\n}\n\n#wide {\n  padding-left: 150px;\n  float: right;\n  width: calc(100% - 500px);\n}"

/***/ }),

/***/ "./src/app/treatments-list/treatments-list.component.html":
/***/ (function(module, exports) {

module.exports = "<div id=\"customerSelectBox\">\n  <!--<dx-select-box\n    [items]=\"customerList\"\n    placeholder=\"Choose Patient\"\n    [showClearButton]=\"true\"\n    [searchEnabled]=\"true\"\n    [value]=\"selectedCustomerID\"\n    displayExpr=\"firstLastName\"\n    valueExpr=\"id\"\n    width=\"280\"\n    (onValueChanged)=\"selectCustomer($event)\">\n  </dx-select-box>-->\n\n  <customer-search (onCustomerSelect)=\"selectCustomer($event)\"></customer-search>\n\n</div>\n\n<dx-data-grid id=\"treatmentsListGrid\" [dataSource]=\"treatmentsList\" [allowColumnResizing]=\"true\"\n  [columnAutoWidth]=\"true\" [wordWrapEnabled]=\"true\" [cellHintEnabled]=\"true\"\n  [columns]=\"['doctor', 'date', 'totalPrice', 'saleAmount', 'finalPrice', 'note', 'collectedPrice']\"\n  (onSelectionChanged)=\"onTreatmentSelect($event)\" (onRowPrepared)=\"onRowPrepared($event)\">\n  <dxi-column dataField=\"doctor\"></dxi-column>\n  <dxi-column dataField=\"date\"></dxi-column>\n  <dxi-column dataField=\"summary\"></dxi-column>\n\n  <dxi-column dataField=\"totalPrice\">\n    <dxo-format type=\"fixedPoint\" [precision]=\"2\"></dxo-format>\n  </dxi-column>\n  <dxi-column dataField=\"saleAmount\">\n    <dxo-format type=\"fixedPoint\" [precision]=\"2\"></dxo-format>\n  </dxi-column>\n  <dxi-column dataField=\"finalPrice\">\n    <dxo-format type=\"fixedPoint\" [precision]=\"2\"></dxo-format>\n  </dxi-column>\n  <dxi-column dataField=\"collectedPrice\">\n    <dxo-format type=\"fixedPoint\" [precision]=\"2\"></dxo-format>\n  </dxi-column>\n  <dxi-column dataField=\"debtPayment\">\n    <dxo-format type=\"fixedPoint\" [precision]=\"2\"></dxo-format>\n  </dxi-column>\n  <dxi-column dataType=\"boolean\" caption=\"Fulfilled\" [calculateCellValue]=\"isFulFilledvalue\"></dxi-column>\n  \n  <dxi-column dataField=\"note\"></dxi-column>\n\n  <dxo-selection mode=\"single\"></dxo-selection>\n</dx-data-grid>\n\n<div id=\"parent\">\n  <div id=\"narrow\">\n    <dx-data-grid id=\"treatmentDetailsListGrid\" [dataSource]=\"treatmentDetailsList\" width=\"620\">\n      <dxi-column dataField=\"operationName\" [width]=\"300\"></dxi-column>\n      <dxi-column dataField=\"teethNo\" [width]=\"100\"></dxi-column>\n      <dxi-column dataField=\"quantity\" [width]=\"80\"></dxi-column>\n      <dxi-column dataField=\"price\" [width]=\"30\">\n        <dxo-format type=\"fixedPoint\" [precision]=\"2\"></dxo-format>\n      </dxi-column>\n    </dx-data-grid>\n  </div>\n\n  <div id=\"wide\">\n    <dx-button id=\"edit-button\" width=\"150\" text=\"Edit Treatment\" type=\"default\" (onClick)=\"editTreatment()\"\n      [disabled]=\"disableBtn()\"></dx-button>\n    <dx-button id=\"reverese-button\" width=\"150\" text=\"Reverse Payment\" type=\"default\" (onClick)=\"reversePayment()\"\n      [disabled]=\"disableBtn()\"></dx-button>\n    <dx-button id=\"del-treatment-button\" width=\"150\" text=\"Delete Treatment\" type=\"danger\" (onClick)=\"onTreatmentDelete('ShowPopup')\"\n      [disabled]=\"disableBtn()\"></dx-button>\n  </div>\n\n  <dx-load-panel [closeOnOutsideClick]=\"true\" [(visible)]=\"isLoading\">\n  </dx-load-panel>\n\n</div>\n\n<dx-popup class=\"popup\" [width]=\"300\" [height]=\"250\" [dragEnabled]=\"true\" [closeOnOutsideClick]=\"true\"\n    [(visible)]=\"popupVisible\" contentTemplate=\"popupContent\" title=\"Delete Treatment\">\n    <div *dxTemplate=\"let data of 'popupContent'\">\n        <p >Are you sure ?</p>\n\n     \n          <dx-button text=\"Yes\" type=\"default\" (onClick)=\"onTreatmentDelete('Yes')\">\n          </dx-button>\n  \n          <dx-button text=\"No\" type=\"normal\" (onClick)=\"onTreatmentDelete('No')\">\n          </dx-button>\n        \n    </div>\n\n</dx-popup>"

/***/ }),

/***/ "./src/app/treatments-list/treatments-list.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TreatmentsListComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__appointment_scheduler_appointment_scheduler_service__ = __webpack_require__("./src/app/appointment-scheduler/appointment-scheduler.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__treatments_treatments_service__ = __webpack_require__("./src/app/treatments/treatments.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__app_service__ = __webpack_require__("./src/app/app.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var CustomerView = (function () {
    function CustomerView() {
    }
    return CustomerView;
}());
var TreatmentsListComponent = (function () {
    function TreatmentsListComponent(_appointmentService, _treatmentsService, router, appService) {
        this._appointmentService = _appointmentService;
        this._treatmentsService = _treatmentsService;
        this.router = router;
        this.appService = appService;
        this.treatmentsList = [];
        this.treatmentDetailsList = [];
        this.selectedTreatment = { id: 0 };
        this.selectedCustomerID = 0;
        this.isLoading = false;
        this.popupVisible = false;
        this.customerList = new Array();
    }
    TreatmentsListComponent.prototype.ngOnInit = function () {
        // this.getCustomers();
    };
    TreatmentsListComponent.prototype.reversePayment = function () {
        var _this = this;
        var params = {
            TreatmentId: this.selectedTreatment['id']
        };
        this.isLoading = true;
        this._treatmentsService.treatmentPendingChange(params).subscribe(function (response) {
            _this.isLoading = false;
            _this.getTreatmentsByCustomerId(_this.selectedCustomerID, 'TREATMENTLIST');
        }, function (error) { return _this.appService.toasterMessage('Error Occured!', 'error'); });
    };
    TreatmentsListComponent.prototype.onTreatmentDelete = function (delTreatmentCaption) {
        if (delTreatmentCaption === 'ShowPopup') {
            this.popupVisible = true;
        }
        if (delTreatmentCaption === 'Yes') {
            this.deleteTreatment();
            this.popupVisible = false;
        }
        if (delTreatmentCaption === 'No') {
            this.popupVisible = false;
        }
    };
    TreatmentsListComponent.prototype.deleteTreatment = function () {
        var _this = this;
        var params = {
            Choice: 'Treatment',
            TreatmentID: this.selectedTreatment['id']
        };
        this.isLoading = true;
        this._treatmentsService.treatmentDelete(params).subscribe(function (response) {
            _this.isLoading = false;
            _this.getTreatmentsByCustomerId(_this.selectedCustomerID, 'TREATMENTLIST');
        }, function (error) { return _this.appService.toasterMessage('Error Occured!', 'error'); });
    };
    TreatmentsListComponent.prototype.getCustomers = function () {
        var _this = this;
        this._appointmentService.getCustomers().subscribe(function (data) {
            _this.customerList = data;
            _this.customerList.forEach(function (x) {
                x.firstLastName = x.firstname + ' ' + x.lastname + ' | ' + x.tel;
            });
        });
    };
    TreatmentsListComponent.prototype.selectCustomer = function (customer) {
        if (customer.id) {
            this.selectedCustomerID = customer.id;
            this.getTreatmentsByCustomerId(customer.id, 'TREATMENTLIST');
        }
        else {
            this.treatmentsList = [];
            this.treatmentDetailsList = [];
            this.selectedTreatment['id'] = 0;
        }
    };
    TreatmentsListComponent.prototype.getTreatmentsByCustomerId = function (Id, Choice) {
        var _this = this;
        var params = {
            Id: Id,
            Choice: Choice
        };
        this.isLoading = true;
        this._treatmentsService.getTreatmentsByCustomerId(params).subscribe(function (data) {
            _this.isLoading = false;
            if (Choice === 'TREATMENTLIST') {
                _this.treatmentsList = data['treatmentList'];
                _this.treatmentsList.forEach(function (x) {
                    x.date = __WEBPACK_IMPORTED_MODULE_4_moment__(x.date).format('DD/MM/YYYY');
                    x.summary = x.summary.replace(/\r\n/g, "  ;  ");
                    x['IsFulfilled'] = x.finalPrice <= x.collectedPrice + x.debtPayment + x.advancePayment;
                });
                _this.treatmentDetailsList = [];
            }
            else {
                _this.treatmentDetailsList = data['treatmentDetailsList'];
                _this.treatmentDetailsList.forEach(function (item) { return item['price'] = item['price'] * item['quantity']; });
            }
        }, function (error) { return _this.appService.toasterMessage('Error Occured!', 'error'); });
    };
    TreatmentsListComponent.prototype.isFulFilledvalue = function (rowData) {
        return rowData.IsFulfilled;
    };
    TreatmentsListComponent.prototype.onTreatmentSelect = function (e) {
        this.selectedTreatment = e.selectedRowsData[0];
        this.getTreatmentsByCustomerId(this.selectedTreatment['id'], null);
    };
    TreatmentsListComponent.prototype.onRowPrepared = function (e) {
        if (e.rowType == 'data' && e.data.isPending) {
            e.rowElement.style.backgroundColor = '#fa6464';
            e.rowElement.className = e.rowElement.className.replace("dx-row-alt", "");
        }
    };
    TreatmentsListComponent.prototype.editTreatment = function () {
        this.router.navigate(['/treatments'], { queryParams: { CustomerID: this.selectedTreatment['customerId'], AppointmentID: this.selectedTreatment['appointmentID'], DoctorID: this.selectedTreatment['doctorId'] } });
        // this.router.navigate(['/treatments'], { queryParams: { CustomerID: this.selectedCustomerID, TreatmentID: this.selectedTreatmentID } });
    };
    TreatmentsListComponent.prototype.disableBtn = function () {
        return !this.selectedTreatment || !this.selectedTreatment.id || !Object.keys(this.selectedTreatment).length;
    };
    TreatmentsListComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-treatments-list',
            template: __webpack_require__("./src/app/treatments-list/treatments-list.component.html"),
            styles: [__webpack_require__("./src/app/treatments-list/treatments-list.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__appointment_scheduler_appointment_scheduler_service__["a" /* AppointmentSchedulerService */], __WEBPACK_IMPORTED_MODULE_2__treatments_treatments_service__["a" /* TreatmentsService */],
            __WEBPACK_IMPORTED_MODULE_5__angular_router__["b" /* Router */], __WEBPACK_IMPORTED_MODULE_3__app_service__["a" /* AppService */]])
    ], TreatmentsListComponent);
    return TreatmentsListComponent;
}());



/***/ }),

/***/ "./src/app/treatments-offers/treatments-offers.component.css":
/***/ (function(module, exports) {

module.exports = ".gridContainer {\n  padding: 20px;\n}\n\n.customerSelectBox {\n  padding-top: 20px;\n  padding-left: 10px;\n}\n\n.display-inline {\n  display: inline-block;\n}\n\n.display-inline-flex {\n  display: -webkit-inline-box;\n  display: -ms-inline-flexbox;\n  display: inline-flex;\n  margin: 10px;\n}\n\n.flex-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n\n.flex-box-1 {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n}\n\n.flex-box-2 {\n  -webkit-box-flex: 2;\n      -ms-flex: 2;\n          flex: 2;\n}\n\n.flex-box-3 {\n  -webkit-box-flex: 3;\n      -ms-flex: 3;\n          flex: 3;\n}\n\n.debt-advance-labels {\n  width: 120px;\n  margin: 5px;\n  color: #848484;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  text-align: center;\n}\n\n.treatment-hr {\n  border: 2px solid #848484;\n  border-radius: 5px;\n}\n\n.collector-label {\n  margin-right: 5px;\n}\n\n#edit-advance-debt-btn {\n  background: #b4b4b4;\n  border: 1px solid #c8c8c8;\n}\n\n.accordion {\n  margin-top: 20px;\n}\n\n#save-btn {\n  margin-bottom: 25px;\n  margin-left: 20px;\n}\n\n#sale {\n  color: #333;\n  padding-left: 40px;\n}\n\n#parent {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding-top: 30px;\n}\n\n#narrow {\n  float: left;\n  width: 250px;\n}\n\n#wide {\n  padding-left: 30px;\n  float: right;\n  width: calc(100% - 250px);\n}\n\n::ng-deep .nineteenthcentury {\n  background: red;\n}\n\n.comment {\n  margin-top: 30px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n"

/***/ }),

/***/ "./src/app/treatments-offers/treatments-offers.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"customerSelectBox\">\n  <div\n    class=\"display-inline\"\n    style=\"vertical-align: middle; margin-left: 20px;\"\n  >\n    <h4 style=\"margin-top: 0px; color: #848484\">Sale:</h4>\n  </div>\n  <div class=\"display-inline\">\n    <dx-number-box\n      [min]=\"0\"\n      [value]=\"sale\"\n      [showSpinButtons]=\"false\"\n      placeholder=\"0.00\"\n      format=\"#,##0.00\"\n      (keyup)=\"calcSale($event.target.value)\"\n      width=\"90\"\n    ></dx-number-box>\n  </div>\n\n  <div\n    class=\"display-inline\"\n    style=\"vertical-align: middle; margin-left: 20px;\"\n  >\n    <h4 style=\"margin-top: 0px; color: #848484\">Total:</h4>\n  </div>\n  <div class=\"display-inline\">\n    <dx-text-box\n      [value]=\"totalOperationsPrice.toFixed(2)\"\n      [disabled]=\"true\"\n      width=\"110\"\n    ></dx-text-box>\n  </div>\n\n  <div\n    class=\"display-inline\"\n    style=\"vertical-align: middle; margin-left: 20px;\"\n  >\n    <h4 style=\"margin-top: 0px; color:#848484\">Date:</h4>\n  </div>\n\n  <div class=\"display-inline\">\n    <dx-date-box [(value)]=\"addedDate\" type=\"date\" displayFormat=\"dd/MM/yyyy\">\n    </dx-date-box>\n  </div>\n\n  <div\n    class=\"display-inline\"\n    style=\"vertical-align: middle; margin-left: 20px;\"\n  >\n    <h4 style=\"margin-top: 0px; color: #848484\">Doctor:</h4>\n  </div>\n  <div class=\"display-inline\">\n    <dx-text-box\n      [value]=\"doctorName\"\n      [disabled]=\"true\"\n      width=\"180\"\n    ></dx-text-box>\n  </div>\n\n  <div\n    class=\"display-inline\"\n    style=\"vertical-align: middle; margin-left: 20px;\"\n  >\n    <h4 style=\"margin-top: 0px; color: #848484\">Patient:</h4>\n  </div>\n  <div class=\"display-inline\">\n    <dx-text-box\n      [value]=\"patientName\"\n      [disabled]=\"true\"\n      width=\"180\"\n    ></dx-text-box>\n  </div>\n\n  <div class=\"display-inline\">\n    <dx-button\n      id=\"save-btn\"\n      width=\"150\"\n      text=\"{{ isUpdate ? 'Update Plan' : 'Add New Plan' }}\"\n      (onClick)=\"saveTreatmentOffer()\"\n      [disabled]=\"appliedOperations.length === 0\"\n    ></dx-button>\n  </div>\n</div>\n\n<div id=\"parent\">\n  <div id=\"narrow\">\n      <dx-accordion\n        [dataSource]=\"categories\"\n        [collapsible]=\"true\"\n        [multiple]=\"false\"\n        width=\"250\"\n        [selectedIndex]=\"-1\"\n      >\n        <div *dxTemplate=\"let item = data; of: 'RADIOLOGJI'\">\n          <dx-list\n            (onItemClick)=\"onItemClick($event, 'RADIOLOGJI')\"\n            [dataSource]=\"operations0\"\n            [showSelectionControls]=\"true\"\n          ></dx-list>\n        </div>\n\n        <div *dxTemplate=\"let item = data; of: 'KONZERVATIVE'\">\n          <dx-list\n            (onItemClick)=\"onItemClick($event, 'KONZERVATIVE')\"\n            [dataSource]=\"operations1\"\n            [showSelectionControls]=\"true\"\n          ></dx-list>\n        </div>\n\n        <div *dxTemplate=\"let item = data; of: 'ZBARDHIM'\">\n          <dx-list\n            (onItemClick)=\"onItemClick($event, 'ZBARDHIM')\"\n            [dataSource]=\"operations2\"\n            [showSelectionControls]=\"true\"\n          ></dx-list>\n        </div>\n\n        <div *dxTemplate=\"let item = data; of: 'ENDODONTI'\">\n          <dx-list\n            (onItemClick)=\"onItemClick($event, 'ENDODONTI')\"\n            [dataSource]=\"operations3\"\n            [showSelectionControls]=\"true\"\n          ></dx-list>\n        </div>\n\n        <div *dxTemplate=\"let item = data; of: 'PERIODONTOLOGJI'\">\n          <dx-list\n            (onItemClick)=\"onItemClick($event, 'PERIODONTOLOGJI')\"\n            [dataSource]=\"operations4\"\n            [showSelectionControls]=\"true\"\n          ></dx-list>\n        </div>\n\n        <div *dxTemplate=\"let item = data; of: 'KIRURGJI'\">\n          <dx-list\n            (onItemClick)=\"onItemClick($event, 'KIRURGJI')\"\n            [dataSource]=\"operations5\"\n            [showSelectionControls]=\"true\"\n          ></dx-list>\n        </div>\n\n        <div *dxTemplate=\"let item = data; of: 'PROTETIKË'\">\n          <dx-list\n            (onItemClick)=\"onItemClick($event, 'PROTETIKË')\"\n            [dataSource]=\"operations6\"\n            [showSelectionControls]=\"true\"\n          ></dx-list>\n        </div>\n\n          <div *dxTemplate=\"let item = data; of: 'ORTODONTI'\">\n            <dx-list\n              (onItemClick)=\"onItemClick($event, 'ORTODONTI')\"\n              [dataSource]=\"operations7\"\n              [showSelectionControls]=\"true\"\n            ></dx-list>\n          </div>\n  \n          <div *dxTemplate=\"let item = data; of: 'IMPLANT'\">\n            <dx-list\n              (onItemClick)=\"onItemClick($event, 'IMPLANT')\"\n              [dataSource]=\"operations8\"\n              [showSelectionControls]=\"true\"\n            ></dx-list>\n          </div>\n\n          <div *dxTemplate=\"let item = data; of: 'DERMAL DOLGULAR'\">\n            <dx-list\n              (onItemClick)=\"onItemClick($event, 'DERMAL DOLGULAR')\"\n              [dataSource]=\"operations9\"\n              [showSelectionControls]=\"true\"\n            ></dx-list>\n          </div>\n\n      </dx-accordion>\n  </div>\n\n  <div id=\"wide\">\n    <dx-data-grid\n      id=\"gridContainer\"\n      [dataSource]=\"appliedOperations\"\n      [columns]=\"['Operation', 'Teeth', 'Price']\"\n      (onRowRemoving)=\"onTreatmentDetailDeleting($event)\"\n    >\n      <dxi-column dataField=\"Operation\"></dxi-column>\n      <dxi-column dataField=\"Teeth\"></dxi-column>\n      <dxi-column dataField=\"Quantity\"></dxi-column>\n      <dxi-column dataField=\"Price\">\n        <dxo-format type=\"fixedPoint\" [precision]=\"2\"></dxo-format>\n      </dxi-column>\n      <dxi-column dataField=\"TotalPrice\">\n        <dxo-format type=\"fixedPoint\" [precision]=\"2\"></dxo-format>\n      </dxi-column>\n\n      <dxo-editing mode=\"row\" [allowDeleting]=\"true\"> </dxo-editing>\n    </dx-data-grid>\n  </div>\n</div>\n\n<div class=\"comment\">\n  <dx-text-area\n    [height]=\"120\"\n    [width]=\"1000\"\n    [maxLength]=\"200\"\n    [(value)]=\"comment\"\n    placeholder=\"Comment...\"\n  >\n  </dx-text-area>\n</div>\n\n<!-- Teeth Number and Quantity Popup -->\n<dx-popup\n  class=\"popup\"\n  [width]=\"300\"\n  [height]=\"300\"\n  [showTitle]=\"true\"\n  title=\"Select Teeth\"\n  [dragEnabled]=\"true\"\n  [closeOnOutsideClick]=\"true\"\n  [(visible)]=\"popupVisible\"\n  (onHiding)=\"onPopupHiding($event)\"\n  contentTemplate=\"popupContent\"\n>\n  <div *dxTemplate=\"let data of 'popupContent'\">\n    <p>Type Teeth number followed by ( , )</p>\n    <input type=\"text\" (keyup)=\"onTeethNumberType($event)\" #teethNr />\n    <p>Quantity</p>\n    <dx-number-box [showSpinButtons]=\"true\" [value]=\"quantity\"></dx-number-box>\n    <br />\n    <dx-button text=\"OK\" type=\"default\" (onClick)=\"selectTeeth($event)\">\n    </dx-button>\n  </div>\n</dx-popup>\n"

/***/ }),

/***/ "./src/app/treatments-offers/treatments-offers.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TreatmentsOffersComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__treatments_treatments_service__ = __webpack_require__("./src/app/treatments/treatments.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_devextreme_ui_notify__ = __webpack_require__("./node_modules/devextreme/ui/notify.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_devextreme_ui_notify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_devextreme_ui_notify__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__appointment_scheduler_appointment_scheduler_service__ = __webpack_require__("./src/app/appointment-scheduler/appointment-scheduler.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var Categories = (function () {
    function Categories() {
    }
    return Categories;
}());
var Operations = (function () {
    function Operations() {
    }
    return Operations;
}());
var AppliedOperations = (function () {
    function AppliedOperations() {
    }
    return AppliedOperations;
}());
var DoctorListData = (function () {
    function DoctorListData() {
    }
    return DoctorListData;
}());
var CustomerView = (function () {
    function CustomerView() {
    }
    return CustomerView;
}());
var TreatmentsOffersComponent = (function () {
    function TreatmentsOffersComponent(_treatmentsService, _appointmentService, route, router) {
        this._treatmentsService = _treatmentsService;
        this._appointmentService = _appointmentService;
        this.route = route;
        this.router = router;
        this.popupVisible = false;
        this.teethNumbers = "";
        this.quantity = 1;
        this.singleTime = true;
        this.totalOperationsPrice = 0;
        this.sale = 0.0;
        this.value = "";
        this.treatmentID = 0;
        this.comment = "";
        this.isPending = true;
        this.collected = 0.0;
        this.isLoading = false;
        this.addedDate = new Date();
        this.isUpdate = false;
        this.appointmentID = null;
        this.treatmentOffersId = null;
        this.offerText = "";
        this.patientName = "";
        this.doctorName = "";
        this.categories = new Array();
        this.selectedOperation = new Operations();
        this.selectedDoctor = new DoctorListData();
        this.appliedOperations = new Array();
    }
    TreatmentsOffersComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.sub = this.route.queryParams.subscribe(function (params) {
            debugger;
            _this.appointmentID = +params.AppointmentID || null;
            _this.treatmentOffersId = +params.TreatmentOffersId || null;
            if (params &&
                Object.keys(params).length &&
                params.hasOwnProperty("AppointmentID") &&
                params.hasOwnProperty("HasOffer") &&
                params.HasOffer === "true") {
                _this.offerText = params.Text;
                _this.getOffers(true, +params.AppointmentID);
            }
            else if (params &&
                Object.keys(params).length &&
                params.hasOwnProperty("TreatmentOffersId")) {
                _this.offerText = params.Text;
                _this.getOffers(false, +params.TreatmentOffersId);
            }
            else {
                _this.getCustomerAndDoctorName(+params.DoctorId, +params.CustomerId);
            }
        });
        this._treatmentsService.getOperations().subscribe(function (data) {
            _this.categories = data["categoryList"];
            _this.categories.forEach(function (category) { return (category.title = category.description); });
            _this.operations = data["operationsList"];
            _this.categories.forEach(function (item, index) {
                item["template"] = item.description;
                _this["operations" + index] = _this.operations
                    .filter(function (x) { return x.categoryID === item.id; })
                    .map(function (y) { return y.operationName; });
            });
        }, function (error) { return _this.toasterMessage("Error Occured!", "error"); });
    };
    TreatmentsOffersComponent.prototype.getCustomerAndDoctorName = function (drId, cId) {
        var _this = this;
        var param = {
            Action: "GETDOCTORLIST"
        };
        this._appointmentService.getDoctors(param).subscribe(function (data) {
            _this.doctorList = data["doctorListData"];
            _this.selectedDoctor = _this.doctorList.filter(function (dr) { return dr.id === +drId; })[0];
            _this.doctorName = _this.selectedDoctor.name;
            _this.getCustomerByID(cId).subscribe(function (data) {
                _this.patientName = data[0]["firstname"] + " " + data[0]["lastname"];
            });
        }, function (error) { return _this.toasterMessage("Error Getting Doctors!", "error"); });
    };
    TreatmentsOffersComponent.prototype.selectCustomer = function (customer) {
        // TODO add after customerselect getTreatments()
        this.selectedCustomerID = customer.id || 0;
    };
    TreatmentsOffersComponent.prototype.getOffers = function (isFromAppointment, id) {
        var _this = this;
        this.isUpdate = true;
        var params = {
            AppointmentId: isFromAppointment ? id : null,
            TreatmentOffersId: !isFromAppointment ? id : null
        };
        this._treatmentsService.getTreatmentOffers(params).subscribe(function (data) {
            var treatmentDetailsList = data["treatmentDetailsList"];
            _this.appliedOperations = treatmentDetailsList.map(function (item) {
                var obj = {
                    Doctor: "",
                    OperationID: item["operationId"],
                    Operation: item["operationName"],
                    Price: item["price"],
                    Teeth: item["teethNo"],
                    Quantity: item["quantity"],
                    TotalPrice: item["quantity"] * item["price"]
                };
                return obj;
            });
            var info = data["treatmentList"][0];
            _this.doctorName = info["doctor"];
            _this.patientName = info["firstname"] + " " + info["lastname"];
            _this.comment = info["note"];
            _this.sale = info["saleAmount"];
            _this.totalOperationsPrice = info["finalPrice"];
            _this.treatmentOffersId = info["id"];
        });
    };
    TreatmentsOffersComponent.prototype.getCustomers = function (isFrom, customerId, appointmentOrTreatmentId) {
        var _this = this;
        this.isLoading = true;
        this.getCustomerByID(customerId).subscribe(function (response) {
            _this.isLoading = false;
            _this.customerList = response;
            _this.customerList.forEach(function (x) {
                x.firstLastName = x.firstname + " " + x.lastname + " | " + x.tel;
            });
            if (["Appointment", "Treatment"].includes(isFrom)) {
                var customer = _this.customerList.filter(function (x) { return x.id === customerId; })[0];
                _this.selectedCustomerID = customer["id"];
                _this.value = customer["firstLastName"];
                if (isFrom === "Appointment") {
                    _this.appointmentID = appointmentOrTreatmentId;
                    _this.getTreatmants(null, appointmentOrTreatmentId);
                }
                else {
                    _this.treatmentID = appointmentOrTreatmentId;
                    _this.getTreatmants(appointmentOrTreatmentId, null);
                }
            }
        });
    };
    TreatmentsOffersComponent.prototype.getTreatmants = function (TreatmentID, AppointmentID) {
        var _this = this;
        var params = {
            TreatmentID: this.treatmentID,
            AppointmentID: AppointmentID
        };
        this.isLoading = true;
        this._treatmentsService.getTreatmants(params).subscribe(function (data) {
            _this.isLoading = false;
            if (data["treatmentList"] && data["treatmentList"].length) {
                _this.treatmentID = data["treatmentList"][0]["id"];
                _this.selectedCustomerID = data["treatmentList"][0]["customerId"];
                var drName = data["treatmentList"][0]["doctor"];
                _this.sale = data["treatmentList"][0]["saleAmount"];
                _this.comment = data["treatmentList"][0]["note"];
                _this.isPending = data["treatmentList"][0]["isPending"];
                _this.collected = data["treatmentList"][0]["collectedPrice"] || 0;
            }
            var treatmentDetailsList = data["treatmentDetailsList"];
            _this.appliedOperations = treatmentDetailsList.map(function (item) {
                var obj = {
                    Doctor: drName,
                    OperationID: item["operationId"],
                    Operation: item["operationName"],
                    Price: item["price"],
                    Teeth: item["teethNo"],
                    Quantity: item["quantity"],
                    TotalPrice: item["quantity"] * item["price"]
                };
                return obj;
            });
            treatmentDetailsList.forEach(function (appliedOperation) {
                return (_this.totalOperationsPrice +=
                    appliedOperation["quantity"] * appliedOperation["price"]);
            });
            _this.totalOperationsPrice = _this.totalOperationsPrice - _this.sale;
        }, function (error) { return _this.toasterMessage("Error Getting Treatments!", "error"); });
    };
    TreatmentsOffersComponent.prototype.getCustomerByID = function (CustomerID) {
        var param = { CustomerID: CustomerID };
        return this._appointmentService.getCustomerByID(param);
    };
    TreatmentsOffersComponent.prototype.getDoctors = function (drId) { };
    TreatmentsOffersComponent.prototype.onItemClick = function (e, categoryDescription) {
        var component = e.component, prevClickTime = component.lastClickTime;
        component.lastClickTime = new Date();
        if (prevClickTime && component.lastClickTime - prevClickTime < 300) {
            //Double click code
            var categoryID_1 = this.categories.filter(function (item) { return item.description.trim() === categoryDescription.trim(); })[0].id;
            this.selectedOperation = this.operations.filter(function (operation) {
                return operation.categoryID === categoryID_1 &&
                    operation.operationName === e.itemData;
            })[0];
            this.singleTime = true;
            if (!this.selectedOperation.isTeethBased) {
                this.popupVisible = false;
                this.addToAppliedOperationsArray(false);
            }
            else {
                this.popupVisible = true;
            }
        }
    };
    TreatmentsOffersComponent.prototype.addToAppliedOperationsArray = function (isTeethBased) {
        var _this = this;
        var obj = new AppliedOperations();
        obj.Doctor = this.doctorName;
        obj.Operation = this.selectedOperation.operationName;
        obj.OperationID = this.selectedOperation.operationID;
        obj.Price = this.selectedOperation.price;
        obj.Teeth = isTeethBased ? this.teethNumbers : "";
        obj.Quantity = isTeethBased ? this.quantity : 1;
        obj.TotalPrice = this.selectedOperation.price * this.quantity;
        this.appliedOperations.push(obj);
        this.totalOperationsPrice = 0;
        this.appliedOperations.forEach(function (appliedOperation) {
            return (_this.totalOperationsPrice += appliedOperation.TotalPrice);
        });
        this.totalOperationsPrice = this.totalOperationsPrice - this.sale;
        this.popupVisible = false;
        this.quantity = 1;
    };
    TreatmentsOffersComponent.prototype.selectTeeth = function (e) {
        if (this.singleTime) {
            this.teethNumbers = this.teethNumberElem.nativeElement.value;
            var isValid = /^[0-9,]*$/.test(this.teethNumbers);
            if (isValid) {
                var isNotInRange = this.teethNumbers
                    .split(",")
                    .some(function (teethNr) { return +teethNr > 99 || +teethNr < 1; });
                if (isNotInRange) {
                    this.toasterMessage("Please Type Valid Teeth Numbers!", "info");
                    return;
                }
            }
            if (!isValid || !this.teethNumbers || !this.teethNumbers.trim()) {
                this.toasterMessage("Please Type Valid Teeth Numbers!", "info");
                return;
            }
            this.addToAppliedOperationsArray(true);
        }
        this.singleTime = false;
    };
    TreatmentsOffersComponent.prototype.onTeethNumberType = function (event) {
        var targetValue = event.target.value;
        var isValid = /^[0-9,]*$/.test(targetValue);
        if (isValid) {
            this.quantity = targetValue.split(",").filter(function (x) { return x; }).length;
            if (this.quantity === 0) {
                this.quantity = 1;
            }
        }
    };
    TreatmentsOffersComponent.prototype.onPopupHiding = function (e) {
        this.teethNumberElem.nativeElement.value = "";
    };
    TreatmentsOffersComponent.prototype.onTreatmentDetailDeleting = function (event) {
        var selectedTreatmentDetailTotalPrice = event.data.Price * event.data.Quantity;
        this.totalOperationsPrice =
            this.totalOperationsPrice - selectedTreatmentDetailTotalPrice;
    };
    TreatmentsOffersComponent.prototype.calcSale = function (e) {
        this.sale = +e;
        this.totalOperationsPrice = this.getTotalPriceOfAppliedTreatments() - +e;
    };
    TreatmentsOffersComponent.prototype.getTotalPriceOfAppliedTreatments = function () {
        var totalPrice = 0;
        this.appliedOperations.forEach(function (appliedOperation) { return (totalPrice += appliedOperation.TotalPrice); });
        return totalPrice || 0;
    };
    TreatmentsOffersComponent.prototype.saveTreatmentOffer = function () {
        var _this = this;
        var TreatmentDetailsList = this.appliedOperations.map(function (item) {
            var obj = {
                OperationId: item.OperationID,
                TeethNo: item.Teeth,
                Quantity: item.Quantity
            };
            return obj;
        });
        var params = {
            TreatmentOffersID: this.treatmentOffersId || 0,
            AppointmentId: this.appointmentID,
            CustomerId: this.selectedCustomerID,
            DoctorInChair: this.selectedDoctor.id,
            TotalPrice: this.getTotalPriceOfAppliedTreatments(),
            SaleAmount: this.sale,
            FinalPrice: this.totalOperationsPrice,
            Note: this.comment,
            Date: this.addedDate,
            CollectedPrice: 0,
            TreatmentDetailsList: TreatmentDetailsList
        };
        this._treatmentsService
            .treatmentOffersInsertUpdate(params)
            .subscribe(function (data) {
            _this.router.navigate(["/appointment"]);
        });
    };
    TreatmentsOffersComponent.prototype.toasterMessage = function (message, type) {
        // The message's type: "info", "warning", "error" or "success"
        __WEBPACK_IMPORTED_MODULE_2_devextreme_ui_notify___default()({
            message: message,
            position: {
                my: "center top",
                at: "center top"
            }
        }, type, 3000);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("teethNr"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], TreatmentsOffersComponent.prototype, "teethNumberElem", void 0);
    TreatmentsOffersComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: "app-treatments-offers",
            template: __webpack_require__("./src/app/treatments-offers/treatments-offers.component.html"),
            styles: [__webpack_require__("./src/app/treatments-offers/treatments-offers.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__treatments_treatments_service__["a" /* TreatmentsService */],
            __WEBPACK_IMPORTED_MODULE_3__appointment_scheduler_appointment_scheduler_service__["a" /* AppointmentSchedulerService */],
            __WEBPACK_IMPORTED_MODULE_4__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_4__angular_router__["b" /* Router */]])
    ], TreatmentsOffersComponent);
    return TreatmentsOffersComponent;
}());



/***/ }),

/***/ "./src/app/treatments/treatments.component.css":
/***/ (function(module, exports) {

module.exports = ".gridContainer { padding: 20px; }\n\n.customerSelectBox { padding-top: 20px; padding-left: 10px; }\n\n.display-inline { display:inline-block; }\n\n.display-inline-flex { \n  display:-webkit-inline-box; \n  display:-ms-inline-flexbox; \n  display:inline-flex;\n  margin: 10px;\n}\n\n.flex-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n\n.flex-box-1{\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1\n}\n\n.flex-box-2{\n  -webkit-box-flex: 2;\n      -ms-flex: 2;\n          flex: 2\n}\n\n.flex-box-3{\n  -webkit-box-flex: 3;\n      -ms-flex: 3;\n          flex: 3\n}\n\n.debt-advance-labels {\n  width: 120px;\n  margin: 5px;\n  color: #848484;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  text-align: center;\n}\n\n.treatment-hr {\n  border: 2px solid #848484;\n  border-radius: 5px;\n}\n\n.collector-label {\n  margin-right: 5px;\n}\n\n#edit-advance-debt-btn {\n  background: #b4b4b4;\n  border: 1px solid #c8c8c8;\n}\n\n.accordion {\n    margin-top: 20px\n}\n\n#save-btn {\n   margin-bottom: 25px;\n   margin-left: 20px\n}\n\n#sale {\n    color: #333;\n    padding-left: 40px;\n}\n\n#parent {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding-top: 30px\n}\n\n#narrow {\n  float: left;\n  width: 250px;\n}\n\n#wide {\n  padding-left: 30px;\n  float: right;\n  width: calc(100% - 250px);\n}\n\n#print-button {\n  float: right;\n  margin-top: 10px;\n}\n\n#make-a-copy-checkbox {\n  float: right;\n  margin-right: 10px;\n  margin-top: 15px;\n}\n\n#bottom-wrapper {\n  margin: 10px;\n}\n\n#sum {\n  float: left;\n}\n\n#sale {\n  float: left;\n  color: brown;\n}\n\n::ng-deep .nineteenthcentury {\n    background: red\n}"

/***/ }),

/***/ "./src/app/treatments/treatments.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"customerSelectBox\">\n  <div class=\"display-inline\">\n    <customer-search\n      (onCustomerSelect)=\"selectCustomer($event)\"\n      [display]=\"value\"\n    ></customer-search>\n  </div>\n\n  <div\n    class=\"display-inline\"\n    style=\"vertical-align: middle; margin-left: 20px;\"\n  >\n    <h4 style=\"margin-top: 0px; color: #848484\">Sale:</h4>\n  </div>\n\n  <div class=\"display-inline\">\n    <dx-number-box\n      [min]=\"0\"\n      [value]=\"sale\"\n      [showSpinButtons]=\"false\"\n      placeholder=\"0.00\"\n      format=\"###0.00\"\n      (keyup)=\"calcSale($event.target.value)\"\n      width=\"90\"\n      [disabled]=\"\n        (isDoctor && !allowDrToMakePayment) || (!isDoctor && !isPending)\n      \"\n    ></dx-number-box>\n  </div>\n\n  <div class=\"display-inline\">\n    <dx-text-box\n      [value]=\"totalOperationsPriceLabel\"\n      [disabled]=\"true\"\n      width=\"110\"\n    ></dx-text-box>\n  </div>\n\n  <div\n    class=\"display-inline\"\n    style=\"vertical-align: middle; margin-left: 20px;\"\n  >\n    <h4 style=\"margin-top: 0px; color: #848484\">Collected:</h4>\n  </div>\n  <div class=\"display-inline\">\n    <dx-number-box\n      [min]=\"0\"\n      [(value)]=\"collected\"\n      [showSpinButtons]=\"false\"\n      placeholder=\"0.00\"\n      width=\"90\"\n      format=\"#,##0.00\"\n      [disabled]=\"\n        (isDoctor && !allowDrToMakePayment) || (!isDoctor && !isPending)\n      \"\n    >\n    </dx-number-box>\n  </div>\n  <div class=\"display-inline\">\n    <dx-text-box [value]=\"collector\" [disabled]=\"true\"></dx-text-box>\n  </div>\n\n  <div\n    class=\"display-inline\"\n    style=\"vertical-align: middle; margin-left: 20px;\"\n  >\n    <h4 style=\"margin-top: 0px; color:#848484\">Date:</h4>\n  </div>\n\n  <div class=\"display-inline\">\n    <dx-date-box [(value)]=\"paymentDate\" type=\"date\" displayFormat=\"dd/MM/yyyy\">\n    </dx-date-box>\n  </div>\n\n  <div class=\"display-inline\">\n    <dx-button\n      id=\"save-btn\"\n      width=\"150\"\n      text=\"Save\"\n      [type]=\"totalPaymentsResult < 0 ? 'danger' : 'default'\"\n      (onClick)=\"saveTreatments()\"\n      [disabled]=\"!selectedCustomerID || !isPending\"\n    ></dx-button>\n\n    <dx-button\n      id=\"save-btn\"\n      width=\"150\"\n      text=\"PRINT\"\n      [type]=\"'normal'\"\n      (onClick)=\"onInvoiceprintPopupShow()\"\n    ></dx-button>\n  </div>\n\n  <div class=\"display-inline\">\n    <dx-text-area\n      [height]=\"60\"\n      [width]=\"250\"\n      [maxLength]=\"200\"\n      [(value)]=\"comment\"\n      placeholder=\"Comment...\"\n    >\n    </dx-text-area>\n  </div>\n</div>\n\n<div id=\"parent\">\n  <div id=\"narrow\">\n    <div>\n      <dx-accordion\n        [dataSource]=\"categories\"\n        [collapsible]=\"true\"\n        [multiple]=\"false\"\n        width=\"250\"\n        [selectedIndex]=\"-1\"\n      >\n        <div *dxTemplate=\"let item = data; of: 'RADIOLOGJI'\">\n          <dx-list\n            (onItemClick)=\"onItemClick($event, 'RADIOLOGJI')\"\n            [dataSource]=\"operations0\"\n            [showSelectionControls]=\"true\"\n          ></dx-list>\n        </div>\n        <div *dxTemplate=\"let item = data; of: 'KONZERVATIVE'\">\n          <dx-list\n            (onItemClick)=\"onItemClick($event, 'KONZERVATIVE')\"\n            [dataSource]=\"operations1\"\n            [showSelectionControls]=\"true\"\n          ></dx-list>\n        </div>\n        <div *dxTemplate=\"let item = data; of: 'ZBARDHIM'\">\n          <dx-list\n            (onItemClick)=\"onItemClick($event, 'ZBARDHIM')\"\n            [dataSource]=\"operations2\"\n            [showSelectionControls]=\"true\"\n          ></dx-list>\n        </div>\n        <div *dxTemplate=\"let item = data; of: 'ENDODONTI'\">\n          <dx-list\n            (onItemClick)=\"onItemClick($event, 'ENDODONTI')\"\n            [dataSource]=\"operations3\"\n            [showSelectionControls]=\"true\"\n          ></dx-list>\n        </div>\n        <div *dxTemplate=\"let item = data; of: 'PERIODONTOLOGJI'\">\n          <dx-list\n            (onItemClick)=\"onItemClick($event, 'PERIODONTOLOGJI')\"\n            [dataSource]=\"operations4\"\n            [showSelectionControls]=\"true\"\n          ></dx-list>\n        </div>\n        <div *dxTemplate=\"let item = data; of: 'KIRURGJI'\">\n          <dx-list\n            (onItemClick)=\"onItemClick($event, 'KIRURGJI')\"\n            [dataSource]=\"operations5\"\n            [showSelectionControls]=\"true\"\n          ></dx-list>\n        </div>\n        <div *dxTemplate=\"let item = data; of: 'PROTETIKË'\">\n          <dx-list\n            (onItemClick)=\"onItemClick($event, 'PROTETIKË')\"\n            [dataSource]=\"operations6\"\n            [showSelectionControls]=\"true\"\n          ></dx-list>\n        </div>\n\n        <div *dxTemplate=\"let item = data; of: 'ORTODONTI'\">\n          <dx-list\n            (onItemClick)=\"onItemClick($event, 'ORTODONTI')\"\n            [dataSource]=\"operations7\"\n            [showSelectionControls]=\"true\"\n          ></dx-list>\n        </div>\n\n        <div *dxTemplate=\"let item = data; of: 'IMPLANT'\">\n          <dx-list\n            (onItemClick)=\"onItemClick($event, 'IMPLANT')\"\n            [dataSource]=\"operations8\"\n            [showSelectionControls]=\"true\"\n          ></dx-list>\n        </div>\n\n        <div *dxTemplate=\"let item = data; of: 'DERMAL DOLGULAR'\">\n          <dx-list\n            (onItemClick)=\"onItemClick($event, 'DERMAL DOLGULAR')\"\n            [dataSource]=\"operations9\"\n            [showSelectionControls]=\"true\"\n          ></dx-list>\n        </div>\n      </dx-accordion>\n    </div>\n  </div>\n\n  <div id=\"wide\">\n    <dx-data-grid\n      id=\"gridContainer\"\n      [dataSource]=\"appliedOperations\"\n      [columns]=\"['Operation', 'Teeth', 'Doctor', 'Price', 'ColorScale', 'Technician']\"\n      (onRowRemoving)=\"onTreatmentDetailDeleting($event)\"\n      [allowColumnResizing]=\"true\"\n      columnResizingMode=\"nextColumn\"\n      [columnAutoWidth]=\"true\"\n    >\n      <dxi-column dataField=\"Operation\"></dxi-column>\n      <dxi-column dataField=\"Teeth\"></dxi-column>\n      <dxi-column dataField=\"Doctor\"></dxi-column>\n      <dxi-column dataField=\"ColorScale\"></dxi-column>\n      <dxi-column dataField=\"Technician\"></dxi-column>\n      <dxi-column dataField=\"Quantity\"></dxi-column>\n      <dxi-column dataField=\"Price\">\n        <dxo-format type=\"fixedPoint\" [precision]=\"2\"></dxo-format>\n      </dxi-column>\n      <dxi-column dataField=\"TotalPrice\">\n        <dxo-format type=\"fixedPoint\" [precision]=\"2\"></dxo-format>\n      </dxi-column>\n\n      <dxo-editing mode=\"row\" [allowDeleting]=\"true\"> </dxo-editing>\n    </dx-data-grid>\n  </div>\n</div>\n\n<br />\n<hr class=\"treatment-hr\" />\n\n<div id=\"parent\">\n  <div id=\"narrow\">\n    <!-- Debt/Advance Input Section -->\n    <div class=\"display-inline-flex\">\n      <h4 class=\"debt-advance-labels\">Collected</h4>\n      <dx-number-box\n        [min]=\"0\"\n        [(value)]=\"collected2\"\n        [showSpinButtons]=\"false\"\n        placeholder=\"0.00\"\n        width=\"90\"\n        (valueChangeEvent)=\"disableSaveBtn()\"\n        [disabled]=\"selectedCreditDebitID === -1\"\n      ></dx-number-box>\n    </div>\n\n    <div class=\"display-inline-flex\">\n      <h4 class=\"debt-advance-labels\">\n        {{\n          totalPaymentsResult && totalPaymentsResult > 0\n            ? \"Total Advance\"\n            : \"Total Debt\"\n        }}\n      </h4>\n      <dx-number-box\n        [(value)]=\"totalPaymentsResult\"\n        valueChangeEvent=\"keyup\"\n        format=\"#,##0.00\"\n        [showSpinButtons]=\"false\"\n        placeholder=\"0.00\"\n        width=\"90\"\n        [disabled]=\"!enableEditTotalDebAdvance\"\n      >\n      </dx-number-box>\n    </div>\n\n    <div *ngIf=\"totalPaymentsResult < 0\" class=\"display-inline-flex\">\n      <h4 class=\"debt-advance-labels\">Ignore Debt</h4>\n      <dx-check-box [(value)]=\"ignoreDebt\"></dx-check-box>\n    </div>\n\n    <div *ngIf=\"totalPaymentsResult < 0\" class=\"display-inline-flex\">\n      <dx-text-area\n        [height]=\"60\"\n        [width]=\"250\"\n        [maxLength]=\"200\"\n        [(value)]=\"debtIgnoreNote\"\n        placeholder=\"Note for Debt Ignore...\"\n      >\n      </dx-text-area>\n    </div>\n\n    <div class=\"display-inline-flex\">\n      <div class=\"collector-label\">\n        <dx-text-box [value]=\"collector\" [disabled]=\"true\"></dx-text-box>\n      </div>\n\n      <dx-button\n        id=\"edit-advance-debt-btn\"\n        [text]=\"getEditDebtAdvanceBtnText()\"\n        type=\"default\"\n        (onClick)=\"editDebtAdvance()\"\n      >\n      </dx-button>\n    </div>\n    <div class=\"display-inline-flex\">\n      <dx-button\n        id=\"save-btn\"\n        width=\"150\"\n        text=\"OK\"\n        [type]=\"totalPaymentsResult < 0 ? 'danger' : 'default'\"\n        (onClick)=\"insertCreditDebit()\"\n        [disabled]=\"disableSaveBtn()\"\n      ></dx-button>\n    </div>\n    <!-- Debt/Advance Input Section END -->\n  </div>\n\n  <div id=\"wide\">\n    <!-- Debt/Advance Table Section -->\n    <dx-accordion\n      [dataSource]=\"accordionData\"\n      [collapsible]=\"true\"\n      [selectedIndex]=\"-1\"\n      itemTemplate=\"item\"\n    >\n      <div *dxTemplate=\"let itemData of 'item'\">\n        <dx-data-grid\n          id=\"gridContainer\"\n          [dataSource]=\"customerDebitDataList\"\n          [masterDetail]=\"{ enabled: true, template: 'detail' }\"\n          keyExpr=\"id\"\n          [columns]=\"[\n            'Date',\n            'DebtAmount',\n            'Collector',\n            'PatientName',\n            'Telephone',\n            'Fulfilled'\n          ]\"\n          (onRowRemoving)=\"onDebitDetailDeleting($event)\"\n          (onRowClick)=\"onDebitDetailSelect($event)\"\n          (onRowPrepared)=\"onRowPrepared($event)\"\n        >\n          <dxo-selection mode=\"single\"></dxo-selection>\n          <dxi-column dataField=\"Date\"></dxi-column>\n          <dxi-column dataField=\"Amount\">\n            <dxo-format type=\"fixedPoint\" [precision]=\"2\"></dxo-format>\n          </dxi-column>\n          \n          <!--<dxi-column dataField=\"Advance\">\n            <dxo-format type=\"fixedPoint\" [precision]=\"2\"></dxo-format>\n          </dxi-column>-->\n          <dxi-column dataField=\"Collector\"></dxi-column>\n          <dxi-column dataField=\"Doctor\"></dxi-column>\n          <dxi-column dataType=\"boolean\" caption=\"Fulfilled\" [calculateCellValue]=\"isFulFilledvalue\"></dxi-column>\n          <dxo-editing mode=\"row\" [allowDeleting]=\"true\"> </dxo-editing>\n\n          <div *dxTemplate=\"let debitDetail of 'detail'\">\n            <dx-data-grid\n              [dataSource]=\"debitDetail.data.childList\"\n              [showBorders]=\"true\"\n              [columnAutoWidth]=\"true\"\n              (onRowRemoving)=\"onDebitDetailDeleting($event)\"\n            >\n              <dxo-selection mode=\"single\"></dxo-selection>\n              <dxi-column dataField=\"Date\"></dxi-column>\n              <dxi-column dataField=\"Amount\">\n                <dxo-format type=\"fixedPoint\" [precision]=\"2\"></dxo-format>\n              </dxi-column>\n              <dxi-column dataField=\"Collector\"></dxi-column>\n              <dxi-column dataField=\"Doctor\"></dxi-column>\n              <dxi-column dataField=\"IsIgnored\"></dxi-column>\n              <dxi-column dataField=\"IgnoranceNote\"></dxi-column>\n\n              <dxo-editing mode=\"row\" [allowDeleting]=\"true\"> </dxo-editing>\n            </dx-data-grid>\n          </div>\n        </dx-data-grid>\n      </div>\n    </dx-accordion>\n  </div>\n  <!-- Debt/Advance Table Section -->\n</div>\n\n<dx-load-panel [closeOnOutsideClick]=\"true\" [(visible)]=\"isLoading\">\n</dx-load-panel>\n\n<!-- Teeth Number and Quantity Popup -->\n<dx-popup\n#teethPopup\n  class=\"popup\"\n  [width]=\"400\"\n  [height]=\"550\"\n  [showTitle]=\"true\"\n  title=\"Select Teeth\"\n  [dragEnabled]=\"true\"\n  [closeOnOutsideClick]=\"true\"\n  [(visible)]=\"popupVisible\"\n  (onHiding)=\"onPopupHiding($event)\"\n  contentTemplate=\"popupContent\"\n>\n  <div *dxTemplate=\"let data of 'popupContent'\">\n\n    <div *ngIf=\"selectedOperation.isTeethBased\">\n      <p>Type Teeth number followed by ( , )</p>\n      <input type=\"text\" (keyup)=\"onTeethNumberType($event)\" #teethNr />\n      <p>Quantity</p>\n      <dx-number-box [showSpinButtons]=\"true\" [value]=\"quantity\"></dx-number-box>\n    </div>\n\n    <br />\n\n    <div *ngIf=\"selectedOperation.showColorScale\">\n\n      <p>Choose color scale group</p>\n      <dx-radio-group \n        #colorScaleRadioGroup \n        [items]=\"colorScaleGroups\" \n        [value]=\"selectedColorScaleGroup\" \n        (onValueChanged)=\"onColorScaleGroupValueChanged($event)\" \n        layout=\"horizontal\">\n      </dx-radio-group>\n      \n      <br/>\n\n      <dx-select-box\n          #colorScaleSelectBox\n          [items]=\"colorScaleFilteredList\"\n          [value]=\"selectedColorScale?.id\"\n          placeholder=\"Choose Color Scale\"\n          valueExpr=\"id\"\n          displayExpr=\"value\"\n          (onValueChanged)=\"onColorScaleSelect($event)\" \n          [showClearButton]=\"true\"\n      ></dx-select-box>\n    </div>\n\n    <div *ngIf=\"selectedOperation.showTechnicians\">\n      <p>Technicians</p>\n      <dx-select-box\n      #techniciansSelectBox\n      [items]=\"technicians\"\n      [value]=\"selectedTechnician?.id\"\n      placeholder=\"Choose Technician\"\n      valueExpr=\"id\"\n      displayExpr=\"value\"\n      [showClearButton]=\"true\"\n      (onValueChanged)=\"onTechnicianSelect($event)\" \n        ></dx-select-box>\n    </div>\n    \n    <br />  \n    <dx-button text=\"OK\" type=\"default\" (onClick)=\"selectTeeth($event)\">\n    </dx-button>\n  </div>\n</dx-popup>\n\n<dx-popup\n  class=\"popup\"\n  [width]=\"300\"\n  [height]=\"250\"\n  [dragEnabled]=\"true\"\n  [closeOnOutsideClick]=\"true\"\n  [(visible)]=\"creditDebitPopupVisible\"\n  contentTemplate=\"creditDebitPopupContent\"\n>\n  <div *dxTemplate=\"let data of 'creditDebitPopupContent'\">\n    <p>{{ advaceDebtPopupText }}</p>\n\n    <dx-button\n      text=\"Yes\"\n      type=\"default\"\n      (onClick)=\"onIncludeDebitOrAdvance(true)\"\n    >\n    </dx-button>\n\n    <dx-button\n      text=\"No\"\n      type=\"normal\"\n      (onClick)=\"onIncludeDebitOrAdvance(false)\"\n    >\n    </dx-button>\n  </div>\n</dx-popup>\n\n<!-- Edit Total Debt/Advance Popup -->\n<dx-popup\n  class=\"popup\"\n  [width]=\"300\"\n  [height]=\"250\"\n  [dragEnabled]=\"true\"\n  [closeOnOutsideClick]=\"true\"\n  [(visible)]=\"editTotalDebtAdvancePopupVisible\"\n  contentTemplate=\"creditDebitPopupContent\"\n>\n  <div *dxTemplate=\"let data of 'creditDebitPopupContent'\">\n    <p>\n      Are you sure want to change Total Debt/Advance from:\n      <strong>{{ totalPaymentsResultClone.toFixed(2) }}</strong> to\n      <strong>{{ totalPaymentsResult.toFixed(2) }}</strong>\n    </p>\n\n    <dx-button text=\"Yes\" type=\"default\" (onClick)=\"onDebtAdvanceUpdate()\">\n    </dx-button>\n\n    <dx-button text=\"No\" type=\"normal\" (onClick)=\"resetDebtAdvanceEdit()\">\n    </dx-button>\n  </div>\n</dx-popup>\n\n\n<dx-popup\n  class=\"popup\"\n  title=\"Invoice Details\"\n  [width]=\"800\"\n  [height]=\"600\"\n  [dragEnabled]=\"true\"\n  [closeOnOutsideClick]=\"true\"\n  [(visible)]=\"showInvoicePrintPopup\"\n  contentTemplate=\"invoicePopupTemplate\"\n>\n  <div *dxTemplate=\"let data of 'invoicePopupTemplate'\">\n    <dx-scroll-view width=\"100%\" height=\"100%\">\n      <div id=\"invoiceDataGrid\">\n        <dx-data-grid\n        #invoiceGrid\n        id=\"invoiceGridContainer\"\n        [dataSource]=\"invoiceData\"\n        [columns]=\"['Operation', 'Quantity', 'Price', 'TotalPrice']\"\n        [showBorders]=\"true\"\n        (onSelectionChanged)=\"onInvoiceDataPrepare($event)\"\n        >\n          <dxo-selection\n            mode=\"multiple\"\n            [allowSelectAll]=\"false\"\n          ></dxo-selection>\n        </dx-data-grid>\n      </div>\n        <div id=\"bottom-wrapper\">\n          <div id=\"sum\">\n            <p><strong>Sum: </strong>{{invoiceData.sum}}</p>\n          </div>\n          <div *ngIf=\"sale > 0\" id=\"sale\">\n            <p><strong>Sale: </strong>{{sale}}</p>\n          </div>\n          <div id=\"print-button\">\n            <dx-button text=\"Print\" (onClick)=\"onInvoicePrint($event)\" ></dx-button>\n          </div>\n          <div id=\"make-a-copy-checkbox\">\n            <span>Make a copy of invoice!</span>\n            <dx-check-box [(value)]=\"makeCopyOfInvoice\"></dx-check-box>\n          </div>\n        </div>\n    </dx-scroll-view>\n    \n  </div>\n\n</dx-popup>\n\n\n"

/***/ }),

/***/ "./src/app/treatments/treatments.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TreatmentsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__appointment_scheduler_appointment_scheduler_service__ = __webpack_require__("./src/app/appointment-scheduler/appointment-scheduler.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__treatments_service__ = __webpack_require__("./src/app/treatments/treatments.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_devextreme_ui_notify__ = __webpack_require__("./node_modules/devextreme/ui/notify.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_devextreme_ui_notify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_devextreme_ui_notify__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_devextreme_angular__ = __webpack_require__("./node_modules/devextreme-angular/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_devextreme_angular___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_devextreme_angular__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__utils_invoice_generator__ = __webpack_require__("./src/app/utils/invoice-generator.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var CustomerView = (function () {
    function CustomerView() {
    }
    return CustomerView;
}());
var TreatmentTypes = (function () {
    function TreatmentTypes() {
    }
    return TreatmentTypes;
}());
var Categories = (function () {
    function Categories() {
    }
    return Categories;
}());
var Operations = (function () {
    function Operations() {
    }
    return Operations;
}());
var AppliedOperations = (function () {
    function AppliedOperations() {
    }
    return AppliedOperations;
}());
var DoctorListData = (function () {
    function DoctorListData() {
    }
    return DoctorListData;
}());
var ColorScale = (function () {
    function ColorScale() {
    }
    return ColorScale;
}());
var Technician = (function () {
    function Technician() {
    }
    return Technician;
}());
var TreatmentsComponent = (function () {
    function TreatmentsComponent(_appointmentService, _treatmentsService, route, router, http) {
        this._appointmentService = _appointmentService;
        this._treatmentsService = _treatmentsService;
        this.route = route;
        this.router = router;
        this.http = http;
        // sub: Subject;
        this.accordionData = [
            {
                title: "Advance / Debt Data"
            }
        ];
        this.editTotalDebtAdvancePopupVisible = false;
        this.sale = 0.0;
        this.comment = "";
        this.paymentDate = new Date();
        this.treatmentID = 0;
        this.quantity = 1;
        this.collected = 0.0;
        this.collected2 = 0.0;
        this.collector = "";
        this.isPending = true;
        this.colorScaleGroups = ["3D", "CLASSIC"];
        this.selectedColorScaleGroup = null;
        this.showInvoicePrintPopup = false;
        this.makeCopyOfInvoice = false;
        this.teethNumbers = "";
        this.enableEditTotalDebAdvance = false;
        this.editDebtAdvanceClicked = false;
        this.value = "";
        this.isLoading = false;
        this.customerDebitDataList = [];
        this.singleTime = true;
        this.totalOperationsPrice = 0;
        this.totalOperationsPriceFinal = 0;
        this.totalOperationsPriceLabel = "Total: " + this.totalOperationsPriceFinal.toFixed(2);
        this.preventSecond = true;
        this.allowDrToMakePayment = JSON.parse(localStorage["preferences"])["AllowDoctorToMakePayment"];
        this.isDoctor = JSON.parse(localStorage["loggedInDoctor"])["title"] === "DR.";
        this.useAdvanceFromAccount = false;
        this.extractAmountFromAdvance = 0;
        this.totalPaymentsResult = 0;
        this.totalPaymentsResultClone = 0;
        this.selectedCreditDebitID = -1;
        this.selectedCreditDebitTreatementsId = null;
        this.preventMultiple = false;
        this.debtIgnoreNote = "";
        this.ignoreDebt = false;
        this.customerList = new Array();
        this.treatmentTypes = new Array();
        this.categories = new Array();
        this.operations = new Array();
        this.selectedOperation = new Operations();
        this.appliedOperations = new Array();
        this.colorScales = new Array();
        this.colorScaleFilteredList = new Array();
        this.technicians = new Array();
        this.doctorList = new Array();
        this.selectedDoctor = new DoctorListData();
        var loggedInDoctor = JSON.parse(localStorage["loggedInDoctor"] || null);
        this.collector =
            loggedInDoctor["firstname"] + " " + loggedInDoctor["lastname"];
    }
    TreatmentsComponent.prototype.getItemKeys = function (item) {
        return Object.keys(item);
    };
    TreatmentsComponent.prototype.onInvoiceprintPopupShow = function () {
        var _this = this;
        this.showInvoicePrintPopup = !this.showInvoicePrintPopup;
        setTimeout(function () {
            _this.invoiceGrid.instance.selectAll();
        }, 100);
    };
    TreatmentsComponent.prototype.onInvoiceDataPrepare = function (e) {
        console.log('e.selectedRowsData', e.selectedRowsData);
        var invoiceData = e.selectedRowsData.slice();
        this.invoiceData = invoiceData.filter(function (x) { return x.TotalPrice > 0; });
        var sum = !!this.sale ? 0 - this.sale : 0;
        invoiceData.forEach(function (x) { return sum += x.TotalPrice; });
        var order = 0;
        var dateTime = __WEBPACK_IMPORTED_MODULE_4_moment__().format("YYYYMMDDHHmmss").toString();
        var mappedInvoiceData = invoiceData.map(function (x) {
            order++;
            return {
                StartString: "S,1,______,_,__",
                Opration: x.Operation,
                Price: x.Price,
                Quantity: x.Quantity,
                Stand: 1,
                ArticleGroup: 1,
                TaxGroup: 1,
                Zero: 0,
                PluCode: dateTime + (order < 10 ? '0' + order : order),
                Discount: 0,
                Semicolon: ""
            };
        });
        this.invoiceDataToPrint = mappedInvoiceData.slice();
        var sumTxt = parseFloat(sum.toString()).toFixed(2).toString();
        this.invoiceData.sum = sumTxt;
        if (this.sale)
            this.invoiceDataToPrint.push({ C: "C,1,______,_,__;0;0;" + -this.sale + ";" });
        this.invoiceDataToPrint.push({ Q: "Q,1,______,_,__;1;Ju Faleminderit!" });
        this.invoiceDataToPrint.push({ Q: "Q,1,______,_,__;2;Tesekkur Ederiz!" });
        if (this.sale) {
            this.invoiceDataToPrint.push({ Q: "T,1,______,_,__;" });
        }
        else {
            this.invoiceDataToPrint.push({ Q: "T,1,______,_,__;0;" + sumTxt });
        }
    };
    TreatmentsComponent.prototype.onInvoicePrint = function (e) {
        var treatmentsDetails = { treatmentsDetails: this.invoiceData.map(function (x) { return x.Id; }) };
        this._treatmentsService.postProcessedTreatmentsInovice(treatmentsDetails).subscribe();
        var time = __WEBPACK_IMPORTED_MODULE_4_moment__(new Date()).format("HHmmss").toString();
        new __WEBPACK_IMPORTED_MODULE_8__utils_invoice_generator__["a" /* InvoiceGenerator */](this.invoiceDataToPrint, "invoice-" + time, { fieldSeparator: ';' });
        if (this.makeCopyOfInvoice)
            new __WEBPACK_IMPORTED_MODULE_8__utils_invoice_generator__["a" /* InvoiceGenerator */]([{ Copy: "V,1,______,_,__;m1" }], "invoicecopy-" + time, { fieldSeparator: ';' });
        this.showInvoicePrintPopup = false;
        e.event.stopPropagation();
    };
    TreatmentsComponent.prototype.getEditDebtAdvanceBtnText = function () {
        return this.enableEditTotalDebAdvance
            ? "Save " + (this.totalPaymentsResult && this.totalPaymentsResult > 0
                ? "Advance"
                : "Debt")
            : "Edit " + (this.totalPaymentsResult && this.totalPaymentsResult > 0
                ? "Advance"
                : "Debt");
    };
    TreatmentsComponent.prototype.editDebtAdvance = function () {
        if (this.enableEditTotalDebAdvance &&
            this.totalPaymentsResultClone !== this.totalPaymentsResult) {
            this.editTotalDebtAdvancePopupVisible = true;
            this.editDebtAdvanceClicked = true;
        }
        else {
            this.enableEditTotalDebAdvance = !this.enableEditTotalDebAdvance;
            this.totalPaymentsResult = this.totalPaymentsResultClone;
        }
    };
    TreatmentsComponent.prototype.onDebtAdvanceUpdate = function () {
        var _this = this;
        var params = {
            CustomerId: this.selectedCustomerID,
            TotalDebt: this.totalPaymentsResult
        };
        this._treatmentsService.debtUpdate(params).subscribe(function (response) {
            if (response) {
                _this.totalPaymentsResultClone = _this.totalPaymentsResult;
                _this.editTotalDebtAdvancePopupVisible = false;
                _this.enableEditTotalDebAdvance = false;
            }
            else {
                _this.toasterMessage("Error Occured!", "error");
                _this.resetDebtAdvanceEdit();
            }
        }, function (error) { return _this.toasterMessage("Error Occured!", "error"); });
    };
    TreatmentsComponent.prototype.resetDebtAdvanceEdit = function () {
        this.editTotalDebtAdvancePopupVisible = false;
        this.enableEditTotalDebAdvance = false;
        this.totalPaymentsResult = this.totalPaymentsResultClone;
    };
    TreatmentsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.sub = this.route.queryParams.subscribe(function (params) {
            if (params &&
                Object.keys(params).length &&
                params.hasOwnProperty("AppointmentID")) {
                _this.getCustomers("Appointment", +params.CustomerID, +params.AppointmentID);
            }
            else if (params &&
                Object.keys(params).length &&
                params.hasOwnProperty("TreatmentID")) {
                _this.getCustomers("Treatment", +params.CustomerID, +params.TreatmentID);
            }
            else {
                _this.getCustomers();
            }
            _this.getDoctors(+params.DoctorID);
        });
        this.sale.toFixed(2);
        this._treatmentsService.getTechsAndColorScale().subscribe(function (data) {
            _this.colorScales = data['colorScales'];
            _this.technicians = data['technicians'];
        });
        this._treatmentsService.getOperations().subscribe(function (data) {
            _this.categories = data["categoryList"];
            _this.categories.forEach(function (category) { return (category.title = category.description); });
            _this.operations = data["operationsList"];
            _this.categories.forEach(function (item, index) {
                item["template"] = item.description;
                _this["operations" + index] = _this.operations
                    .filter(function (x) { return x.categoryID === item.id; })
                    .map(function (y) { return y.operationName; });
            });
        }, function (error) { return _this.toasterMessage("Error Occured!", "error"); });
    };
    TreatmentsComponent.prototype.getCustomers = function (isFrom, customerId, appointmentOrTreatmentId) {
        var _this = this;
        this.isLoading = true;
        this.getCustomerByID(customerId).subscribe(function (response) {
            _this.isLoading = false;
            _this.customerList = response;
            _this.customerList.forEach(function (x) {
                x.firstLastName = x.firstname + " " + x.lastname + " | " + x.tel;
            });
            if (["Appointment", "Treatment"].includes(isFrom)) {
                var customer = _this.customerList.filter(function (x) { return x.id === customerId; })[0];
                _this.selectedCustomerID = customer["id"];
                _this.value = customer["firstLastName"];
                if (isFrom === "Appointment") {
                    _this.appointmentID = appointmentOrTreatmentId;
                    _this.getTreatmants(null, appointmentOrTreatmentId);
                }
                else {
                    _this.treatmentID = appointmentOrTreatmentId;
                    _this.getTreatmants(appointmentOrTreatmentId, null);
                }
            }
        });
    };
    TreatmentsComponent.prototype.getCustomerByID = function (CustomerID) {
        var param = { CustomerID: CustomerID };
        return this._appointmentService.getCustomerByID(param);
    };
    TreatmentsComponent.prototype.getDoctors = function (doctorID) {
        var _this = this;
        var param = {
            Action: "GETDOCTORLIST"
        };
        this._appointmentService.getDoctors(param).subscribe(function (data) {
            _this.doctorList = data["doctorListData"];
            _this.selectedDoctor = _this.doctorList.filter(function (dr) { return dr.id === doctorID; })[0];
        }, function (error) { return _this.toasterMessage("Error Getting Doctors!", "error"); });
    };
    TreatmentsComponent.prototype.selectDr = function (e) {
        this.selectedDoctor = this.doctorList.filter(function (x) { return x.id == e.value; })[0];
    };
    TreatmentsComponent.prototype.disableCollected1 = function () {
        if (this.allowDrToMakePayment) {
            return !this.isPending;
        }
        else {
            if (this.isDoctor) {
                return true;
            }
            else {
                return !this.isPending;
            }
        }
    };
    // calcTotalFromCreditDebit() {
    //   let total = 0
    //   this.customerDebitDataList.forEach(item => {
    //     total += (item['Debt'] + item['Advance']);
    //   });
    //   this.totalOperationsPriceFinal = this.totalOperationsPriceFinal + total;
    //   this.totalOperationsPriceLabel = 'Total: ' + (this.totalOperationsPriceFinal).toFixed(2);
    //   debugger;
    // }
    TreatmentsComponent.prototype.getTreatmants = function (TreatmentID, AppointmentID) {
        var _this = this;
        var params = {
            TreatmentID: this.treatmentID,
            AppointmentID: AppointmentID
        };
        this.isLoading = true;
        this._treatmentsService.getTreatmants(params).subscribe(function (data) {
            _this.isLoading = false;
            if (data["treatmentList"] && data["treatmentList"].length) {
                _this.treatmentID = data["treatmentList"][0]["id"];
                _this.selectedCustomerID = data["treatmentList"][0]["customerId"];
                var drName = data["treatmentList"][0]["doctor"];
                _this.sale = data["treatmentList"][0]["saleAmount"];
                _this.comment = data["treatmentList"][0]["note"];
                _this.isPending = data["treatmentList"][0]["isPending"];
                _this.collected = data["treatmentList"][0]["collectedPrice"] || 0;
            }
            var treatmentDetailsList = data["treatmentDetailsList"];
            _this.appliedOperations = treatmentDetailsList.map(function (item) {
                var obj = {
                    Id: item["id"],
                    Doctor: drName,
                    OperationID: item["operationId"],
                    Operation: item["operationName"],
                    Price: item["price"],
                    Teeth: item["teethNo"],
                    Quantity: item["quantity"],
                    TotalPrice: item["quantity"] * item["price"],
                    ColorScale: item["colorScale"],
                    Technician: item["technicianName"],
                    ColorScaleId: item["colorScaleId"],
                    TechnicianId: item["technicianId"],
                };
                return obj;
            });
            treatmentDetailsList.forEach(function (appliedOperation) {
                return (_this.totalOperationsPrice +=
                    appliedOperation["quantity"] * appliedOperation["price"]);
            });
            _this.totalOperationsPriceFinal = _this.totalOperationsPrice - _this.sale;
            _this.totalOperationsPriceLabel =
                "Total: " + _this.totalOperationsPriceFinal.toFixed(2);
            _this.getCustomerDebits();
            _this.invoiceData = _this.appliedOperations;
        }, function (error) { return _this.toasterMessage("Error Getting Treatments!", "error"); });
    };
    TreatmentsComponent.prototype.onDebitDetailDeleting = function (e) {
        var _this = this;
        var id = +e.key.id || +e.key;
        var param = {
            ID: id
        };
        this._treatmentsService.debitDetailsDelete(param).subscribe(function (reponse) {
            _this.collected2 = 0;
            _this.getCustomerDebits();
            // let total = e.key['Debt'] + e.key['Advance'];
            // this.totalOperationsPriceFinal = this.totalOperationsPriceFinal - total;
            // this.totalOperationsPriceLabel = 'Total: ' + (this.totalOperationsPriceFinal).toFixed(2);
        }, function (error) { return _this.toasterMessage("Error Getting Treatments!", "error"); });
    };
    TreatmentsComponent.prototype.selectCustomer = function (customer) {
        // TODO add after customerselect getTreatments()
        this.selectedCustomerID = customer.id || 0;
    };
    TreatmentsComponent.prototype.onItemClick = function (e, categoryDescription) {
        var component = e.component, prevClickTime = component.lastClickTime;
        component.lastClickTime = new Date();
        if (prevClickTime && component.lastClickTime - prevClickTime < 300) {
            //Double click code
            var categoryID_1 = this.categories.filter(function (item) { return item.description.trim() === categoryDescription.trim(); })[0].id;
            this.selectedOperation = this.operations.filter(function (operation) {
                return operation.categoryID === categoryID_1 &&
                    operation.operationName === e.itemData;
            })[0];
            this.singleTime = true;
            if (!this.selectedOperation.isTeethBased && !this.selectedOperation.showColorScale && !this.selectedOperation.showTechnicians) {
                this.popupVisible = false;
                this.addToAppliedOperationsArray(false);
            }
            else {
                this.popupVisible = true;
            }
            console.log("double click");
        }
        // else {
        //     //Single click code
        //     console.log('single click');
        // }
    };
    TreatmentsComponent.prototype.selectTeeth = function (e) {
        if (this.singleTime) {
            if (this.selectedOperation.isTeethBased) {
                this.teethNumbers = this.teethNumberElem.nativeElement.value;
                var isValid = /^[0-9,]*$/.test(this.teethNumbers);
                if (isValid) {
                    var isNotInRange = this.teethNumbers
                        .split(",")
                        .some(function (teethNr) { return +teethNr > 99 || +teethNr < 1; });
                    if (isNotInRange) {
                        this.toasterMessage("Please Type Valid Teeth Numbers!", "info");
                        return;
                    }
                }
                if (!isValid || !this.teethNumbers || !this.teethNumbers.trim()) {
                    this.toasterMessage("Please Type Valid Teeth Numbers!", "info");
                    return;
                }
            }
            this.addToAppliedOperationsArray(true);
        }
        this.singleTime = false;
    };
    TreatmentsComponent.prototype.addToAppliedOperationsArray = function (isTeethBased) {
        var _this = this;
        var obj = new AppliedOperations();
        obj.Doctor = this.selectedDoctor.initial;
        obj.Operation = this.selectedOperation.operationName;
        obj.OperationID = this.selectedOperation.operationID;
        obj.Price = this.selectedOperation.price;
        obj.Teeth = this.selectedOperation.isTeethBased ? this.teethNumbers : "";
        obj.Quantity = this.selectedOperation.isTeethBased ? this.quantity : 1;
        obj.TotalPrice = this.selectedOperation.price * this.quantity;
        obj.TechnicianId = this.selectedOperation.showTechnicians ? this.selectedTechnician.id || 0 : 0;
        obj.Technician = this.selectedOperation.showTechnicians ? this.selectedTechnician.value || "" : "";
        obj.ColorScale = this.selectedOperation.showColorScale ? this.selectedColorScale.value || "" : "";
        obj.ColorScaleId = this.selectedOperation.showColorScale ? this.selectedColorScale.id || 0 : 0;
        this.appliedOperations.push(obj);
        this.totalOperationsPrice = 0;
        this.appliedOperations.forEach(function (appliedOperation) {
            return (_this.totalOperationsPrice += appliedOperation.TotalPrice);
        });
        this.totalOperationsPriceFinal = this.totalOperationsPrice - this.sale;
        this.popupVisible = false;
        this.totalOperationsPriceLabel =
            "Total: " + this.totalOperationsPriceFinal.toFixed(2);
        this.quantity = 1;
    };
    TreatmentsComponent.prototype.onPopupHiding = function (e) {
        var _this = this;
        setTimeout(function () {
            _this.resetTechnicianFields();
        }, 500);
        if (this.selectedOperation.isTeethBased) {
            this.teethNumberElem.nativeElement.value = "";
        }
    };
    TreatmentsComponent.prototype.resetTechnicianFields = function () {
        this.selectedColorScale = null;
        this.selectedTechnician = null;
        this.selectedColorScaleGroup = null;
        this.techniciansSelectBox.instance.reset();
        this.colorScaleSelectBox.instance.reset();
        this.colorScaleRadioGroup.instance.reset();
    };
    TreatmentsComponent.prototype.calcSale = function (e) {
        var appliedOperationsTotalPrice = this.appliedOperations.reduce(function (a, b) { return (a + b['TotalPrice']); }, 0);
        this.sale = +e;
        this.sale.toFixed(2);
        this.totalOperationsPriceLabel =
            "Total: " + (appliedOperationsTotalPrice - +e).toFixed(2);
    };
    TreatmentsComponent.prototype.calcCollected = function (e) { };
    TreatmentsComponent.prototype.onTreatmentDetailDeleting = function (event) {
        var appliedOperationsTotalPrice = this.appliedOperations.reduce(function (a, b) { return (a + b['TotalPrice']); }, 0);
        var selectedTreatmentDetailTotalPrice = event.data.Price * event.data.Quantity;
        this.totalOperationsPriceFinal =
            appliedOperationsTotalPrice -
                selectedTreatmentDetailTotalPrice -
                this.sale;
        this.totalOperationsPriceLabel = "Total: " + this.totalOperationsPriceFinal.toFixed(2);
    };
    TreatmentsComponent.prototype.onIncludeDebitOrAdvance = function (choice) {
        if (this.advaceDebtPopupText ===
            "Do you want to save the debt / advance to register ?") {
            this.includeDebit = choice;
            this.creditDebitPopupVisible = false;
            this.saveTreatments(true);
        }
        else {
            if (choice) {
                // Hem avans kullan hem borc
                if (this.totalPaymentsResult > 0 &&
                    this.totalPaymentsResult + this.collected <
                        this.totalOperationsPriceFinal) {
                    this.extractAmountFromAdvance = this.totalPaymentsResult;
                    this.useAdvanceFromAccount = true;
                    this.includeDebit = true;
                    this.saveTreatments(true);
                    // Borca gerek yok
                }
                else if (this.totalPaymentsResult > 0 &&
                    this.totalOperationsPriceFinal > this.collected &&
                    this.totalOperationsPriceFinal - this.collected <=
                        this.totalPaymentsResult) {
                    this.includeDebit = false;
                    this.extractAmountFromAdvance =
                        this.totalOperationsPriceFinal - this.collected;
                    this.useAdvanceFromAccount = true;
                    this.saveTreatments(true);
                }
                // else if (this.totalPaymentsResult > 0 && this.totalOperationsPriceFinal - this.collected > this.totalPaymentsResult) {
                //   this.includeDebit = true;
                //   this.extractAmountFromAdvance = this.totalOperationsPriceFinal - this.collected - this.totalPaymentsResult;
                //   this.useAdvanceFromAccount = true;
                //   this.saveTreatments(true)
                // }
            }
            this.creditDebitPopupVisible = false;
        }
    };
    TreatmentsComponent.prototype.saveTreatments = function (dontCheckForCollectedDiff) {
        var _this = this;
        if (this.preventSecond) {
            if (!dontCheckForCollectedDiff && !this.isDoctor) {
                if ((this.totalOperationsPriceFinal - this.sale) !== this.collected) {
                    this.creditDebitPopupVisible = true;
                    if (this.collected - this.totalOperationsPriceFinal < 0 &&
                        this.totalPaymentsResult > 0) {
                        this.advaceDebtPopupText =
                            "Do you want to include advance to payment ?";
                    }
                    else {
                        this.advaceDebtPopupText =
                            "Do you want to save the debt / advance to register ?";
                    }
                    return;
                }
            }
            // this condotion is if Doctor is allowed to make a payment
            if (this.isDoctor &&
                this.allowDrToMakePayment &&
                !dontCheckForCollectedDiff) {
                if ((this.totalOperationsPriceFinal - this.sale) !== this.collected) {
                    this.creditDebitPopupVisible = true;
                    if (this.collected - this.totalOperationsPriceFinal < 0 &&
                        this.totalPaymentsResult > 0) {
                        this.advaceDebtPopupText =
                            "Do you want to include advance to payment ?";
                    }
                    else {
                        this.advaceDebtPopupText =
                            "Do you want to save the debt / advance to register ?";
                    }
                    return;
                }
            }
            // let obj = new AppliedOperations();
            // obj.OperationDateTime = new Date().toDateString().toString();
            // obj.Doctor = 'test';
            // obj.Operation = this.selectedOperation.OperationName;
            // obj.OperationID = this.selectedOperation.OperationID;
            // obj.Price = this.selectedOperation.Price;
            // obj.Teeth = this.teethNumbers;
            // this.appliedOperations.push(obj);
            var TreatmentDetailsList = this.appliedOperations.map(function (item) {
                var obj = {
                    OperationId: item.OperationID,
                    TeethNo: item.Teeth,
                    Quantity: item.Quantity,
                    TechnicianId: item.TechnicianId,
                    ColorScaleId: item.ColorScaleId
                };
                return obj;
            });
            var params = {
                TreatmentID: this.treatmentID || 0,
                AppointmentID: this.appointmentID || 0,
                CustomerId: this.selectedCustomerID || 0,
                DoctorInChair: this.selectedDoctor.id,
                TotalPrice: this.totalOperationsPrice,
                SaleAmount: this.sale,
                FinalPrice: this.totalOperationsPrice - this.sale,
                Note: this.comment,
                PaymentDate: this.paymentDate,
                Date: new Date(),
                CollectedPrice: this.collected,
                DoctorName: this.collector,
                IncludeDebt: this.includeDebit,
                UseAdvanceFromAccount: this.useAdvanceFromAccount,
                ExtractAmountFromAdvance: this.extractAmountFromAdvance,
                ExtractAdvanceNote: this.collector,
                TreatmentDetailsList: TreatmentDetailsList,
                IsAssistant: JSON.parse(localStorage["loggedInDoctor"])["title"] === "ASSIST."
            };
            this._treatmentsService.treatmentsInsertUpdate(params).subscribe(function (data) {
                _this.router.navigate(["/appointment"]);
            });
            this.preventSecond = false;
        }
    };
    TreatmentsComponent.prototype.getCustomerDebits = function () {
        var _this = this;
        this.customerDebitDataList = [];
        var param = {
            CustomerId: this.selectedCustomerID
        };
        this.isLoading = true;
        this._treatmentsService.getCustomerDebits(param).subscribe(function (response) {
            _this.isLoading = false;
            var customerDebtData = response["customerDebtData"];
            _this.totalPaymentsResult =
                customerDebtData && customerDebtData["totalDebt"]
                    ? customerDebtData["totalDebt"]
                    : 0;
            _this.totalPaymentsResultClone = _this.totalPaymentsResult;
            var customerDebitDataList = response["customerDebitDataList"];
            // const name = customerDebtData['firstname'] + ' ' + customerDebtData['lastname']
            // const tel = customerDebtData['tel'];
            if (customerDebitDataList) {
                customerDebitDataList.forEach(function (item) {
                    var childList = customerDebitDataList
                        .filter(function (x) { return x["parentId"] === item["id"]; })
                        .map(function (y) {
                        var obj = {
                            Collector: y["note"],
                            Amount: y["debtAmount"],
                            Date: y["date"],
                            Doctor: y["doctor"],
                            id: y["id"],
                            IsIgnored: y["isIgnored"] ? "Yes" : "No",
                            IgnoranceNote: y["ignoranceNote"]
                        };
                        return obj;
                    });
                    if (!item["parentId"]) {
                        var obj = {
                            Collector: item["note"],
                            Date: item["date"],
                            isDebt: item["isDebt"],
                            Fulfilled: item['isFulfilled'],
                            // Amount: item['debtAmount'],
                            Amount: item["isDebt"] ? -item["debtAmount"] : item["debtAmount"],
                            // Advance: !item['isDebt'] ? item['debtAmount'] : 0,
                            id: item["id"],
                            parentId: item["parentId"],
                            Doctor: item["doctor"],
                            treatementsId: item["treatementsId"],
                            childList: childList
                        };
                        _this.customerDebitDataList.push(obj);
                    }
                });
            }
            // this.calcTotalFromCreditDebit();
        });
    };
    TreatmentsComponent.prototype.isFulFilledvalue = function (rowData) {
        return rowData.Fulfilled;
    };
    TreatmentsComponent.prototype.onDebitDetailSelect = function (e) {
        this.selectedCreditDebitID = e.key;
        this.selectedCreditDebitTreatementsId = e.data.treatementsId;
    };
    TreatmentsComponent.prototype.onRowPrepared = function (info) {
        if (info.rowType === "data") {
            if (info.data.parentId)
                info.rowElement.classList.add("nineteenthcentury");
        }
    };
    TreatmentsComponent.prototype.insertCreditDebit = function () {
        var _this = this;
        if (!this.preventMultiple) {
            var selectedCreditDebit = this.customerDebitDataList.filter(function (x) { return x.id === _this.selectedCreditDebitID; })[0];
            var params = {
                Id: 0,
                CustomerId: this.selectedCustomerID,
                Date: this.paymentDate,
                Note: selectedCreditDebit["Collector"],
                DebtAmount: this.collected2,
                IsDebt: false,
                ParentId: selectedCreditDebit["id"],
                TreatmentId: this.selectedCreditDebitTreatementsId || null,
                IsIgnored: this.ignoreDebt,
                IgnoranceNote: this.debtIgnoreNote
            };
            this.preventMultiple = true;
            this.isLoading = true;
            this._treatmentsService
                .debitDetailsInsertUpdate(params)
                .subscribe(function (response) {
                _this.isLoading = false;
                _this.preventMultiple = false;
                _this.collected2 = 0;
                _this.getCustomerDebits();
            });
        }
    };
    TreatmentsComponent.prototype.onTeethNumberType = function (event) {
        var targetValue = event.target.value;
        var isValid = /^[0-9,]*$/.test(targetValue);
        if (isValid) {
            this.quantity = targetValue.split(",").filter(function (x) { return x; }).length;
            if (this.quantity === 0) {
                this.quantity = 1;
            }
        }
    };
    TreatmentsComponent.prototype.onColorScaleGroupValueChanged = function (e) {
        this.colorScaleFilteredList = this.colorScales.filter(function (x) { return x.category == e.value; });
    };
    TreatmentsComponent.prototype.onColorScaleSelect = function (e) {
        this.selectedColorScale = this.colorScales.filter(function (x) { return x.id == e.value; })[0];
    };
    TreatmentsComponent.prototype.onTechnicianSelect = function (e) {
        this.selectedTechnician = this.technicians.filter(function (x) { return x.id == e.value; })[0];
    };
    TreatmentsComponent.prototype.disableSaveBtn = function () {
        var _this = this;
        if (!this.ignoreDebt) {
            var sumOfChildListAmount_1 = 0;
            var selectedCreditDebit = this.customerDebitDataList.filter(function (x) { return x.id === _this.selectedCreditDebitID; })[0];
            if (selectedCreditDebit &&
                selectedCreditDebit.hasOwnProperty("childList") &&
                selectedCreditDebit["childList"] &&
                selectedCreditDebit["childList"].length) {
                selectedCreditDebit["childList"].forEach(function (item) { return (sumOfChildListAmount_1 += item["debtAmount"]); });
            }
            return (!this.selectedCustomerID ||
                !this.collected2 ||
                (selectedCreditDebit &&
                    selectedCreditDebit["isDebt"] &&
                    this.collected2 >
                        Math.abs(selectedCreditDebit["Debt"]) - sumOfChildListAmount_1));
        }
        else {
            return !this.ignoreDebt || this.selectedCreditDebitID === -1;
        }
    };
    TreatmentsComponent.prototype.toasterMessage = function (message, type) {
        // The message's type: "info", "warning", "error" or "success"
        __WEBPACK_IMPORTED_MODULE_3_devextreme_ui_notify___default()({
            message: message,
            position: {
                my: "center top",
                at: "center top"
            }
        }, type, 3000);
    };
    TreatmentsComponent.prototype.ngOnDestroy = function () {
        this.sub.unsubscribe();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("teethNr"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], TreatmentsComponent.prototype, "teethNumberElem", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("customerInputRef"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], TreatmentsComponent.prototype, "customerInputElem", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("teethPopup"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_6_devextreme_angular__["DxPopupComponent"])
    ], TreatmentsComponent.prototype, "dxPopup", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("techniciansSelectBox"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_6_devextreme_angular__["DxSelectBoxComponent"])
    ], TreatmentsComponent.prototype, "techniciansSelectBox", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("colorScaleSelectBox"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_6_devextreme_angular__["DxSelectBoxComponent"])
    ], TreatmentsComponent.prototype, "colorScaleSelectBox", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("colorScaleRadioGroup"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_6_devextreme_angular__["DxRadioGroupComponent"])
    ], TreatmentsComponent.prototype, "colorScaleRadioGroup", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("invoiceGrid"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_6_devextreme_angular__["DxDataGridComponent"])
    ], TreatmentsComponent.prototype, "invoiceGrid", void 0);
    TreatmentsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: "app-treatments",
            template: __webpack_require__("./src/app/treatments/treatments.component.html"),
            styles: [__webpack_require__("./src/app/treatments/treatments.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__appointment_scheduler_appointment_scheduler_service__["a" /* AppointmentSchedulerService */],
            __WEBPACK_IMPORTED_MODULE_2__treatments_service__["a" /* TreatmentsService */],
            __WEBPACK_IMPORTED_MODULE_5__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_5__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_7__angular_common_http__["HttpClient"]])
    ], TreatmentsComponent);
    return TreatmentsComponent;
}());



/***/ }),

/***/ "./src/app/treatments/treatments.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TreatmentsService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var TreatmentsService = (function () {
    function TreatmentsService(http) {
        this.http = http;
        // apiUrl = 'http://localhost:55762/api/core/';
        this.apiUrl = 'http://aristoapi.gearhostpreview.com/api/core/';
    }
    TreatmentsService.prototype.getOperations = function () {
        return this.http.get(this.apiUrl + "GetOperations", { headers: this.getAuthorizationHeader() });
    };
    TreatmentsService.prototype.getTreatmants = function (data) {
        var queryParams = this.serializeObject(data);
        return this.http.get(this.apiUrl + "GetTreatmants?" + queryParams, { headers: this.getAuthorizationHeader() });
    };
    TreatmentsService.prototype.treatmentsInsertUpdate = function (data) {
        var queryParams = this.serializeObject(data);
        return this.http.post(this.apiUrl + "TreatmentsInsertUpdate", data, { headers: this.getAuthorizationHeader() });
    };
    TreatmentsService.prototype.treatmentOffersInsertUpdate = function (data) {
        return this.http.post(this.apiUrl + "TreatmentOffersInsertUpdate", data, { headers: this.getAuthorizationHeader() });
    };
    TreatmentsService.prototype.getTreatmentOffers = function (data) {
        var queryParams = this.serializeObject(data);
        return this.http.get(this.apiUrl + "GetTreatmentOffers?" + queryParams, { headers: this.getAuthorizationHeader() });
    };
    TreatmentsService.prototype.getTreatmentOffersByCustomerId = function (data) {
        var queryParams = this.serializeObject(data);
        return this.http.get(this.apiUrl + "GetTreatmentOffersByCustomerId?" + queryParams, { headers: this.getAuthorizationHeader() });
    };
    // treatmentDelete(data) {
    //   let queryParams = this.serializeObject(data);
    //   return this.http.get(this.apiUrl + 'TreatmentDelete', data);
    // }
    TreatmentsService.prototype.treatmentDelete = function (data) {
        var queryParams = this.serializeObject(data);
        return this.http.get(this.apiUrl + "TreatmentDelete?" + queryParams, { headers: this.getAuthorizationHeader() });
    };
    TreatmentsService.prototype.getTreatmentsByCustomerId = function (data) {
        var queryParams = this.serializeObject(data);
        return this.http.get(this.apiUrl + "GetTreatmentsByCustomerId?" + queryParams, { headers: this.getAuthorizationHeader() });
    };
    TreatmentsService.prototype.getCustomerDebits = function (data) {
        var queryParams = this.serializeObject(data);
        return this.http.get(this.apiUrl + "GetCustomerDebits?" + queryParams, { headers: this.getAuthorizationHeader() });
    };
    TreatmentsService.prototype.debitDetailsDelete = function (data) {
        var queryParams = this.serializeObject(data);
        return this.http.post(this.apiUrl + "DebitDetailsDelete?" + queryParams, data, { headers: this.getAuthorizationHeader() });
    };
    TreatmentsService.prototype.debitDetailsInsertUpdate = function (data) {
        return this.http.post(this.apiUrl + "DebitDetailsInsertUpdate", data, { headers: this.getAuthorizationHeader() });
    };
    TreatmentsService.prototype.treatmentPendingChange = function (data) {
        var queryParams = this.serializeObject(data);
        return this.http.post(this.apiUrl + "TreatmentPendingChange?" + queryParams, data, { headers: this.getAuthorizationHeader() });
    };
    TreatmentsService.prototype.getCustomerByID = function (data) {
        var queryParams = this.serializeObject(data);
        return this.http.get(this.apiUrl + "GetCustomerByID?" + queryParams, { headers: this.getAuthorizationHeader() });
    };
    TreatmentsService.prototype.getTechsAndColorScale = function () {
        return this.http.get(this.apiUrl + "GetTechsAndColorScale", { headers: this.getAuthorizationHeader() });
    };
    TreatmentsService.prototype.debtUpdate = function (data) {
        var queryParams = this.serializeObject(data);
        return this.http.post(this.apiUrl + "DebtUpdate?" + queryParams, data, { headers: this.getAuthorizationHeader() });
    };
    TreatmentsService.prototype.postProcessedTreatmentsInovice = function (data) {
        var queryParams = this.serializeObject(data);
        return this.http.post(this.apiUrl + "TreatmentDetailProcess", data, { headers: this.getAuthorizationHeader() });
    };
    TreatmentsService.prototype.serializeObject = function (obj) {
        var str = [];
        for (var p in obj) {
            if (obj.hasOwnProperty(p)) {
                str.push(p + "=" + obj[p]);
            }
        }
        return str.join("&");
    };
    TreatmentsService.prototype.getAuthorizationHeader = function () {
        var cred = localStorage.getItem('creds');
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["HttpHeaders"]();
        if (cred) {
            headers = headers.set("Authorization", cred);
        }
        return headers;
    };
    TreatmentsService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_common_http__["HttpClient"]])
    ], TreatmentsService);
    return TreatmentsService;
}());



/***/ }),

/***/ "./src/app/utils/invoice-generator.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export TxtConfigConsts */
/* unused harmony export ConfigDefaults */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return InvoiceGenerator; });
var TxtConfigConsts = (function () {
    function TxtConfigConsts() {
    }
    TxtConfigConsts.EOL = "\r\n";
    TxtConfigConsts.BOM = "\ufeff";
    TxtConfigConsts.DEFAULT_FIELD_SEPARATOR = ',';
    TxtConfigConsts.DEFAULT_DECIMAL_SEPARATOR = '.';
    TxtConfigConsts.DEFAULT_QUOTE = '';
    TxtConfigConsts.DEFAULT_SHOW_TITLE = false;
    TxtConfigConsts.DEFAULT_TITLE = 'My Report';
    TxtConfigConsts.DEFAULT_FILENAME = 'mytest.txt';
    TxtConfigConsts.DEFAULT_SHOW_LABELS = false;
    TxtConfigConsts.DEFAULT_USE_BOM = false;
    TxtConfigConsts.DEFAULT_HEADER = [];
    return TxtConfigConsts;
}());

var ConfigDefaults = {
    filename: TxtConfigConsts.DEFAULT_FILENAME,
    fieldSeparator: TxtConfigConsts.DEFAULT_FIELD_SEPARATOR,
    quoteStrings: TxtConfigConsts.DEFAULT_QUOTE,
    decimalseparator: TxtConfigConsts.DEFAULT_DECIMAL_SEPARATOR,
    showLabels: TxtConfigConsts.DEFAULT_SHOW_LABELS,
    showTitle: TxtConfigConsts.DEFAULT_SHOW_TITLE,
    title: TxtConfigConsts.DEFAULT_TITLE,
    useBom: TxtConfigConsts.DEFAULT_USE_BOM,
    headers: TxtConfigConsts.DEFAULT_HEADER
};
var InvoiceGenerator = (function () {
    function InvoiceGenerator(DataJSON, filename, options) {
        this.txt = "";
        var config = options || {};
        this.data = typeof DataJSON != 'object' ? JSON.parse(DataJSON) : DataJSON;
        this._options = objectAssign({}, ConfigDefaults, config);
        if (this._options.filename) {
            this._options.filename = filename;
        }
        this.generateTxt();
    }
    /**
     * Generate and Download Txt
     */
    InvoiceGenerator.prototype.generateTxt = function () {
        if (this._options.useBom) {
            this.txt += TxtConfigConsts.BOM;
        }
        if (this._options.showTitle) {
            this.txt += this._options.title + '\r\n\n';
        }
        this.getHeaders();
        this.getBody();
        if (this.txt == '') {
            console.log("Invalid data");
            return;
        }
        var blob = new Blob([this.txt], { "type": "text/plain;charset=utf8;" });
        if (navigator.msSaveBlob) {
            var filename = this._options.filename.replace(/ /g, "_") + ".inp";
            navigator.msSaveBlob(blob, filename);
        }
        else {
            var uri = 'data:attachment/txt;charset=utf-8,' + encodeURI(this.txt);
            var link = document.createElement("a");
            link.href = URL.createObjectURL(blob);
            link.setAttribute('visibility', 'hidden');
            link.download = this._options.filename.replace(/ /g, "_") + ".inp";
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
    };
    /**
     * Create Headers
     */
    InvoiceGenerator.prototype.getHeaders = function () {
        if (this._options.headers.length > 0) {
            var row = "";
            for (var _i = 0, _a = this._options.headers; _i < _a.length; _i++) {
                var column = _a[_i];
                row += column + this._options.fieldSeparator;
            }
            row = row.slice(0, -1);
            this.txt += row + TxtConfigConsts.EOL;
        }
    };
    /**
     * Create Body
     */
    InvoiceGenerator.prototype.getBody = function () {
        for (var i = 0; i < this.data.length; i++) {
            var row = "";
            for (var index in this.data[i]) {
                row += this.formartData(this.data[i][index]) + this._options.fieldSeparator;
                ;
            }
            row = row.slice(0, -1);
            this.txt += row + TxtConfigConsts.EOL;
        }
    };
    /**
     * Format Data
     * @param {any} data
     */
    InvoiceGenerator.prototype.formartData = function (data) {
        if (this._options.decimalseparator === 'locale' && this.isFloat(data)) {
            return data.toLocaleString();
        }
        if (this._options.decimalseparator !== '.' && this.isFloat(data)) {
            return data.toString().replace('.', this._options.decimalseparator);
        }
        if (typeof data === 'string') {
            // data = data.replace(/"/g, '""');
            if (this._options.quoteStrings || data.indexOf(',') > -1 || data.indexOf('\n') > -1 || data.indexOf('\r') > -1) {
                data = this._options.quoteStrings + data + this._options.quoteStrings;
            }
            return data;
        }
        if (typeof data === 'boolean') {
            return data ? 'TRUE' : 'FALSE';
        }
        return data;
    };
    /**
     * Check if is Float
     * @param {any} input
     */
    InvoiceGenerator.prototype.isFloat = function (input) {
        return +input === input && (!isFinite(input) || Boolean(input % 1));
    };
    return InvoiceGenerator;
}());

var hasOwnProperty = Object.prototype.hasOwnProperty;
var propIsEnumerable = Object.prototype.propertyIsEnumerable;
/**
 * Convet to Object
 * @param {any} val
 */
function toObject(val) {
    if (val === null || val === undefined) {
        throw new TypeError('Object.assign cannot be called with null or undefined');
    }
    return Object(val);
}
/**
 * Assign data  to new Object
 * @param {any}   target
 * @param {any[]} ...source
 */
function objectAssign(target) {
    var source = [];
    for (var _i = 1; _i < arguments.length; _i++) {
        source[_i - 1] = arguments[_i];
    }
    var from;
    var to = toObject(target);
    var symbols;
    for (var s = 1; s < arguments.length; s++) {
        from = Object(arguments[s]);
        for (var key in from) {
            if (hasOwnProperty.call(from, key)) {
                to[key] = from[key];
            }
        }
        if (Object.getOwnPropertySymbols) {
            symbols = Object.getOwnPropertySymbols(from);
            for (var i = 0; i < symbols.length; i++) {
                if (propIsEnumerable.call(from, symbols[i])) {
                    to[symbols[i]] = from[symbols[i]];
                }
            }
        }
    }
    return to;
}


/***/ }),

/***/ "./src/environments/environment.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return environment; });
// The file contents for the current environment will overwrite these during build.
// The build system defaults to the dev environment which uses `environment.ts`, but if you do
// `ng build --env=prod` then `environment.prod.ts` will be used instead.
// The list of which env maps to which file can be found in `.angular-cli.json`.
var environment = {
    production: false
};


/***/ }),

/***/ "./src/main.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser_dynamic__ = __webpack_require__("./node_modules/@angular/platform-browser-dynamic/esm5/platform-browser-dynamic.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__app_app_module__ = __webpack_require__("./src/app/app.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__environments_environment__ = __webpack_require__("./src/environments/environment.ts");




if (__WEBPACK_IMPORTED_MODULE_3__environments_environment__["a" /* environment */].production) {
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["enableProdMode"])();
}
Object(__WEBPACK_IMPORTED_MODULE_1__angular_platform_browser_dynamic__["a" /* platformBrowserDynamic */])().bootstrapModule(__WEBPACK_IMPORTED_MODULE_2__app_app_module__["a" /* AppModule */])
    .catch(function (err) { return console.log(err); });


/***/ }),

/***/ 0:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__("./src/main.ts");


/***/ }),

/***/ 1:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2:
/***/ (function(module, exports) {

/* (ignored) */

/***/ })

},[0]);
//# sourceMappingURL=main.bundle.js.map